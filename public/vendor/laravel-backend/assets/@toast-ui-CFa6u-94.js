import{S as Ri,F as D,D as Bi,N as kr,a as le,b as Vs,M as Tr}from"./prosemirror-model-wUWJGGx6.js";import{D as Kr,a as Zr,E as Yr}from"./prosemirror-view-BCbBfpYQ.js";import{c as Hi,R as ut,l as js,S as zs}from"./prosemirror-transform-C-SnnlkV.js";import{P as Pi,E as qi,a as ce,T as Ye,A as $i,S as Je,N as Ws,b as Gs}from"./prosemirror-state-ZXWGzTNx.js";import{k as Jr}from"./prosemirror-keymap-COm4iAV5.js";import{b as Xs,c as Qs,s as Fi,w as Ks,t as ct,e as Zs,a as Ys,d as Js,j as el,n as tl}from"./prosemirror-commands-RKrZ41lz.js";import{I as rl,i as nl}from"./prosemirror-inputrules-DcfD9oNV.js";import{h as _i,r as Ui,u as kt,a as al}from"./prosemirror-history-BvXbu3ii.js";/**
 * @toast-ui/editor
 * @version 3.1.0 | Tue Sep 07 2021
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xr=function(t,e){return xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},xr(t,e)};function T(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xr(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y=function(){return y=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},y.apply(this,arguments)};function Z(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function il(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var Ue=il;function ol(t,e){var r=Object.prototype.hasOwnProperty,n,a,i,o;for(i=1,o=arguments.length;i<o;i+=1){n=arguments[i];for(a in n)r.call(n,a)&&(t[a]=n[a])}return t}var en=ol;function sl(t){return typeof t=="string"||t instanceof String}var pe=sl;function ll(t){return t instanceof Array}var et=ll;function ul(t,e,r){var n=0,a=t.length;for(r=r||null;n<a&&e.call(r,t[n],n,t)!==!1;n+=1);}var Ve=ul,cl=et,vl=Ve,fl=Ue;function dl(t,e,r){cl(t)?vl(t,e,r):fl(t,e,r)}var zt=dl,pl=pe,hl=zt;function ml(t,e,r){var n=t.style;if(pl(e)){n[e]=r;return}hl(e,function(a,i){n[i]=a})}var de=ml,gl=et;function yl(t,e,r){var n,a;if(r=r||0,!gl(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(a=e.length,n=r;r>=0&&n<a;n+=1)if(e[n]===t)return n;return-1}var Ie=yl;function bl(t){return t===void 0}var ue=bl,wl=ue;function Cl(t){return!t||!t.className?"":wl(t.className.baseVal)?t.className:t.className.baseVal}var tn=Cl,kl=et,Tl=ue;function xl(t,e){if(e=kl(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Tl(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var Vi=xl,Rn=zt,El=Ie,Ll=tn,Ml=Vi;function Sl(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],a;if(r){Rn(e,function(i){t.classList.add(i)});return}a=Ll(t),a&&(e=[].concat(a.split(/\s+/),e)),Rn(e,function(i){El(i,n)<0&&n.push(i)}),Ml(t,n)}var fe=Sl,Bn=Ve,Al=Ie,Ol=tn,Il=Vi;function Dl(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,a;if(r){Bn(e,function(i){r.remove(i)});return}n=Ol(t).split(/\s+/),a=[],Bn(n,function(i){Al(i,e)<0&&a.push(i)}),Il(t,a)}var ie=Dl;function Nl(t){return typeof t=="number"||t instanceof Number}var me=Nl;function Rl(t){return t===null}var At=Rl,Bl=Ue;function Hl(t,e){var r=document.createElement("img"),n="";return Bl(e,function(a,i){n+="&"+i+"="+a}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var Pl=Hl,ql=ue,$l=Pl,Fl=7*24*60*60*1e3;function _l(t){var e=new Date().getTime();return e-t>Fl}function Ul(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,a="event",i="use",o="TOAST UI "+t+" for "+n+": Statistics",s=window.localStorage.getItem(o);!ql(window.tui)&&window.tui.usageStatistics===!1||s&&!_l(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&$l(r,{v:1,t:a,tid:e,cid:n,dp:n,dh:t,el:t,ec:i})},1e3))}var Vl=Ul,jl=/[\u0020]+/g,zl=/[>(){}[\]+-.!#|]/g,Hn=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Pn=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Wl=/[*_~`]/g;function Gl(){Vl("editor","UA-129966929-1")}function Y(t,e){return t.indexOf(e)!==-1}var Xl=["rel","target","hreflang","type"],Ql={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function ji(t){if(!t)return null;var e={};return Xl.forEach(function(r){ue(t[r])||(e[r]=t[r])}),e}function Ot(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function Kl(t){var e=!1;return Ue(Ql,function(r){return r.test(t)&&(e=!0),!e}),e}function Tt(t){var e=function(n){return"\\"+n},r=t.replace(jl," ");return Pn.test(r)&&(r=r.replace(Pn,e)),r=r.replace(Wl,e),Hn.test(r)&&(r=r.replace(Hn,e)),Kl(r)&&(r=r.replace(zl,e)),r}function Zl(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function Er(t){return At(t)||ue(t)}function rn(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||Er(t)||Er(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function G(t){return t[t.length-1]}function Yl(t,e,r){return t>=e&&t<=r}function nn(t){return typeof t=="object"&&t!==null}function It(t,e){var r=y({},t);return t&&e&&Object.keys(e).forEach(function(n){nn(r[n])?Array.isArray(e[n])?r[n]=an(e[n]):r.hasOwnProperty(n)?r[n]=It(r[n],e[n]):r[n]=on(e[n]):r[n]=e[n]}),r}function an(t){return t.map(function(e){return nn(e)?Array.isArray(e)?an(e):on(e):e})}function on(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return nn(t[n])?r[n]=Array.isArray(t[n])?an(t[n]):on(t[n]):r[n]=t[n],r},{}):t}function sn(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:sn(t[r],e[r]):t[r]=e[r]}),t}function qn(t,e){return t>e?[e,t]:[t,e]}function Dt(t,e){var r=t.nodes.paragraph;return e?r.create(null,pe(e)?t.text(e):e):r.createAndFill()}function K(t,e,r){return t.text(e,r)}function H(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,a=n>0?n-1:1;return Ye.create(t.doc,Math.min(e,a),Math.min(r,a))}function ln(t,e,r){var n=e.pos;return t.replaceWith(n,n,Dt(r)),t.setSelection(H(t,n+1))}function Nt(t){for(var e=t.state,r=t.from,n=t.startIndex,a=t.endIndex,i=t.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=a;u+=1){var c=s.child(u),v=c.nodeSize,f=c.textContent,p=c.content,d=i(f),h=d?K(l,d):D.empty,m=o.mapping.map(r),g=m+p.size;o.replaceWith(m,g,h),r+=v}return o}function un(t,e,r,n){var a=r.length;t.split(e).delete(e-a,e).insert(t.mapping.map(e),n).setSelection(H(t,t.mapping.map(e)-a))}function vt(t){return t.sourcepos[0][0]}function Wt(t){return t.sourcepos[1][0]}function Gt(t){return t.sourcepos[0][1]}function Te(t){return t.sourcepos[1][1]}function Jl(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function eu(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function tu(t){return t&&t.type==="codeBlock"}function De(t){return t&&(t.type==="item"||t.type==="list")}function zi(t){return De(t)&&t.listData.type==="ordered"}function ru(t){return De(t)&&t.listData.type!=="ordered"}function $n(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function nu(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function je(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function au(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function U(t,e){return[t[0],t[1]+e]}function xe(t,e){return[t[0],e]}function iu(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,a=r.title,i=t.type==="link"?"":"!";return i+"["+e+"]("+n+(a?' "'+a+'"':"")+")";default:return null}}function ou(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function su(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var st=[],Wi={},Fn=/\$\$widget\d+\s/;function Xt(t){var e=t.search(Fn);if(e!==-1){var r=t.substring(e),n=r.replace(Fn,"").replace("$$","");t=t.substring(0,e),t+=Xt(n)}return t}function Gi(t,e){return"$$"+t+" "+e+"$$"}function Xi(t,e){var r=Wi[t],n=r.rule,a=r.toDOM;return e=Xt(e).match(n)[0],a(e)}function lu(){return st}function uu(t){st=t,st.forEach(function(e,r){Wi["widget"+r]=e})}function ar(t,e,r,n){return t.concat(Oe(e,r,n))}function Oe(t,e,r){r===void 0&&(r=0);var n=[],a=(st[r]||{}).rule,i=r+1;if(t=Xt(t),a&&a.test(t)){for(var o=void 0;(o=t.search(a))!==-1;){var s=t.substring(0,o);s&&(n=ar(n,s,e,i)),t=t.substring(o);var l=t.match(a)[0],u="widget"+r;n.push(e.nodes.widget.create({info:u},e.text(Gi(u,l)))),t=t.substring(l.length)}t&&(n=ar(n,t,e,i))}else t&&(n=r<st.length-1?ar(n,t,e,i):[e.text(t)]);return n}function Qi(t){for(var e,r="",n=t.walker();e=n.next();){var a=e.node,i=e.entering;i&&(a!==t&&a.type!=="text"?(r+=iu(a),n.resumeAt(t,!1),n.next()):a.type==="text"&&(r+=a.literal))}return r}function Ki(){return{deleteSelection:function(){return Js},selectAll:function(){return Ys},undo:function(){return kt},redo:function(){return Ui}}}function cu(t){return new ce({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return fe(n,"placeholder"),t.className&&fe(n,t.className),n.textContent=t.text,Kr.create(r,[Zr.widget(1,n)])}return null}}})}var Zi=new Pi("widget"),vu=function(){function t(e){var r=this;this.popup=null,this.removeWidget=function(){r.popup&&(document.body.removeChild(r.popup),r.popup=null)},this.eventEmitter=e,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=Zi.getState(e.state);if(this.removeWidget(),r){var n=r.node,a=r.style,i=e.coordsAtPos(r.pos),o=i.top,s=i.left,l=i.bottom,u=l-o;de(n,{position:"absolute",left:s+"px",opacity:"0"}),document.body.appendChild(n),de(n,{top:(a==="bottom"?o+u:o-n.clientHeight-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function fu(t){return new ce({key:Zi,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(){return new vu(t)}})}var du=Ve;function pu(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],du(t,function(n){e.push(n)})}return e}var we=pu;function hu(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(a){var i=a.target;return r(i.result)},n.readAsDataURL(e)})}function cn(t,e,r){var n=function(a,i){t.emit("command","addImage",{imageUrl:a,altText:i||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function Yi(t){var e=we(t).filter(function(n){var a=n.type;return a.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function mu(t){var e=t.eventEmitter;return new ce({props:{handleDOMEvents:{drop:function(r,n){var a,i=(a=n.dataTransfer)===null||a===void 0?void 0:a.files;return i&&Ve(i,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),cn(e,o,n.type),!1):!0}),!0}}}})}var R=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function Ji(t){var e=document.createElement("span"),r=Xi(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function Lr(t){return t.type.name==="widget"}var eo=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,a=n.match(/\$\$(widget\d+)/),i=a[1];return{info:i}}}]}},enumerable:!1,configurable:!0}),e}(R),to=function(){function t(e){this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return qi.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,a=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",a)}),n.dom.addEventListener("blur",function(){return r.emit("blur",a)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=Ki(),r=e.undo,n=e.redo,a=this.createInputRules(),i=Z(Z([],this.keymaps),[Jr(y({"Mod-z":r(),"Shift-Mod-z":n()},Xs)),_i(),cu(this.placeholder),fu(this.eventEmitter),mu(this.context)]);return a?i.concat(a):i},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=lu(),r=e.map(function(n){var a=n.rule;return new rl(a,function(i,o,s,l){var u=i.schema,c=i.tr,v=i.doc,f=o.input.match(new RegExp(a,"g")),p=v.resolve(s),d=p.parent,h=0;if(Lr(d)&&(d=p.node(p.depth-1)),d.forEach(function(b){return Lr(b)&&(h+=1)}),f.length>h){var m=G(f),g=Oe(m,u);return c.replaceWith(l-m.length+1,l,g)}return null})});return r.length?nl({rules:r}):null},t.prototype.createSchema=function(){return new Ri({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){return e?this.specs.keymaps():[]},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(H(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(H(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){de(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){de(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t}();function gu(t){return t instanceof Function}var re=gu;function dt(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var ro=function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,a=r.name,i=r.schema;return y(y({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,a=r.name,i=r.schema;return y(y({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(i){var o=i.commands;return o}).reduce(function(i,o){var s={},l=o.commands();return re(l)?s[o.name]=function(u){return dt(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return dt(e,l[u],c)}}),y(y({},i),s)},{}),a=Ki();return Object.keys(a).forEach(function(i){n[i]=function(o){return dt(e,a[i],o)}}),r&&Object.keys(r).forEach(function(i){n[i]=function(o){return dt(e,r[i],o)}}),n},t.prototype.keymaps=function(){var e=this.specs.filter(function(r){return r.keymaps}).map(function(r){return r.keymaps()});return e.map(function(r){return Jr(r)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t}(),yu=Ie,bu=tn;function wu(t,e){var r;return t.classList?t.classList.contains(e):(r=bu(t).split(/\s+/),yu(e,r)>-1)}var no=wu,Cu=Ie,ku=we,pt=Element.prototype,Tu=pt.matches||pt.webkitMatchesSelector||pt.mozMatchesSelector||pt.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return Cu(this,ku(e.querySelectorAll(t)))>-1};function xu(t,e){return Tu.call(t,e)}var Eu=xu,vn="[A-Za-z][A-Za-z0-9-]*",Lu="[a-zA-Z_:][a-zA-Z0-9:._-]*",Mu="[^\"'=<>`\\x00-\\x20]+",Su="'[^']*'",Au='"[^"]*"',Ou="(?:"+Mu+"|"+Su+"|"+Au+")",Iu="(?:\\s*=\\s*"+Ou+")",ao="(?:\\s+"+Lu+Iu+"?)",io="<("+vn+")("+ao+")*\\s*/?>",oo="</("+vn+")\\s*[>]",so="(?:"+io+"|"+oo+")",ze=new RegExp("^"+so,"i");function fn(t,e,r){var n=parseInt(t.left,10),a=parseInt(t.top,10),i=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),o=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+i&&r>=a&&r<=a+o}var lo="toastui-editor-";function x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n],o=void 0;Array.isArray(i)?o=i[0]?i[1]:null:o=i,o&&r.push(""+lo+o)}return r.join(" ")}function _(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return lo+"md-"+r}).join(" ")}function Du(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function Qt(t){return t&&t.nodeType===Node.ELEMENT_NODE}function dn(t,e){var r=we(t.querySelectorAll(e));return r.length?r:[]}function Nu(t,e){e=et(e)?we(e):[e],e.forEach(function(r){t.appendChild(r)})}function Ru(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function Ee(t){t.parentNode&&t.parentNode.removeChild(t)}function Bu(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return Ee(t),e}function pn(t,e,r){ue(r)&&(r=!no(t,e));var n=r?fe:ie;n(t,e)}function uo(t,e){var r=document.createElement("div");pe(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function hn(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function ge(t,e){var r;for(pe(e)?r=function(n){return Eu(n,e)}:r=function(n){return n===e};t&&t!==document;){if(Qt(t)&&r(t))return t;t=t.parentNode}return null}function co(t,e){for(var r=0,n=0;t&&t!==e;){var a=t.offsetTop,i=t.offsetLeft,o=t.offsetParent;if(r+=a,n+=i,o===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function Hu(t,e){var r;return r=t.innerHTML,r}function mn(t,e){Object.keys(t).forEach(function(r){Er(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function Pu(t){var e=/<br\s*\/*>/i,r=new RegExp(so,"ig"),n=t.match(r);return n==null||n.forEach(function(a,i){if(e.test(a)){var o="";if(i){var s=n[i-1],l=s.match(io);if(l){var u=l[1];o="</"+u+"><"+u+">"}}t=t.replace(e,o)}}),t}function vo(t){var e=t.from,r=t.to;return t instanceof $i?[e+1,r-1]:[e,r]}function _n(t){return t.index(0)+1}function We(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(a,i){Lr(a)&&i+2<e&&(n+=2*r)}),n}function ir(t,e,r){r===void 0&&(r=e);var n=e===r,a=t.resolve(e),i=_n(a),o=i,s=a.start(1),l=s;if(!n){var u=t.resolve(r===t.content.size?r-1:r);l=u.start(1),o=_n(u),u.pos===t.content.size&&(r=t.content.size-2)}var c=Math.max(e-s+1,1),v=Math.max(r-l+1,1);return[[i,c+We(t.child(i-1),c,-1)],[o,v+We(t.child(o-1),v,-1)]]}function fo(t,e){for(var r=[],n=0,a=0;n<e;n+=1){var i=t.child(n);r[n]=a,a+=i.nodeSize}return r}function He(t,e,r){var n=fo(t,r[0]),a=e[0]-1,i=r[0]-1,o=t.child(a),s=t.child(i),l=n[a],u=n[i];return l+=e[1]+We(o,e[1]-1),u+=r[1]+We(s,r[1]-1),[l,Math.min(u,t.content.size)]}function V(t){var e=t.$from,r=t.$to,n=t.from,a=t.to,i=e.doc;return t instanceof $i&&(e=i.resolve(n+1),r=i.resolve(a-1)),e.depth===0&&(e=i.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function Rt(t,e){for(var r=1,n=1,a=0,i=0;a<t.childCount;a+=1){var o=t.child(a).nodeSize;if(r=i+1,n=i+o-1,a===e)break;i+=o}return{startOffset:r,endOffset:n}}var Un="heading",qu="blockQuote",$u="listItem",Fu="table",_u="tableCell",Uu="codeBlock",Vu="thematicBreak",xt="link",ht="code",Kt="meta",Ne="delimiter",ju="taskDelimiter",gn="markedText",zu="html",Wu="customBlock",Vn={strong:2,emph:1,strike:2};function I(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function Gu(t,e,r){var n=t.level,a=t.headingType,i=[I(e,r,Un,{level:n})];return a==="atx"?i.push(I(e,U(e,n),Ne)):i.push(I(xe(r,0),r,Un,{seText:!0})),i}function or(t,e,r){var n=t.type,a=U(e,Vn[n]),i=U(r,-Vn[n]);return[I(a,i,n),I(e,a,Ne),I(i,r,Ne)]}function po(t,e,r,n){return[I(t,e,xt),I(xe(t,r[1]+1),xe(e,n),xt,{desc:!0}),I(xe(e,n+2),U(e,-1),xt,{url:!0})]}function Xu(t,e,r){var n=t.lastChild,a=n?Te(n)+1:3,i=U(e,1);return Z([I(e,i,Kt)],po(e,r,i,a))}function Qu(t,e,r){var n=t.lastChild,a=t.extendedAutolink,i=n?Te(n)+1:2;return a?[I(e,r,xt,{desc:!0})]:po(e,r,e,i)}function Ku(t,e,r){var n=t.tickCount,a=U(e,n),i=U(r,-n);return[I(e,r,ht),I(e,a,ht,{start:!0}),I(a,i,ht,{marked:!0}),I(i,r,ht,{end:!0})]}function ho(t,e,r,n){var a={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[y(y({},a),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),y(y({},a),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function Zu(t,e,r,n){var a=t.fenceOffset,i=t.fenceLength,o=t.fenceChar,s=t.info,l=t.infoPadding,u=t.parent,c=a+i,v=[I(xe(e,1),r,Uu)];o&&v.push(I(e,U(e,c),Ne)),s&&v.push(I(U(e,i),U(e,i+l+s.length),Kt));var f="^(\\s{0,4})("+o+"{"+i+",})",p=new RegExp(f);p.test(n)&&v.push(I(xe(r,1),r,Ne));var d=ho(u,e,r,"code-block");return d?v.concat(d):v}function Yu(t,e,r){var n=t,a=n.offset,i=n.syntaxLength,o=n.info,s=n.parent,l=a+i,u=[I(xe(e,1),r,Wu)];u.push(I(e,U(e,l),Ne)),o&&u.push(I(U(e,l),U(e,i+o.length),Kt)),u.push(I(xe(r,1),r,Ne));var c=ho(s,e,r,"custom-block");return c?u.concat(c):u}function mo(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push(I([vt(t),Gt(t)-1],[Wt(t),Te(t)+1],e)),t=t.next}return r}function Ju(t){for(var e=[];t;)e.push(I([vt(t),Gt(t)],[Wt(t),Te(t)+1],gn)),t=t.next;return e}function ec(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[I(e,r,qu)]:[];if(t.firstChild){var a=[];t.firstChild.type==="paragraph"?a=Ju(t.firstChild.firstChild):t.firstChild.type==="list"&&(a=mo(t.firstChild,gn)),n=Z(Z([],n),a)}return n}function tc(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[$u,y(y({},r),{listStyle:!0})]}function rc(t,e){var r=t.listData,n=r.padding,a=r.task,i=tc(t),o=[I.apply(void 0,Z([e,U(e,n)],i))];return a&&(o.push(I(U(e,n),U(e,n+3),ju)),o.push(I(U(e,n+1),U(e,n+2),Kt))),o.concat(mo(t.firstChild,gn))}var jn={heading:Gu,strong:or,emph:or,strike:or,link:Qu,image:Xu,code:Ku,codeBlock:Zu,blockQuote:ec,item:rc,customBlock:Yu},zn={thematicBreak:Vu,table:Fu,tableCell:_u,htmlInline:zu};function nc(t,e,r,n){var a=t.type;return re(jn[a])?jn[a](t,e,r,n):zn[a]?[I(e,r,zn[a])]:null}var lt={};function ac(t){var e=t.schema,r=t.toastMark;return new ce({appendTransaction:function(n,a,i){var o=n[0],s=i.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(c){var v=c.nodes,f=c.removedNodeRange;if(v.length){l=l.concat(cc(s,v));for(var p=0,d=v;p<d.length;p++)for(var h=d[p],m=h.walker(),g=m.next();g;){var b=g.node,w=g.entering;w&&(l=l.concat(vc(b,r))),g=m.next()}}else if(f)for(var C=s.doc.childCount-1,k=f.line,E=k[0],L=k[1],S=Math.min(E,C),N=Math.min(L,C),$=S;$<=N;$+=1)lt[$]=!0}),sc(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function ic(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function oc(t,e,r,n,a){a===void 0&&(a={});for(var i=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,c=i;c<=o;c+=1)delete lt[c],u=ic(e,c,a);u&&t.setBlockType(s,l,r,a)}function sc(t,e,r){var n=t.doc,a=e.nodes.paragraph,i=fo(n,n.childCount);r.forEach(function(o){var s=o.start,l=o.end,u=o.spec,c=o.lineBackground,v=Math.min(s[0],n.childCount)-1,f=Math.min(l[0],n.childCount)-1,p=n.child(v),d=n.child(f),h=i[v],m=i[f];if(h+=s[1]+We(p,s[1]-1),m+=l[1]+We(d,l[1]-1),u)if(c){var g={from:h,to:m,startIndex:v,endIndex:f};oc(t,n,a,g,u.attrs)}else t.addMark(h,m,e.mark(u.type,u.attrs));else t.removeMark(h,m)}),lc(t,i,a)}function lc(t,e,r){Object.keys(lt).forEach(function(n){var a=Number(n),i=Math.min(Number(n)+1,t.doc.childCount-1),o=e[a],s=e[i]-1;a===i&&(s+=2),t.setBlockType(o,s,r)})}function uc(t,e,r){var n=[];lt={};for(var a=e[0]-1;a<r[0];a+=1){var i=t.child(a),o=i.attrs.codeEnd,s=i.attrs.codeStart;if(s&&o&&!Y(n,s)){n.push(s),o=Math.min(o,t.childCount);for(var l=s-1,u=r[0],c=l;c<u;c+=1)lt[c]=!0}}}function cc(t,e){var r=t.doc,n=e[0].sourcepos[0],a=G(e).sourcepos,i=a[1],o=[n[0],n[1]],s=[i[0],i[1]+1],l=[];return uc(r,n,i),l.push({start:o,end:s}),l}function vc(t,e){var r=e.getLineTexts(),n=[vt(t),Gt(t)],a=[Wt(t),Te(t)+1],i=nc(t,n,a,r[a[0]-1]);return i??[]}function fc(t){return De(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":t.type.indexOf("table")!==-1?"table":t.type}function dc(t){var e={},r=!0;return au(t,function(n){var a=fc(n);a==="customBlock"||a==="image"||a==="link"||(a==="bulletList"||a==="orderedList"?r&&(e[a]=!0,r=!1):e[a]=!0)}),e}function pc(t){var e=t.toastMark,r=t.eventEmitter;return new ce({view:function(){return{update:function(n,a){var i=n.state,o=i.doc,s=i.selection;if(!(a&&a.doc.eq(o)&&a.selection.eq(s))){var l=s.from,u=i.doc.resolve(l).start(),c=i.doc.content.findIndex(l).index+1,v=l-u;l===u&&(v+=1);var f=[c,v],p=e.findNodeAtPosition(f),d=dc(p);r.emit("changeToolbarState",{cursorPos:f,mdNode:p,toolbarState:d}),r.emit("setFocusedNode",p)}}}}})}var hc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(R),B=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function J(t,e){return Le(t,e-1)}function Le(t,e){return t.child(e).textContent}var it=/^\s*> ?/,mc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(it,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.tr,l=n.schema,u=V(i),c=u.endFromOffset,v=u.endToOffset,f=u.endIndex,p=u.to,d=Le(o,f),h=it.test(d);if(h&&p>c&&i.empty){var m=!d.replace(it,"").trim();if(m)s.deleteRange(c,v).split(s.mapping.map(v));else{var g=d.slice(p-c).trim(),b=K(l,r.createBlockQuoteText(g));un(s,v,g,b)}return a(s),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,a){var i=n.selection,o=n.doc,s=V(i),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,v=s.endIndex,f=it.test(Le(o,c)),p=Nt({state:n,startIndex:c,endIndex:v,from:l,createText:function(d){return r.createBlockQuoteText(d,f)}});return a(p.setSelection(H(p,p.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e}(B),Re=/(^\s*)([-*+] |[\d]+\. )/,yn=/(^\s*)([\d])+\.( \[[ xX]])? /,ye=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Bt=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,gc=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,yc=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,bc=/(^\s*)([-*+])( \[[ xX]]) /;function bn(t){return yn.test(t)?"ordered":"bullet"}function wn(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function Mr(t,e,r,n){for(var a=t.getLineTexts(),i=a.length,o=[],s=e;n?s<i:s>1;){s=n?s+1:s-1;var l=t.findFirstNodeAtLine(s),u=wn(l);if(u===r)o.push({line:s,depth:r,mdNode:l});else if(u<r)break}return o}function wc(t){var e=t.toastMark,r=t.mdNode,n=t.line,a=wn(r),i=Mr(e,n,a,!1).reverse(),o=Mr(e,n,a,!0);return i.concat([{line:n,depth:a,mdNode:r}]).concat(o)}function Cc(t){if(!Re.test(t))return"* "+t;var e=bn(t);return e==="bullet"&&Bt.test(t)?t=t.replace(bc,"$1$2 "):e==="ordered"&&(t=t.replace(yn,"$1* ")),t}function kc(t,e){if(!Re.test(t))return e+". "+t;var r=bn(t);if(r==="bullet"||r==="ordered"&&Bt.test(t))t=t.replace(Bt,"$1"+e+". ");else if(r==="ordered"){var n=ye.exec(t)[3];Number(n)!==e&&(t=t.replace(yn,"$1"+e+". "))}return t}function go(t,e,r,n){n===void 0&&(n=0);var a=Number.MAX_VALUE,i=0,o=e.map(function(s,l){var u=s.line;a=Math.min(u-1,a),i=Math.max(u-1,i);var c=J(t,u);return c=r==="bullet"?Cc(c):kc(c,l+1+n),{text:c,line:u}});return{changedResults:o,firstIndex:a,lastIndex:i}}function Wn(t,e){var r=wc(e);return go(e.doc,r,t)}var Tc={bullet:function(t){return Wn("bullet",t)},ordered:function(t){return Wn("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,a=J(r,n);return e.listData.task?a=a.replace(yc,"$1$2"):De(e)&&(a=a.replace(Re,"$1$2[ ] ")),{changedResults:[{text:a,line:n}]}}},xc={bullet:function(t){var e=t.doc,r=t.line,n=J(e,r),a=[{text:"* "+n,line:r}];return{changedResults:a}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,a=t.startLine,i=J(r,n),o=1,s=a,l=0,u=a-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),v=J(r,u),f=v&&!!je(c,function(w){return De(w)}),p=ye.exec(J(r,u));if(!p&&!f)break;if(!p&&f){l+=1;continue}var d=p,h=d[1],m=d[3];if(!h){o=Number(m),s=u;break}}var g=o+n-s-l,b=[{text:g+". "+i,line:n}];return{changedResults:b}},task:function(t){var e=t.doc,r=t.line,n=J(e,r),a=[{text:"* [ ] "+n,line:r}];return{changedResults:a}}},Ec={bullet:function(t){var e=t.line,r=t.doc,n=J(r,e),a=gc.exec(n),i=a[1],o=a[2];return{listSyntax:""+i+o}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,a=t.doc,i=wn(n),o=J(a,r),s=ye.exec(o),l=s[1],u=s[3],c=s[4],v=Number(u)+1,f=""+l+v+c,p=Mr(e,r,i,!0),d=p.filter(function(h){var m=ye.exec(J(a,h.line));return m&&m[1].length===l.length&&!!je(h.mdNode,function(g){return zi(g)})});return y({listSyntax:f},go(a,d,"ordered",v))}};function yo(t,e,r,n,a){for(var i=[],o=J(t,r),s=ye.exec(o);s;){var l=s[1],u=s[4],c=s[5],v=l.length;if(v===a)i.push(K(e,""+l+n+u+c)),n+=1,r+=1;else if(v>a){var f=yo(t,e,r,1,v);r=f.line,i=i.concat(f.nodes)}if(v<a||r>t.childCount)break;o=J(t,r),s=ye.exec(o)}return{nodes:i,line:r}}var Gn=/(^\s{1,4})(.*)/;function Xn(t,e,r){return t<e||Re.test(r)||it.test(r)}function Qn(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var a=n.node(1),i=n.start(1),o=a.content.size;return a.rangeHasMark(0,o,e.marks.table)&&n.pos-i!==o&&n.pos!==i}function Kn(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var a=4;r+=a,n+=(e.lineLen+1)*a}else{var i=e.spaceLenList;r-=i[0];for(var o=0;o<i.length;o+=1)n-=i[o]}return H(t,r,n)}var Lc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:_(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var a=this.context,i=a.view,o=a.toastMark,s=a.schema,l=i.state,u=l.tr,c=l.selection,v=l.doc,f=o.findFirstNodeAtLine(r),p=f;f&&!ru(f)&&f.parent.type!=="document";)if(f=f.parent,zi(f)){p=f;break}p&&(r=p.sourcepos[0][0]);var d=ye.exec(J(v,r)),h=d[1],m=d[3],g=h.length,b=yo(v,s,r,Number(m),g),w=b.line,C=b.nodes;n=Math.max(n,w-1);for(var k=Rt(v,r-1).startOffset,E=r-1;E<=n-1;E+=1){var L=v.child(E),S=L.nodeSize,N=L.content,$=u.mapping.map(k),Q=$+N.size;u.replaceWith($,Q,C[E-r+1]),k+=S}var ve=H(u,c.from,c.to);i.dispatch(u.setSelection(ve))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(a,i){var o=a.schema,s=a.selection,l=a.doc,u=V(s),c=u.from,v=u.to,f=u.startFromOffset,p=u.startIndex,d=u.endIndex;if(r&&Qn(l,o,s))return!1;var h=Le(l,p);if(r&&Xn(c,v,h)||!r&&Re.test(h)){var m=Nt({state:a,from:f,startIndex:p,endIndex:d,createText:function(b){return"    "+b}}),g={type:"indent",from:c,to:v,lineLen:d-p};i(m.setSelection(Kn(m,g))),ye.test(h)&&n.reorderList(p+1,d+1)}else r&&i(a.tr.insert(v,K(o,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(a,i){var o=a.selection,s=a.doc,l=a.schema,u=V(o),c=u.from,v=u.to,f=u.startFromOffset,p=u.startIndex,d=u.endIndex;if(r&&Qn(s,l,o))return!1;var h=Le(s,p);if(r&&Xn(c,v,h)||!r&&Re.test(h)){var m=[],g=Nt({state:a,from:f,startIndex:p,endIndex:d,createText:function(E){var L=Gn.exec(E);return m.push(L?L[1].length:0),E.replace(Gn,"$2")}}),b={type:"outdent",from:c,to:v,spaceLenList:m};i(g.setSelection(Kn(g,b))),ye.test(h)&&n.reorderList(p+1,d+1)}else if(r){var w=h.slice(0,v-f),C=w.replace(/\s{1,4}$/,""),k=v-(w.length-C.length);i(a.tr.delete(k,v))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,a){var i=r.context.view,o=V(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return a(n.tr.deleteRange(s,l)),!0};return Qs(u,el)(n,a,i)}},e.prototype.moveDown=function(){return function(r,n){var a=r.doc,i=r.tr,o=r.selection,s=r.schema,l=V(o),u=l.startFromOffset,c=l.endToOffset,v=l.endIndex;if(v<a.content.childCount-1){var f=a.child(v+1),p=f.nodeSize,d=f.textContent;return i.delete(c,c+p).split(u).insert(i.mapping.map(u)-2,K(s,d)),n(i),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var a=r.tr,i=r.doc,o=r.selection,s=r.schema,l=V(o),u=l.startFromOffset,c=l.endToOffset,v=l.startIndex;if(v>0){var f=i.child(v-1),p=f.nodeSize,d=f.textContent;return a.delete(u-p,u).split(a.mapping.map(c)).insert(a.mapping.map(c),K(s,d)),n(a),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(R),Mc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(R),Sc=/^#{1,6}\s/,Ac=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.level,i=n.seText,o="heading|heading"+a;return i&&(o+="|delimiter|setext"),["span",{class:_.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,a){for(var i=n.replace(a,"").trim(),o="";r>0;)o+="#",r-=1;return o+" "+i},e.prototype.commands=function(){var r=this;return function(n){return function(a,i){var o=n.level,s=V(a.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,v=s.endIndex,f=Nt({state:a,from:l,startIndex:c,endIndex:v,createText:function(p){var d=p.match(Sc),h=d?d[0]:"";return r.createHeadingText(o,p,h)}});return i(f.setSelection(H(f,f.mapping.map(u)))),!0}}},e}(B),sr="```",Oc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var a=r.selection,i=r.schema,o=r.tr,s=V(a),l=s.startFromOffset,u=s.endToOffset,c=K(i,sr);return o.insert(l,c).split(l+sr.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),c),n(o.setSelection(H(o,o.mapping.map(u)-(sr.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,a){var i=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,c=V(i),v=c.startFromOffset,f=c.endToOffset,p=c.endIndex,d=c.from,h=c.to,m=Le(s,p);if(d===h&&m.trim()){var g=m.match(/^\s+/),b=u.findFirstNodeAtLine(p+1);if(tu(b)&&g){var w=g[0],C=m.slice(h-v),k=K(l,w+C);return un(o,f,C,k),a(o),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e}(B),Ic=/\||\s/g;function Dc(t){return[Ht(t),Ht(t,!0)]}function Nc(t,e){for(var r=[],n=0;n<e;n+=1)r.push(Ht(t));return r}function Ht(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function Rc(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var Bc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!i.empty)return!1;var u=V(i),c=u.endFromOffset,v=u.endToOffset,f=u.endIndex,p=u.to,d=Le(o,f),h=[f+1,p-c+1],m=r.context.toastMark.findNodeAtPosition(h),g=je(m,function(E){return $n(E)&&(E.parent.type==="tableDelimRow"||E.parent.parent.type==="tableBody")});if(g){var b=!d.replace(Ic,"").trim(),w=g.parent,C=w.parent.parent.columns.length,k=Ht(C);return b?s.deleteRange(c,v).split(s.mapping.map(v)):s.split(v).insert(s.mapping.map(v),K(l,k)).setSelection(H(s,s.mapping.map(v)-2)),a(s),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(a,i){var o=a.selection,s=a.tr,l=V(o),u=l.endFromOffset,c=l.endIndex,v=l.to,f=[c+1,v-u],p=n.context.toastMark.findNodeAtPosition(f),d=je(p,function(L){return $n(L)});if(d){var h=d.parent,m=Rc(r),g=m.type,b=m.parentType,w=m.childType,C=Te(d);if(d[g])C=Te(d[g])-1;else{var k=!h[g]&&h.parent.type===b?h.parent[g][w]:h[g];if(g==="next"){var E=k?Te(k[w]):0;C+=E+2}else g==="prev"&&(C=k?-4:0)}return i(s.setSelection(H(s,u+C))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=r,u=l.columnCount,c=l.rowCount,v=V(i).endToOffset,f=Dc(u),p=Nc(u,c-1),d=Z(Z([],f),p);return d.forEach(function(h){o.split(o.mapping.map(v)).insert(o.mapping.map(v),K(s,h))}),a(o.setSelection(H(o,v+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(B),Hc="***",Pc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var a=r.selection,i=r.schema,o=r.tr,s=V(a),l=s.from,u=s.to,c=s.endToOffset,v=K(i,Hc);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),v).split(o.mapping.map(u)).setSelection(H(o,o.mapping.map(c))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(B);function qc(t){var e=t.type;return e==="codeBlock"||e==="heading"||e.indexOf("table")!==-1}var $c=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.odd,i=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),a&&(s+="|list-item-odd"),i&&(s+="|list-item-even"),["span",{class:_.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.schema,l=n.tr,u=r.context.toastMark,c=V(i),v=c.to,f=c.startFromOffset,p=c.endFromOffset,d=c.endIndex,h=c.endToOffset,m=Le(o,d),g=Re.test(m);if(!g||i.from===f||!i.empty)return!1;var b=!m.replace(Bt,"").trim();if(b)l.deleteRange(p,h).split(l.mapping.map(h));else{var w=bn(m),C=u.findFirstNodeAtLine(d+1),k=m.slice(v-p),E={toastMark:u,mdNode:C,doc:o,line:d+1},L=Ec[w](E),S=L.listSyntax,N=L.changedResults;if(N!=null&&N.length){l.split(v),N.unshift({text:S+k,line:d+1}),r.changeToListPerLine(l,N,{from:v,startLine:N[0].line,endLine:G(N).line});var $=l.mapping.map(h)-k.length;l.setSelection(H(l,$))}else{var Q=K(s,S+k);un(l,h,k,Q)}}return a(l),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(a,i){for(var o=a.doc,s=a.tr,l=a.selection,u=n.context.toastMark,c=V(l),v=c.startIndex+1,f=c.endIndex+1,p=c.endToOffset,d=[],h=v;h<=f;h+=1){var m=u.findFirstNodeAtLine(h);if(m&&qc(m))break;if(d.indexOf(h)===-1){var g={toastMark:u,mdNode:m,doc:o,line:h,startLine:v},b=(De(m)?Tc[r](g):xc[r](g)).changedResults,w=n.changeToListPerLine(s,b,{from:Rt(o,b[0].line-1).startOffset,startLine:b[0].line,endLine:G(b).line,indexDiff:1});p=Math.max(w,p),b&&(d=d.concat(b.map(function(C){return C.line})))}}return i(s.setSelection(H(s,s.mapping.map(p)))),!0}}},e.prototype.changeToListPerLine=function(r,n,a){for(var i=a.from,o=a.startLine,s=a.endLine,l=a.indexDiff,u=l===void 0?0:l,c=0,v=function(d){var h=r.doc.child(d),m=h.nodeSize,g=h.content,b=r.mapping.map(i),w=b+g.size,C=n.filter(function(k){return k.line-u===d})[0];C&&(r.replaceWith(b,w,K(f.context.schema,C.text)),c=Math.max(c,i+g.size)),i+=m},f=this,p=o-u;p<=s-u;p+=1)v(p);return c},e.prototype.toggleTask=function(){var r=this;return function(n,a){for(var i=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,c=V(i),v=c.startIndex,f=c.endIndex,p=null,d=v;d<=f;d+=1){var h=u.findFirstNodeAtLine(d+1);if(De(h)&&h.listData.task){var m=h.listData,g=m.checked,b=m.padding,w=g?" ":"x",C=h.sourcepos[0],k=Rt(s,C[0]-1).startOffset;k+=C[1]+b,p=o.replaceWith(k,k+1,l.text(w))}}return p?(a(p),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),a=this.toList("task")(),i=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":a,"alt-T":a,"Shift-Ctrl-x":i,"Shift-Ctrl-X":i,Enter:this.extendList()}},e}(B);function Zt(t,e){return function(){return function(r,n){var a=r.tr,i=r.selection,o=re(t)?t:function(w){return t.test(w)},s=e.length,l=a.doc,u=vo(i),c=u[0],v=u[1],f=Math.max(c-s,1),p=Math.min(v+s,l.content.size-1),d=i.content(),h=d.content.textBetween(0,d.content.size,`
`),m=l.textBetween(f,c,`
`),g=l.textBetween(v,p,`
`);if(h=""+m+h+g,m&&g&&o(h))a.delete(p-s,p).delete(f,f+s);else{a.insertText(e,v).insertText(e,c);var b=i.empty?H(a,c+s):H(a,c+s,v+s);a.setSelection(b)}return n(a),!0}}}var Fc=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,_c="**",Uc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Zt(Fc,_c)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(B),Vc=/^(~{2}).*([\s\S]*)\1$/m,jc="~~",zc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Zt(Vc,jc)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(B),Wc=/^(\*|_).*([\s\S]*)\1$/m,Gc="*",Xc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Zt(Wc,Gc)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(B),Qc=/^(`).*([\s\S]*)\1$/m,Kc="`",Zc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.start,i=n.end,o=n.marked,s="code";return a&&(s+="|delimiter|start"),i&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:_.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Zt(Qc,Kc)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(B),bo=[{regExp:/\(/g,encoded:"%28",escaped:"\\("},{regExp:/\)/g,encoded:"%29",escaped:"\\)"},{regExp:/\[/g,encoded:"%5B",escaped:"\\["},{regExp:/\]/g,encoded:"%5D",escaped:"\\]"},{regExp:/</g,encoded:"%3C",escaped:"\\<"},{regExp:/>/g,encoded:"%3E",escaped:"\\>"},{regExp:/ /g,encoded:"%20",escaped:" "}];function wo(t){return bo.reduce(function(e,r){var n=r.regExp,a=r.escaped;return e.replace(n,a)},t)}function Cn(t){return bo.reduce(function(e,r){var n=r.regExp,a=r.encoded;return e.replace(n,a)},t)}var Yc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.url,i=n.desc,o="link";return a&&(o+="|link-url|marked-text"),i&&(o+="|link-desc|marked-text"),["span",{class:_.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(a,i){var o=a.selection,s=a.tr,l=a.schema,u=vo(o),c=u[0],v=u[1],f=n,p=f.linkText,d=f.altText,h=f.linkUrl,m=f.imageUrl,g=p,b=h,w="";return r==="image"&&(g=d,b=m,w="!"),g=wo(g),b=Cn(b),w+="["+g+"]("+b+")",i(s.replaceWith(c,v,K(l,w))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(B),Jc=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(B),ev=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(B),tv=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("meta")},0]}}},enumerable:!1,configurable:!0}),e}(B),rv=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(B),nv=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(B),av=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("html")},0]}}},enumerable:!1,configurable:!0}),e}(B),iv=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:_("custom-block")},0]}}},enumerable:!1,configurable:!0}),e}(B),ov=/x|backspace/i,sv=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function lv(t){var e=t.schema,r=t.toastMark;return new ce({props:{handleDOMEvents:{keyup:function(n,a){var i,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&ov.test(a.key)){var c=V(u),v=c.startIndex,f=c.startFromOffset,p=c.from,d=[v+1,p-f+1],h=r.findNodeAtPosition(d),m=je(h,function(Q){var ve;return Q.type==="paragraph"&&((ve=Q.parent)===null||ve===void 0?void 0:ve.type)==="item"});if(!((i=m==null?void 0:m.firstChild)===null||i===void 0)&&i.literal){var g=m.firstChild,b=g.literal.match(sv);if(b){var w=g.sourcepos[0],C=b[1],k=b[2],E=b[3],L=C.length+E.length,S=Rt(s,w[0]-1).startOffset,N=w[1]+S;if(k){var $=L?L+1:0;l.replaceWith(N,$+N,e.text(k)),n.dispatch(l)}else L||(l.insertText(" ",N),n.dispatch(l))}}}return!1}}}})}var lr="cut",Zn=/\r\n|\n|\r/,uv=function(t){T(e,t);function e(r,n){var a=t.call(this,r)||this,i=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return a.editorType="markdown",a.el.classList.add("md-mode"),a.toastMark=i,a.extraPlugins=u,a.specs=a.createSpecs(),a.schema=a.createSchema(),a.context=a.createContext(),a.keymaps=a.createKeymaps(s),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(y(y({},a.context),{view:a.view})),a.createClipboard(),a.eventEmitter.listen("changePreviewTabWrite",function(){return a.toggleActive(!0)}),a.eventEmitter.listen("changePreviewTabPreview",function(){return a.toggleActive(!1)}),a.initEvent(),a}return e.prototype.toggleActive=function(r){pn(this.el,"active",r),r?this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=x("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var a=n.clipboardData||window.clipboardData,i=a&&a.items;if(i){var o=Yi(i);o&&(n.preventDefault(),cn(r.eventEmitter,o,n.type))}}),this.clipboard.addEventListener("input",function(n){var a=n.target.value;r.replaceSelection(a),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new ro([new hc,new Lc,new eo,new Mc,new Ac,new mc,new Oc,new iv,new Bc,new nv,new Pc,new $c,new Uc,new zc,new Xc,new Zc,new Yc,new ev,new Jc,new rv,new tv,new av])},e.prototype.createPlugins=function(){return this.defaultPlugins.concat(Z([ac(this.context),pc(this.context),lv(this.context)],this.createPluginProps()))},e.prototype.createView=function(){var r=this;return new Yr(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var a=r.view.state.applyTransaction(n).state;r.view.updateState(a),r.emitChangeEvent(n)},handleKeyDown:function(n,a){return(a.metaKey||a.ctrlKey)&&a.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,a),!1},handleDOMEvents:{copy:function(n,a){return r.captureCopy(a)},cut:function(n,a){return r.captureCopy(a,lr)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,a){return r.eventEmitter.emit("keyup",r.editorType,a),!1}},nodeViews:{widget:Ji}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var a=this.view.state,i=a.selection,o=a.tr;if(i.empty)return!0;var s=this.getChanged(i.content());return r.clipboardData?r.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===lr&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",lr)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(a,i){if(a.slice&&!(a instanceof ut)){var o=r.docs[i],s=[a.from,a.to],l=s[0],u=s[1],c=ir(o,l,u),v=c[0],f=c[1],p=n.getChanged(a.slice);v[0]===f[0]&&v[1]===f[1]&&p===""&&(p=`
`);var d=n.toastMark.editMarkdown(v,f,p);n.eventEmitter.emit("updatePreview",d),r.setMeta("editResult",d).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",a=0,i=r.content.size;return r.content.nodesBetween(a,i,function(o,s){o.isText?n+=o.text.slice(Math.max(a,s)-s,i-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var a=this.view.state.tr,i=He(a.doc,r,n),o=i[0],s=i[1];this.view.dispatch(a.setSelection(H(a,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,a){var i,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,c=r.split(Zn),v=c.map(function(m){return Dt(l,Oe(m,l))}),f=new le(D.from(v),1,1);if(this.focus(),n&&a){var p=He(u,n,a),d=p[0],h=p[1];i=s.replaceRange(d,h,f)}else i=s.replaceSelection(f);this.view.dispatch(i.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var a,i=this.view.state,o=i.tr,s=i.doc;if(r&&n){var l=He(s,r,n),u=l[0],c=l[1];a=o.deleteRange(u,c)}else a=o.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var a=this.view.state,i=a.doc,o=a.selection,s=o.from,l=o.to;if(r&&n){var u=He(i,r,n);s=u[0],l=u[1]}return i.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,a=r.to;return ir(this.view.state.tr.doc,n,a)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var a=r.split(Zn),i=this.view.state,o=i.tr,s=i.doc,l=i.schema,u=a.map(function(c){return Dt(l,Oe(c,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.doc,l=i.selection,u=a?He(s,a,a)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.schema,l=i.doc,u=He(l,r,n),c=Oe(a,s);this.view.dispatch(o.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,a=n.doc,i=n.selection,o=r||ir(a,i.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return Xt(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(to),Yn="_feEventKey";function cv(t,e){var r=t[Yn],n;return r||(r=t[Yn]={}),n=r[e],n||(n=r[e]=[]),n}var Co=cv,vv=pe,Pt=zt,fv=Co;function dv(t,e,r){if(vv(e)){Pt(e.split(/\s+/g),function(n){Jn(t,n,r)});return}Pt(e,function(n,a){Jn(t,a,n)})}function Jn(t,e,r){var n=fv(t,e),a;r?(Pt(n,function(i,o){return r===i.handler?(ea(t,e,i.wrappedHandler),a=o,!1):!0}),n.splice(a,1)):(Pt(n,function(i){ea(t,e,i.wrappedHandler)}),n.splice(0,n.length))}function ea(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var ko=dv,pv=pe,Sr=zt,hv=Co;function mv(t,e,r,n){if(pv(e)){Sr(e.split(/\s+/g),function(a){ta(t,a,r,n)});return}Sr(e,function(a,i){ta(t,i,a,r)})}function ta(t,e,r,n){function a(i){r.call(n||t,i||window.event)}"addEventListener"in t?t.addEventListener(e,a):"attachEvent"in t&&t.attachEvent("on"+e,a),gv(t,e,r,a)}function gv(t,e,r,n){var a=hv(t,e),i=!1;Sr(a,function(o){return o.handler===r?(i=!0,!1):!0}),i||a.push({handler:r,wrappedHandler:n})}var To=mv;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ar=function(t,e){return Ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ar(t,e)};function ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ar(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z=function(){return z=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},z.apply(this,arguments)};function Or(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t}var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ra={};function yv(t){var e,r,n=ra[t];if(n)return n;for(n=ra[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function Yt(t,e,r){var n,a,i,o,s,l="";for(typeof e!="string"&&(r=e,e=Yt.defaultChars),typeof r>"u"&&(r=!0),s=yv(e),n=0,a=t.length;n<a;n++){if(i=t.charCodeAt(n),r&&i===37&&n+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){l+=t.slice(n,n+3),n+=2;continue}if(i<128){l+=s[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&n+1<a&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(t[n]+t[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[n])}return l}Yt.defaultChars=";/?:@&=+$,-_.!~*'()#";Yt.componentChars="-_.!~*'()";var bv=Yt,kn={},be={},wv="Á",Cv="á",kv="Ă",Tv="ă",xv="∾",Ev="∿",Lv="∾̳",Mv="Â",Sv="â",Av="´",Ov="А",Iv="а",Dv="Æ",Nv="æ",Rv="⁡",Bv="𝔄",Hv="𝔞",Pv="À",qv="à",$v="ℵ",Fv="ℵ",_v="Α",Uv="α",Vv="Ā",jv="ā",zv="⨿",Wv="&",Gv="&",Xv="⩕",Qv="⩓",Kv="∧",Zv="⩜",Yv="⩘",Jv="⩚",ef="∠",tf="⦤",rf="∠",nf="⦨",af="⦩",of="⦪",sf="⦫",lf="⦬",uf="⦭",cf="⦮",vf="⦯",ff="∡",df="∟",pf="⊾",hf="⦝",mf="∢",gf="Å",yf="⍼",bf="Ą",wf="ą",Cf="𝔸",kf="𝕒",Tf="⩯",xf="≈",Ef="⩰",Lf="≊",Mf="≋",Sf="'",Af="⁡",Of="≈",If="≊",Df="Å",Nf="å",Rf="𝒜",Bf="𝒶",Hf="≔",Pf="*",qf="≈",$f="≍",Ff="Ã",_f="ã",Uf="Ä",Vf="ä",jf="∳",zf="⨑",Wf="≌",Gf="϶",Xf="‵",Qf="∽",Kf="⋍",Zf="∖",Yf="⫧",Jf="⊽",ed="⌅",td="⌆",rd="⌅",nd="⎵",ad="⎶",id="≌",od="Б",sd="б",ld="„",ud="∵",cd="∵",vd="∵",fd="⦰",dd="϶",pd="ℬ",hd="ℬ",md="Β",gd="β",yd="ℶ",bd="≬",wd="𝔅",Cd="𝔟",kd="⋂",Td="◯",xd="⋃",Ed="⨀",Ld="⨁",Md="⨂",Sd="⨆",Ad="★",Od="▽",Id="△",Dd="⨄",Nd="⋁",Rd="⋀",Bd="⤍",Hd="⧫",Pd="▪",qd="▴",$d="▾",Fd="◂",_d="▸",Ud="␣",Vd="▒",jd="░",zd="▓",Wd="█",Gd="=⃥",Xd="≡⃥",Qd="⫭",Kd="⌐",Zd="𝔹",Yd="𝕓",Jd="⊥",ep="⊥",tp="⋈",rp="⧉",np="┐",ap="╕",ip="╖",op="╗",sp="┌",lp="╒",up="╓",cp="╔",vp="─",fp="═",dp="┬",pp="╤",hp="╥",mp="╦",gp="┴",yp="╧",bp="╨",wp="╩",Cp="⊟",kp="⊞",Tp="⊠",xp="┘",Ep="╛",Lp="╜",Mp="╝",Sp="└",Ap="╘",Op="╙",Ip="╚",Dp="│",Np="║",Rp="┼",Bp="╪",Hp="╫",Pp="╬",qp="┤",$p="╡",Fp="╢",_p="╣",Up="├",Vp="╞",jp="╟",zp="╠",Wp="‵",Gp="˘",Xp="˘",Qp="¦",Kp="𝒷",Zp="ℬ",Yp="⁏",Jp="∽",eh="⋍",th="⧅",rh="\\",nh="⟈",ah="•",ih="•",oh="≎",sh="⪮",lh="≏",uh="≎",ch="≏",vh="Ć",fh="ć",dh="⩄",ph="⩉",hh="⩋",mh="∩",gh="⋒",yh="⩇",bh="⩀",wh="ⅅ",Ch="∩︀",kh="⁁",Th="ˇ",xh="ℭ",Eh="⩍",Lh="Č",Mh="č",Sh="Ç",Ah="ç",Oh="Ĉ",Ih="ĉ",Dh="∰",Nh="⩌",Rh="⩐",Bh="Ċ",Hh="ċ",Ph="¸",qh="¸",$h="⦲",Fh="¢",_h="·",Uh="·",Vh="𝔠",jh="ℭ",zh="Ч",Wh="ч",Gh="✓",Xh="✓",Qh="Χ",Kh="χ",Zh="ˆ",Yh="≗",Jh="↺",em="↻",tm="⊛",rm="⊚",nm="⊝",am="⊙",im="®",om="Ⓢ",sm="⊖",lm="⊕",um="⊗",cm="○",vm="⧃",fm="≗",dm="⨐",pm="⫯",hm="⧂",mm="∲",gm="”",ym="’",bm="♣",wm="♣",Cm=":",km="∷",Tm="⩴",xm="≔",Em="≔",Lm=",",Mm="@",Sm="∁",Am="∘",Om="∁",Im="ℂ",Dm="≅",Nm="⩭",Rm="≡",Bm="∮",Hm="∯",Pm="∮",qm="𝕔",$m="ℂ",Fm="∐",_m="∐",Um="©",Vm="©",jm="℗",zm="∳",Wm="↵",Gm="✗",Xm="⨯",Qm="𝒞",Km="𝒸",Zm="⫏",Ym="⫑",Jm="⫐",eg="⫒",tg="⋯",rg="⤸",ng="⤵",ag="⋞",ig="⋟",og="↶",sg="⤽",lg="⩈",ug="⩆",cg="≍",vg="∪",fg="⋓",dg="⩊",pg="⊍",hg="⩅",mg="∪︀",gg="↷",yg="⤼",bg="⋞",wg="⋟",Cg="⋎",kg="⋏",Tg="¤",xg="↶",Eg="↷",Lg="⋎",Mg="⋏",Sg="∲",Ag="∱",Og="⌭",Ig="†",Dg="‡",Ng="ℸ",Rg="↓",Bg="↡",Hg="⇓",Pg="‐",qg="⫤",$g="⊣",Fg="⤏",_g="˝",Ug="Ď",Vg="ď",jg="Д",zg="д",Wg="‡",Gg="⇊",Xg="ⅅ",Qg="ⅆ",Kg="⤑",Zg="⩷",Yg="°",Jg="∇",ey="Δ",ty="δ",ry="⦱",ny="⥿",ay="𝔇",iy="𝔡",oy="⥥",sy="⇃",ly="⇂",uy="´",cy="˙",vy="˝",fy="`",dy="˜",py="⋄",hy="⋄",my="⋄",gy="♦",yy="♦",by="¨",wy="ⅆ",Cy="ϝ",ky="⋲",Ty="÷",xy="÷",Ey="⋇",Ly="⋇",My="Ђ",Sy="ђ",Ay="⌞",Oy="⌍",Iy="$",Dy="𝔻",Ny="𝕕",Ry="¨",By="˙",Hy="⃜",Py="≐",qy="≑",$y="≐",Fy="∸",_y="∔",Uy="⊡",Vy="⌆",jy="∯",zy="¨",Wy="⇓",Gy="⇐",Xy="⇔",Qy="⫤",Ky="⟸",Zy="⟺",Yy="⟹",Jy="⇒",eb="⊨",tb="⇑",rb="⇕",nb="∥",ab="⤓",ib="↓",ob="↓",sb="⇓",lb="⇵",ub="̑",cb="⇊",vb="⇃",fb="⇂",db="⥐",pb="⥞",hb="⥖",mb="↽",gb="⥟",yb="⥗",bb="⇁",wb="↧",Cb="⊤",kb="⤐",Tb="⌟",xb="⌌",Eb="𝒟",Lb="𝒹",Mb="Ѕ",Sb="ѕ",Ab="⧶",Ob="Đ",Ib="đ",Db="⋱",Nb="▿",Rb="▾",Bb="⇵",Hb="⥯",Pb="⦦",qb="Џ",$b="џ",Fb="⟿",_b="É",Ub="é",Vb="⩮",jb="Ě",zb="ě",Wb="Ê",Gb="ê",Xb="≖",Qb="≕",Kb="Э",Zb="э",Yb="⩷",Jb="Ė",ew="ė",tw="≑",rw="ⅇ",nw="≒",aw="𝔈",iw="𝔢",ow="⪚",sw="È",lw="è",uw="⪖",cw="⪘",vw="⪙",fw="∈",dw="⏧",pw="ℓ",hw="⪕",mw="⪗",gw="Ē",yw="ē",bw="∅",ww="∅",Cw="◻",kw="∅",Tw="▫",xw=" ",Ew=" ",Lw=" ",Mw="Ŋ",Sw="ŋ",Aw=" ",Ow="Ę",Iw="ę",Dw="𝔼",Nw="𝕖",Rw="⋕",Bw="⧣",Hw="⩱",Pw="ε",qw="Ε",$w="ε",Fw="ϵ",_w="≖",Uw="≕",Vw="≂",jw="⪖",zw="⪕",Ww="⩵",Gw="=",Xw="≂",Qw="≟",Kw="⇌",Zw="≡",Yw="⩸",Jw="⧥",eC="⥱",tC="≓",rC="ℯ",nC="ℰ",aC="≐",iC="⩳",oC="≂",sC="Η",lC="η",uC="Ð",cC="ð",vC="Ë",fC="ë",dC="€",pC="!",hC="∃",mC="∃",gC="ℰ",yC="ⅇ",bC="ⅇ",wC="≒",CC="Ф",kC="ф",TC="♀",xC="ﬃ",EC="ﬀ",LC="ﬄ",MC="𝔉",SC="𝔣",AC="ﬁ",OC="◼",IC="▪",DC="fj",NC="♭",RC="ﬂ",BC="▱",HC="ƒ",PC="𝔽",qC="𝕗",$C="∀",FC="∀",_C="⋔",UC="⫙",VC="ℱ",jC="⨍",zC="½",WC="⅓",GC="¼",XC="⅕",QC="⅙",KC="⅛",ZC="⅔",YC="⅖",JC="¾",ek="⅗",tk="⅜",rk="⅘",nk="⅚",ak="⅝",ik="⅞",ok="⁄",sk="⌢",lk="𝒻",uk="ℱ",ck="ǵ",vk="Γ",fk="γ",dk="Ϝ",pk="ϝ",hk="⪆",mk="Ğ",gk="ğ",yk="Ģ",bk="Ĝ",wk="ĝ",Ck="Г",kk="г",Tk="Ġ",xk="ġ",Ek="≥",Lk="≧",Mk="⪌",Sk="⋛",Ak="≥",Ok="≧",Ik="⩾",Dk="⪩",Nk="⩾",Rk="⪀",Bk="⪂",Hk="⪄",Pk="⋛︀",qk="⪔",$k="𝔊",Fk="𝔤",_k="≫",Uk="⋙",Vk="⋙",jk="ℷ",zk="Ѓ",Wk="ѓ",Gk="⪥",Xk="≷",Qk="⪒",Kk="⪤",Zk="⪊",Yk="⪊",Jk="⪈",eT="≩",tT="⪈",rT="≩",nT="⋧",aT="𝔾",iT="𝕘",oT="`",sT="≥",lT="⋛",uT="≧",cT="⪢",vT="≷",fT="⩾",dT="≳",pT="𝒢",hT="ℊ",mT="≳",gT="⪎",yT="⪐",bT="⪧",wT="⩺",CT=">",kT=">",TT="≫",xT="⋗",ET="⦕",LT="⩼",MT="⪆",ST="⥸",AT="⋗",OT="⋛",IT="⪌",DT="≷",NT="≳",RT="≩︀",BT="≩︀",HT="ˇ",PT=" ",qT="½",$T="ℋ",FT="Ъ",_T="ъ",UT="⥈",VT="↔",jT="⇔",zT="↭",WT="^",GT="ℏ",XT="Ĥ",QT="ĥ",KT="♥",ZT="♥",YT="…",JT="⊹",e1="𝔥",t1="ℌ",r1="ℋ",n1="⤥",a1="⤦",i1="⇿",o1="∻",s1="↩",l1="↪",u1="𝕙",c1="ℍ",v1="―",f1="─",d1="𝒽",p1="ℋ",h1="ℏ",m1="Ħ",g1="ħ",y1="≎",b1="≏",w1="⁃",C1="‐",k1="Í",T1="í",x1="⁣",E1="Î",L1="î",M1="И",S1="и",A1="İ",O1="Е",I1="е",D1="¡",N1="⇔",R1="𝔦",B1="ℑ",H1="Ì",P1="ì",q1="ⅈ",$1="⨌",F1="∭",_1="⧜",U1="℩",V1="Ĳ",j1="ĳ",z1="Ī",W1="ī",G1="ℑ",X1="ⅈ",Q1="ℐ",K1="ℑ",Z1="ı",Y1="ℑ",J1="⊷",ex="Ƶ",tx="⇒",rx="℅",nx="∞",ax="⧝",ix="ı",ox="⊺",sx="∫",lx="∬",ux="ℤ",cx="∫",vx="⊺",fx="⋂",dx="⨗",px="⨼",hx="⁣",mx="⁢",gx="Ё",yx="ё",bx="Į",wx="į",Cx="𝕀",kx="𝕚",Tx="Ι",xx="ι",Ex="⨼",Lx="¿",Mx="𝒾",Sx="ℐ",Ax="∈",Ox="⋵",Ix="⋹",Dx="⋴",Nx="⋳",Rx="∈",Bx="⁢",Hx="Ĩ",Px="ĩ",qx="І",$x="і",Fx="Ï",_x="ï",Ux="Ĵ",Vx="ĵ",jx="Й",zx="й",Wx="𝔍",Gx="𝔧",Xx="ȷ",Qx="𝕁",Kx="𝕛",Zx="𝒥",Yx="𝒿",Jx="Ј",eE="ј",tE="Є",rE="є",nE="Κ",aE="κ",iE="ϰ",oE="Ķ",sE="ķ",lE="К",uE="к",cE="𝔎",vE="𝔨",fE="ĸ",dE="Х",pE="х",hE="Ќ",mE="ќ",gE="𝕂",yE="𝕜",bE="𝒦",wE="𝓀",CE="⇚",kE="Ĺ",TE="ĺ",xE="⦴",EE="ℒ",LE="Λ",ME="λ",SE="⟨",AE="⟪",OE="⦑",IE="⟨",DE="⪅",NE="ℒ",RE="«",BE="⇤",HE="⤟",PE="←",qE="↞",$E="⇐",FE="⤝",_E="↩",UE="↫",VE="⤹",jE="⥳",zE="↢",WE="⤙",GE="⤛",XE="⪫",QE="⪭",KE="⪭︀",ZE="⤌",YE="⤎",JE="❲",e0="{",t0="[",r0="⦋",n0="⦏",a0="⦍",i0="Ľ",o0="ľ",s0="Ļ",l0="ļ",u0="⌈",c0="{",v0="Л",f0="л",d0="⤶",p0="“",h0="„",m0="⥧",g0="⥋",y0="↲",b0="≤",w0="≦",C0="⟨",k0="⇤",T0="←",x0="←",E0="⇐",L0="⇆",M0="↢",S0="⌈",A0="⟦",O0="⥡",I0="⥙",D0="⇃",N0="⌊",R0="↽",B0="↼",H0="⇇",P0="↔",q0="↔",$0="⇔",F0="⇆",_0="⇋",U0="↭",V0="⥎",j0="↤",z0="⊣",W0="⥚",G0="⋋",X0="⧏",Q0="⊲",K0="⊴",Z0="⥑",Y0="⥠",J0="⥘",eL="↿",tL="⥒",rL="↼",nL="⪋",aL="⋚",iL="≤",oL="≦",sL="⩽",lL="⪨",uL="⩽",cL="⩿",vL="⪁",fL="⪃",dL="⋚︀",pL="⪓",hL="⪅",mL="⋖",gL="⋚",yL="⪋",bL="⋚",wL="≦",CL="≶",kL="≶",TL="⪡",xL="≲",EL="⩽",LL="≲",ML="⥼",SL="⌊",AL="𝔏",OL="𝔩",IL="≶",DL="⪑",NL="⥢",RL="↽",BL="↼",HL="⥪",PL="▄",qL="Љ",$L="љ",FL="⇇",_L="≪",UL="⋘",VL="⌞",jL="⇚",zL="⥫",WL="◺",GL="Ŀ",XL="ŀ",QL="⎰",KL="⎰",ZL="⪉",YL="⪉",JL="⪇",eM="≨",tM="⪇",rM="≨",nM="⋦",aM="⟬",iM="⇽",oM="⟦",sM="⟵",lM="⟵",uM="⟸",cM="⟷",vM="⟷",fM="⟺",dM="⟼",pM="⟶",hM="⟶",mM="⟹",gM="↫",yM="↬",bM="⦅",wM="𝕃",CM="𝕝",kM="⨭",TM="⨴",xM="∗",EM="_",LM="↙",MM="↘",SM="◊",AM="◊",OM="⧫",IM="(",DM="⦓",NM="⇆",RM="⌟",BM="⇋",HM="⥭",PM="‎",qM="⊿",$M="‹",FM="𝓁",_M="ℒ",UM="↰",VM="↰",jM="≲",zM="⪍",WM="⪏",GM="[",XM="‘",QM="‚",KM="Ł",ZM="ł",YM="⪦",JM="⩹",eS="<",tS="<",rS="≪",nS="⋖",aS="⋋",iS="⋉",oS="⥶",sS="⩻",lS="◃",uS="⊴",cS="◂",vS="⦖",fS="⥊",dS="⥦",pS="≨︀",hS="≨︀",mS="¯",gS="♂",yS="✠",bS="✠",wS="↦",CS="↦",kS="↧",TS="↤",xS="↥",ES="▮",LS="⨩",MS="М",SS="м",AS="—",OS="∺",IS="∡",DS=" ",NS="ℳ",RS="𝔐",BS="𝔪",HS="℧",PS="µ",qS="*",$S="⫰",FS="∣",_S="·",US="⊟",VS="−",jS="∸",zS="⨪",WS="∓",GS="⫛",XS="…",QS="∓",KS="⊧",ZS="𝕄",YS="𝕞",JS="∓",eA="𝓂",tA="ℳ",rA="∾",nA="Μ",aA="μ",iA="⊸",oA="⊸",sA="∇",lA="Ń",uA="ń",cA="∠⃒",vA="≉",fA="⩰̸",dA="≋̸",pA="ŉ",hA="≉",mA="♮",gA="ℕ",yA="♮",bA=" ",wA="≎̸",CA="≏̸",kA="⩃",TA="Ň",xA="ň",EA="Ņ",LA="ņ",MA="≇",SA="⩭̸",AA="⩂",OA="Н",IA="н",DA="–",NA="⤤",RA="↗",BA="⇗",HA="↗",PA="≠",qA="≐̸",$A="​",FA="​",_A="​",UA="​",VA="≢",jA="⤨",zA="≂̸",WA="≫",GA="≪",XA=`
`,QA="∄",KA="∄",ZA="𝔑",YA="𝔫",JA="≧̸",eO="≱",tO="≱",rO="≧̸",nO="⩾̸",aO="⩾̸",iO="⋙̸",oO="≵",sO="≫⃒",lO="≯",uO="≯",cO="≫̸",vO="↮",fO="⇎",dO="⫲",pO="∋",hO="⋼",mO="⋺",gO="∋",yO="Њ",bO="њ",wO="↚",CO="⇍",kO="‥",TO="≦̸",xO="≰",EO="↚",LO="⇍",MO="↮",SO="⇎",AO="≰",OO="≦̸",IO="⩽̸",DO="⩽̸",NO="≮",RO="⋘̸",BO="≴",HO="≪⃒",PO="≮",qO="⋪",$O="⋬",FO="≪̸",_O="∤",UO="⁠",VO=" ",jO="𝕟",zO="ℕ",WO="⫬",GO="¬",XO="≢",QO="≭",KO="∦",ZO="∉",YO="≠",JO="≂̸",eI="∄",tI="≯",rI="≱",nI="≧̸",aI="≫̸",iI="≹",oI="⩾̸",sI="≵",lI="≎̸",uI="≏̸",cI="∉",vI="⋵̸",fI="⋹̸",dI="∉",pI="⋷",hI="⋶",mI="⧏̸",gI="⋪",yI="⋬",bI="≮",wI="≰",CI="≸",kI="≪̸",TI="⩽̸",xI="≴",EI="⪢̸",LI="⪡̸",MI="∌",SI="∌",AI="⋾",OI="⋽",II="⊀",DI="⪯̸",NI="⋠",RI="∌",BI="⧐̸",HI="⋫",PI="⋭",qI="⊏̸",$I="⋢",FI="⊐̸",_I="⋣",UI="⊂⃒",VI="⊈",jI="⊁",zI="⪰̸",WI="⋡",GI="≿̸",XI="⊃⃒",QI="⊉",KI="≁",ZI="≄",YI="≇",JI="≉",eD="∤",tD="∦",rD="∦",nD="⫽⃥",aD="∂̸",iD="⨔",oD="⊀",sD="⋠",lD="⊀",uD="⪯̸",cD="⪯̸",vD="⤳̸",fD="↛",dD="⇏",pD="↝̸",hD="↛",mD="⇏",gD="⋫",yD="⋭",bD="⊁",wD="⋡",CD="⪰̸",kD="𝒩",TD="𝓃",xD="∤",ED="∦",LD="≁",MD="≄",SD="≄",AD="∤",OD="∦",ID="⋢",DD="⋣",ND="⊄",RD="⫅̸",BD="⊈",HD="⊂⃒",PD="⊈",qD="⫅̸",$D="⊁",FD="⪰̸",_D="⊅",UD="⫆̸",VD="⊉",jD="⊃⃒",zD="⊉",WD="⫆̸",GD="≹",XD="Ñ",QD="ñ",KD="≸",ZD="⋪",YD="⋬",JD="⋫",eN="⋭",tN="Ν",rN="ν",nN="#",aN="№",iN=" ",oN="≍⃒",sN="⊬",lN="⊭",uN="⊮",cN="⊯",vN="≥⃒",fN=">⃒",dN="⤄",pN="⧞",hN="⤂",mN="≤⃒",gN="<⃒",yN="⊴⃒",bN="⤃",wN="⊵⃒",CN="∼⃒",kN="⤣",TN="↖",xN="⇖",EN="↖",LN="⤧",MN="Ó",SN="ó",AN="⊛",ON="Ô",IN="ô",DN="⊚",NN="О",RN="о",BN="⊝",HN="Ő",PN="ő",qN="⨸",$N="⊙",FN="⦼",_N="Œ",UN="œ",VN="⦿",jN="𝔒",zN="𝔬",WN="˛",GN="Ò",XN="ò",QN="⧁",KN="⦵",ZN="Ω",YN="∮",JN="↺",eR="⦾",tR="⦻",rR="‾",nR="⧀",aR="Ō",iR="ō",oR="Ω",sR="ω",lR="Ο",uR="ο",cR="⦶",vR="⊖",fR="𝕆",dR="𝕠",pR="⦷",hR="“",mR="‘",gR="⦹",yR="⊕",bR="↻",wR="⩔",CR="∨",kR="⩝",TR="ℴ",xR="ℴ",ER="ª",LR="º",MR="⊶",SR="⩖",AR="⩗",OR="⩛",IR="Ⓢ",DR="𝒪",NR="ℴ",RR="Ø",BR="ø",HR="⊘",PR="Õ",qR="õ",$R="⨶",FR="⨷",_R="⊗",UR="Ö",VR="ö",jR="⌽",zR="‾",WR="⏞",GR="⎴",XR="⏜",QR="¶",KR="∥",ZR="∥",YR="⫳",JR="⫽",eB="∂",tB="∂",rB="П",nB="п",aB="%",iB=".",oB="‰",sB="⊥",lB="‱",uB="𝔓",cB="𝔭",vB="Φ",fB="φ",dB="ϕ",pB="ℳ",hB="☎",mB="Π",gB="π",yB="⋔",bB="ϖ",wB="ℏ",CB="ℎ",kB="ℏ",TB="⨣",xB="⊞",EB="⨢",LB="+",MB="∔",SB="⨥",AB="⩲",OB="±",IB="±",DB="⨦",NB="⨧",RB="±",BB="ℌ",HB="⨕",PB="𝕡",qB="ℙ",$B="£",FB="⪷",_B="⪻",UB="≺",VB="≼",jB="⪷",zB="≺",WB="≼",GB="≺",XB="⪯",QB="≼",KB="≾",ZB="⪯",YB="⪹",JB="⪵",eH="⋨",tH="⪯",rH="⪳",nH="≾",aH="′",iH="″",oH="ℙ",sH="⪹",lH="⪵",uH="⋨",cH="∏",vH="∏",fH="⌮",dH="⌒",pH="⌓",hH="∝",mH="∝",gH="∷",yH="∝",bH="≾",wH="⊰",CH="𝒫",kH="𝓅",TH="Ψ",xH="ψ",EH=" ",LH="𝔔",MH="𝔮",SH="⨌",AH="𝕢",OH="ℚ",IH="⁗",DH="𝒬",NH="𝓆",RH="ℍ",BH="⨖",HH="?",PH="≟",qH='"',$H='"',FH="⇛",_H="∽̱",UH="Ŕ",VH="ŕ",jH="√",zH="⦳",WH="⟩",GH="⟫",XH="⦒",QH="⦥",KH="⟩",ZH="»",YH="⥵",JH="⇥",eP="⤠",tP="⤳",rP="→",nP="↠",aP="⇒",iP="⤞",oP="↪",sP="↬",lP="⥅",uP="⥴",cP="⤖",vP="↣",fP="↝",dP="⤚",pP="⤜",hP="∶",mP="ℚ",gP="⤍",yP="⤏",bP="⤐",wP="❳",CP="}",kP="]",TP="⦌",xP="⦎",EP="⦐",LP="Ř",MP="ř",SP="Ŗ",AP="ŗ",OP="⌉",IP="}",DP="Р",NP="р",RP="⤷",BP="⥩",HP="”",PP="”",qP="↳",$P="ℜ",FP="ℛ",_P="ℜ",UP="ℝ",VP="ℜ",jP="▭",zP="®",WP="®",GP="∋",XP="⇋",QP="⥯",KP="⥽",ZP="⌋",YP="𝔯",JP="ℜ",eq="⥤",tq="⇁",rq="⇀",nq="⥬",aq="Ρ",iq="ρ",oq="ϱ",sq="⟩",lq="⇥",uq="→",cq="→",vq="⇒",fq="⇄",dq="↣",pq="⌉",hq="⟧",mq="⥝",gq="⥕",yq="⇂",bq="⌋",wq="⇁",Cq="⇀",kq="⇄",Tq="⇌",xq="⇉",Eq="↝",Lq="↦",Mq="⊢",Sq="⥛",Aq="⋌",Oq="⧐",Iq="⊳",Dq="⊵",Nq="⥏",Rq="⥜",Bq="⥔",Hq="↾",Pq="⥓",qq="⇀",$q="˚",Fq="≓",_q="⇄",Uq="⇌",Vq="‏",jq="⎱",zq="⎱",Wq="⫮",Gq="⟭",Xq="⇾",Qq="⟧",Kq="⦆",Zq="𝕣",Yq="ℝ",Jq="⨮",e$="⨵",t$="⥰",r$=")",n$="⦔",a$="⨒",i$="⇉",o$="⇛",s$="›",l$="𝓇",u$="ℛ",c$="↱",v$="↱",f$="]",d$="’",p$="’",h$="⋌",m$="⋊",g$="▹",y$="⊵",b$="▸",w$="⧎",C$="⧴",k$="⥨",T$="℞",x$="Ś",E$="ś",L$="‚",M$="⪸",S$="Š",A$="š",O$="⪼",I$="≻",D$="≽",N$="⪰",R$="⪴",B$="Ş",H$="ş",P$="Ŝ",q$="ŝ",$$="⪺",F$="⪶",_$="⋩",U$="⨓",V$="≿",j$="С",z$="с",W$="⊡",G$="⋅",X$="⩦",Q$="⤥",K$="↘",Z$="⇘",Y$="↘",J$="§",eF=";",tF="⤩",rF="∖",nF="∖",aF="✶",iF="𝔖",oF="𝔰",sF="⌢",lF="♯",uF="Щ",cF="щ",vF="Ш",fF="ш",dF="↓",pF="←",hF="∣",mF="∥",gF="→",yF="↑",bF="­",wF="Σ",CF="σ",kF="ς",TF="ς",xF="∼",EF="⩪",LF="≃",MF="≃",SF="⪞",AF="⪠",OF="⪝",IF="⪟",DF="≆",NF="⨤",RF="⥲",BF="←",HF="∘",PF="∖",qF="⨳",$F="⧤",FF="∣",_F="⌣",UF="⪪",VF="⪬",jF="⪬︀",zF="Ь",WF="ь",GF="⌿",XF="⧄",QF="/",KF="𝕊",ZF="𝕤",YF="♠",JF="♠",e_="∥",t_="⊓",r_="⊓︀",n_="⊔",a_="⊔︀",i_="√",o_="⊏",s_="⊑",l_="⊏",u_="⊑",c_="⊐",v_="⊒",f_="⊐",d_="⊒",p_="□",h_="□",m_="⊓",g_="⊏",y_="⊑",b_="⊐",w_="⊒",C_="⊔",k_="▪",T_="□",x_="▪",E_="→",L_="𝒮",M_="𝓈",S_="∖",A_="⌣",O_="⋆",I_="⋆",D_="☆",N_="★",R_="ϵ",B_="ϕ",H_="¯",P_="⊂",q_="⋐",$_="⪽",F_="⫅",__="⊆",U_="⫃",V_="⫁",j_="⫋",z_="⊊",W_="⪿",G_="⥹",X_="⊂",Q_="⋐",K_="⊆",Z_="⫅",Y_="⊆",J_="⊊",eU="⫋",tU="⫇",rU="⫕",nU="⫓",aU="⪸",iU="≻",oU="≽",sU="≻",lU="⪰",uU="≽",cU="≿",vU="⪰",fU="⪺",dU="⪶",pU="⋩",hU="≿",mU="∋",gU="∑",yU="∑",bU="♪",wU="¹",CU="²",kU="³",TU="⊃",xU="⋑",EU="⪾",LU="⫘",MU="⫆",SU="⊇",AU="⫄",OU="⊃",IU="⊇",DU="⟉",NU="⫗",RU="⥻",BU="⫂",HU="⫌",PU="⊋",qU="⫀",$U="⊃",FU="⋑",_U="⊇",UU="⫆",VU="⊋",jU="⫌",zU="⫈",WU="⫔",GU="⫖",XU="⤦",QU="↙",KU="⇙",ZU="↙",YU="⤪",JU="ß",e2="	",t2="⌖",r2="Τ",n2="τ",a2="⎴",i2="Ť",o2="ť",s2="Ţ",l2="ţ",u2="Т",c2="т",v2="⃛",f2="⌕",d2="𝔗",p2="𝔱",h2="∴",m2="∴",g2="∴",y2="Θ",b2="θ",w2="ϑ",C2="ϑ",k2="≈",T2="∼",x2="  ",E2=" ",L2=" ",M2="≈",S2="∼",A2="Þ",O2="þ",I2="˜",D2="∼",N2="≃",R2="≅",B2="≈",H2="⨱",P2="⊠",q2="×",$2="⨰",F2="∭",_2="⤨",U2="⌶",V2="⫱",j2="⊤",z2="𝕋",W2="𝕥",G2="⫚",X2="⤩",Q2="‴",K2="™",Z2="™",Y2="▵",J2="▿",eV="◃",tV="⊴",rV="≜",nV="▹",aV="⊵",iV="◬",oV="≜",sV="⨺",lV="⃛",uV="⨹",cV="⧍",vV="⨻",fV="⏢",dV="𝒯",pV="𝓉",hV="Ц",mV="ц",gV="Ћ",yV="ћ",bV="Ŧ",wV="ŧ",CV="≬",kV="↞",TV="↠",xV="Ú",EV="ú",LV="↑",MV="↟",SV="⇑",AV="⥉",OV="Ў",IV="ў",DV="Ŭ",NV="ŭ",RV="Û",BV="û",HV="У",PV="у",qV="⇅",$V="Ű",FV="ű",_V="⥮",UV="⥾",VV="𝔘",jV="𝔲",zV="Ù",WV="ù",GV="⥣",XV="↿",QV="↾",KV="▀",ZV="⌜",YV="⌜",JV="⌏",ej="◸",tj="Ū",rj="ū",nj="¨",aj="_",ij="⏟",oj="⎵",sj="⏝",lj="⋃",uj="⊎",cj="Ų",vj="ų",fj="𝕌",dj="𝕦",pj="⤒",hj="↑",mj="↑",gj="⇑",yj="⇅",bj="↕",wj="↕",Cj="⇕",kj="⥮",Tj="↿",xj="↾",Ej="⊎",Lj="↖",Mj="↗",Sj="υ",Aj="ϒ",Oj="ϒ",Ij="Υ",Dj="υ",Nj="↥",Rj="⊥",Bj="⇈",Hj="⌝",Pj="⌝",qj="⌎",$j="Ů",Fj="ů",_j="◹",Uj="𝒰",Vj="𝓊",jj="⋰",zj="Ũ",Wj="ũ",Gj="▵",Xj="▴",Qj="⇈",Kj="Ü",Zj="ü",Yj="⦧",Jj="⦜",ez="ϵ",tz="ϰ",rz="∅",nz="ϕ",az="ϖ",iz="∝",oz="↕",sz="⇕",lz="ϱ",uz="ς",cz="⊊︀",vz="⫋︀",fz="⊋︀",dz="⫌︀",pz="ϑ",hz="⊲",mz="⊳",gz="⫨",yz="⫫",bz="⫩",wz="В",Cz="в",kz="⊢",Tz="⊨",xz="⊩",Ez="⊫",Lz="⫦",Mz="⊻",Sz="∨",Az="⋁",Oz="≚",Iz="⋮",Dz="|",Nz="‖",Rz="|",Bz="‖",Hz="∣",Pz="|",qz="❘",$z="≀",Fz=" ",_z="𝔙",Uz="𝔳",Vz="⊲",jz="⊂⃒",zz="⊃⃒",Wz="𝕍",Gz="𝕧",Xz="∝",Qz="⊳",Kz="𝒱",Zz="𝓋",Yz="⫋︀",Jz="⊊︀",e3="⫌︀",t3="⊋︀",r3="⊪",n3="⦚",a3="Ŵ",i3="ŵ",o3="⩟",s3="∧",l3="⋀",u3="≙",c3="℘",v3="𝔚",f3="𝔴",d3="𝕎",p3="𝕨",h3="℘",m3="≀",g3="≀",y3="𝒲",b3="𝓌",w3="⋂",C3="◯",k3="⋃",T3="▽",x3="𝔛",E3="𝔵",L3="⟷",M3="⟺",S3="Ξ",A3="ξ",O3="⟵",I3="⟸",D3="⟼",N3="⋻",R3="⨀",B3="𝕏",H3="𝕩",P3="⨁",q3="⨂",$3="⟶",F3="⟹",_3="𝒳",U3="𝓍",V3="⨆",j3="⨄",z3="△",W3="⋁",G3="⋀",X3="Ý",Q3="ý",K3="Я",Z3="я",Y3="Ŷ",J3="ŷ",eW="Ы",tW="ы",rW="¥",nW="𝔜",aW="𝔶",iW="Ї",oW="ї",sW="𝕐",lW="𝕪",uW="𝒴",cW="𝓎",vW="Ю",fW="ю",dW="ÿ",pW="Ÿ",hW="Ź",mW="ź",gW="Ž",yW="ž",bW="З",wW="з",CW="Ż",kW="ż",TW="ℨ",xW="​",EW="Ζ",LW="ζ",MW="𝔷",SW="ℨ",AW="Ж",OW="ж",IW="⇝",DW="𝕫",NW="ℤ",RW="𝒵",BW="𝓏",HW="‍",PW="‌",xo={Aacute:wv,aacute:Cv,Abreve:kv,abreve:Tv,ac:xv,acd:Ev,acE:Lv,Acirc:Mv,acirc:Sv,acute:Av,Acy:Ov,acy:Iv,AElig:Dv,aelig:Nv,af:Rv,Afr:Bv,afr:Hv,Agrave:Pv,agrave:qv,alefsym:$v,aleph:Fv,Alpha:_v,alpha:Uv,Amacr:Vv,amacr:jv,amalg:zv,amp:Wv,AMP:Gv,andand:Xv,And:Qv,and:Kv,andd:Zv,andslope:Yv,andv:Jv,ang:ef,ange:tf,angle:rf,angmsdaa:nf,angmsdab:af,angmsdac:of,angmsdad:sf,angmsdae:lf,angmsdaf:uf,angmsdag:cf,angmsdah:vf,angmsd:ff,angrt:df,angrtvb:pf,angrtvbd:hf,angsph:mf,angst:gf,angzarr:yf,Aogon:bf,aogon:wf,Aopf:Cf,aopf:kf,apacir:Tf,ap:xf,apE:Ef,ape:Lf,apid:Mf,apos:Sf,ApplyFunction:Af,approx:Of,approxeq:If,Aring:Df,aring:Nf,Ascr:Rf,ascr:Bf,Assign:Hf,ast:Pf,asymp:qf,asympeq:$f,Atilde:Ff,atilde:_f,Auml:Uf,auml:Vf,awconint:jf,awint:zf,backcong:Wf,backepsilon:Gf,backprime:Xf,backsim:Qf,backsimeq:Kf,Backslash:Zf,Barv:Yf,barvee:Jf,barwed:ed,Barwed:td,barwedge:rd,bbrk:nd,bbrktbrk:ad,bcong:id,Bcy:od,bcy:sd,bdquo:ld,becaus:ud,because:cd,Because:vd,bemptyv:fd,bepsi:dd,bernou:pd,Bernoullis:hd,Beta:md,beta:gd,beth:yd,between:bd,Bfr:wd,bfr:Cd,bigcap:kd,bigcirc:Td,bigcup:xd,bigodot:Ed,bigoplus:Ld,bigotimes:Md,bigsqcup:Sd,bigstar:Ad,bigtriangledown:Od,bigtriangleup:Id,biguplus:Dd,bigvee:Nd,bigwedge:Rd,bkarow:Bd,blacklozenge:Hd,blacksquare:Pd,blacktriangle:qd,blacktriangledown:$d,blacktriangleleft:Fd,blacktriangleright:_d,blank:Ud,blk12:Vd,blk14:jd,blk34:zd,block:Wd,bne:Gd,bnequiv:Xd,bNot:Qd,bnot:Kd,Bopf:Zd,bopf:Yd,bot:Jd,bottom:ep,bowtie:tp,boxbox:rp,boxdl:np,boxdL:ap,boxDl:ip,boxDL:op,boxdr:sp,boxdR:lp,boxDr:up,boxDR:cp,boxh:vp,boxH:fp,boxhd:dp,boxHd:pp,boxhD:hp,boxHD:mp,boxhu:gp,boxHu:yp,boxhU:bp,boxHU:wp,boxminus:Cp,boxplus:kp,boxtimes:Tp,boxul:xp,boxuL:Ep,boxUl:Lp,boxUL:Mp,boxur:Sp,boxuR:Ap,boxUr:Op,boxUR:Ip,boxv:Dp,boxV:Np,boxvh:Rp,boxvH:Bp,boxVh:Hp,boxVH:Pp,boxvl:qp,boxvL:$p,boxVl:Fp,boxVL:_p,boxvr:Up,boxvR:Vp,boxVr:jp,boxVR:zp,bprime:Wp,breve:Gp,Breve:Xp,brvbar:Qp,bscr:Kp,Bscr:Zp,bsemi:Yp,bsim:Jp,bsime:eh,bsolb:th,bsol:rh,bsolhsub:nh,bull:ah,bullet:ih,bump:oh,bumpE:sh,bumpe:lh,Bumpeq:uh,bumpeq:ch,Cacute:vh,cacute:fh,capand:dh,capbrcup:ph,capcap:hh,cap:mh,Cap:gh,capcup:yh,capdot:bh,CapitalDifferentialD:wh,caps:Ch,caret:kh,caron:Th,Cayleys:xh,ccaps:Eh,Ccaron:Lh,ccaron:Mh,Ccedil:Sh,ccedil:Ah,Ccirc:Oh,ccirc:Ih,Cconint:Dh,ccups:Nh,ccupssm:Rh,Cdot:Bh,cdot:Hh,cedil:Ph,Cedilla:qh,cemptyv:$h,cent:Fh,centerdot:_h,CenterDot:Uh,cfr:Vh,Cfr:jh,CHcy:zh,chcy:Wh,check:Gh,checkmark:Xh,Chi:Qh,chi:Kh,circ:Zh,circeq:Yh,circlearrowleft:Jh,circlearrowright:em,circledast:tm,circledcirc:rm,circleddash:nm,CircleDot:am,circledR:im,circledS:om,CircleMinus:sm,CirclePlus:lm,CircleTimes:um,cir:cm,cirE:vm,cire:fm,cirfnint:dm,cirmid:pm,cirscir:hm,ClockwiseContourIntegral:mm,CloseCurlyDoubleQuote:gm,CloseCurlyQuote:ym,clubs:bm,clubsuit:wm,colon:Cm,Colon:km,Colone:Tm,colone:xm,coloneq:Em,comma:Lm,commat:Mm,comp:Sm,compfn:Am,complement:Om,complexes:Im,cong:Dm,congdot:Nm,Congruent:Rm,conint:Bm,Conint:Hm,ContourIntegral:Pm,copf:qm,Copf:$m,coprod:Fm,Coproduct:_m,copy:Um,COPY:Vm,copysr:jm,CounterClockwiseContourIntegral:zm,crarr:Wm,cross:Gm,Cross:Xm,Cscr:Qm,cscr:Km,csub:Zm,csube:Ym,csup:Jm,csupe:eg,ctdot:tg,cudarrl:rg,cudarrr:ng,cuepr:ag,cuesc:ig,cularr:og,cularrp:sg,cupbrcap:lg,cupcap:ug,CupCap:cg,cup:vg,Cup:fg,cupcup:dg,cupdot:pg,cupor:hg,cups:mg,curarr:gg,curarrm:yg,curlyeqprec:bg,curlyeqsucc:wg,curlyvee:Cg,curlywedge:kg,curren:Tg,curvearrowleft:xg,curvearrowright:Eg,cuvee:Lg,cuwed:Mg,cwconint:Sg,cwint:Ag,cylcty:Og,dagger:Ig,Dagger:Dg,daleth:Ng,darr:Rg,Darr:Bg,dArr:Hg,dash:Pg,Dashv:qg,dashv:$g,dbkarow:Fg,dblac:_g,Dcaron:Ug,dcaron:Vg,Dcy:jg,dcy:zg,ddagger:Wg,ddarr:Gg,DD:Xg,dd:Qg,DDotrahd:Kg,ddotseq:Zg,deg:Yg,Del:Jg,Delta:ey,delta:ty,demptyv:ry,dfisht:ny,Dfr:ay,dfr:iy,dHar:oy,dharl:sy,dharr:ly,DiacriticalAcute:uy,DiacriticalDot:cy,DiacriticalDoubleAcute:vy,DiacriticalGrave:fy,DiacriticalTilde:dy,diam:py,diamond:hy,Diamond:my,diamondsuit:gy,diams:yy,die:by,DifferentialD:wy,digamma:Cy,disin:ky,div:Ty,divide:xy,divideontimes:Ey,divonx:Ly,DJcy:My,djcy:Sy,dlcorn:Ay,dlcrop:Oy,dollar:Iy,Dopf:Dy,dopf:Ny,Dot:Ry,dot:By,DotDot:Hy,doteq:Py,doteqdot:qy,DotEqual:$y,dotminus:Fy,dotplus:_y,dotsquare:Uy,doublebarwedge:Vy,DoubleContourIntegral:jy,DoubleDot:zy,DoubleDownArrow:Wy,DoubleLeftArrow:Gy,DoubleLeftRightArrow:Xy,DoubleLeftTee:Qy,DoubleLongLeftArrow:Ky,DoubleLongLeftRightArrow:Zy,DoubleLongRightArrow:Yy,DoubleRightArrow:Jy,DoubleRightTee:eb,DoubleUpArrow:tb,DoubleUpDownArrow:rb,DoubleVerticalBar:nb,DownArrowBar:ab,downarrow:ib,DownArrow:ob,Downarrow:sb,DownArrowUpArrow:lb,DownBreve:ub,downdownarrows:cb,downharpoonleft:vb,downharpoonright:fb,DownLeftRightVector:db,DownLeftTeeVector:pb,DownLeftVectorBar:hb,DownLeftVector:mb,DownRightTeeVector:gb,DownRightVectorBar:yb,DownRightVector:bb,DownTeeArrow:wb,DownTee:Cb,drbkarow:kb,drcorn:Tb,drcrop:xb,Dscr:Eb,dscr:Lb,DScy:Mb,dscy:Sb,dsol:Ab,Dstrok:Ob,dstrok:Ib,dtdot:Db,dtri:Nb,dtrif:Rb,duarr:Bb,duhar:Hb,dwangle:Pb,DZcy:qb,dzcy:$b,dzigrarr:Fb,Eacute:_b,eacute:Ub,easter:Vb,Ecaron:jb,ecaron:zb,Ecirc:Wb,ecirc:Gb,ecir:Xb,ecolon:Qb,Ecy:Kb,ecy:Zb,eDDot:Yb,Edot:Jb,edot:ew,eDot:tw,ee:rw,efDot:nw,Efr:aw,efr:iw,eg:ow,Egrave:sw,egrave:lw,egs:uw,egsdot:cw,el:vw,Element:fw,elinters:dw,ell:pw,els:hw,elsdot:mw,Emacr:gw,emacr:yw,empty:bw,emptyset:ww,EmptySmallSquare:Cw,emptyv:kw,EmptyVerySmallSquare:Tw,emsp13:xw,emsp14:Ew,emsp:Lw,ENG:Mw,eng:Sw,ensp:Aw,Eogon:Ow,eogon:Iw,Eopf:Dw,eopf:Nw,epar:Rw,eparsl:Bw,eplus:Hw,epsi:Pw,Epsilon:qw,epsilon:$w,epsiv:Fw,eqcirc:_w,eqcolon:Uw,eqsim:Vw,eqslantgtr:jw,eqslantless:zw,Equal:Ww,equals:Gw,EqualTilde:Xw,equest:Qw,Equilibrium:Kw,equiv:Zw,equivDD:Yw,eqvparsl:Jw,erarr:eC,erDot:tC,escr:rC,Escr:nC,esdot:aC,Esim:iC,esim:oC,Eta:sC,eta:lC,ETH:uC,eth:cC,Euml:vC,euml:fC,euro:dC,excl:pC,exist:hC,Exists:mC,expectation:gC,exponentiale:yC,ExponentialE:bC,fallingdotseq:wC,Fcy:CC,fcy:kC,female:TC,ffilig:xC,fflig:EC,ffllig:LC,Ffr:MC,ffr:SC,filig:AC,FilledSmallSquare:OC,FilledVerySmallSquare:IC,fjlig:DC,flat:NC,fllig:RC,fltns:BC,fnof:HC,Fopf:PC,fopf:qC,forall:$C,ForAll:FC,fork:_C,forkv:UC,Fouriertrf:VC,fpartint:jC,frac12:zC,frac13:WC,frac14:GC,frac15:XC,frac16:QC,frac18:KC,frac23:ZC,frac25:YC,frac34:JC,frac35:ek,frac38:tk,frac45:rk,frac56:nk,frac58:ak,frac78:ik,frasl:ok,frown:sk,fscr:lk,Fscr:uk,gacute:ck,Gamma:vk,gamma:fk,Gammad:dk,gammad:pk,gap:hk,Gbreve:mk,gbreve:gk,Gcedil:yk,Gcirc:bk,gcirc:wk,Gcy:Ck,gcy:kk,Gdot:Tk,gdot:xk,ge:Ek,gE:Lk,gEl:Mk,gel:Sk,geq:Ak,geqq:Ok,geqslant:Ik,gescc:Dk,ges:Nk,gesdot:Rk,gesdoto:Bk,gesdotol:Hk,gesl:Pk,gesles:qk,Gfr:$k,gfr:Fk,gg:_k,Gg:Uk,ggg:Vk,gimel:jk,GJcy:zk,gjcy:Wk,gla:Gk,gl:Xk,glE:Qk,glj:Kk,gnap:Zk,gnapprox:Yk,gne:Jk,gnE:eT,gneq:tT,gneqq:rT,gnsim:nT,Gopf:aT,gopf:iT,grave:oT,GreaterEqual:sT,GreaterEqualLess:lT,GreaterFullEqual:uT,GreaterGreater:cT,GreaterLess:vT,GreaterSlantEqual:fT,GreaterTilde:dT,Gscr:pT,gscr:hT,gsim:mT,gsime:gT,gsiml:yT,gtcc:bT,gtcir:wT,gt:CT,GT:kT,Gt:TT,gtdot:xT,gtlPar:ET,gtquest:LT,gtrapprox:MT,gtrarr:ST,gtrdot:AT,gtreqless:OT,gtreqqless:IT,gtrless:DT,gtrsim:NT,gvertneqq:RT,gvnE:BT,Hacek:HT,hairsp:PT,half:qT,hamilt:$T,HARDcy:FT,hardcy:_T,harrcir:UT,harr:VT,hArr:jT,harrw:zT,Hat:WT,hbar:GT,Hcirc:XT,hcirc:QT,hearts:KT,heartsuit:ZT,hellip:YT,hercon:JT,hfr:e1,Hfr:t1,HilbertSpace:r1,hksearow:n1,hkswarow:a1,hoarr:i1,homtht:o1,hookleftarrow:s1,hookrightarrow:l1,hopf:u1,Hopf:c1,horbar:v1,HorizontalLine:f1,hscr:d1,Hscr:p1,hslash:h1,Hstrok:m1,hstrok:g1,HumpDownHump:y1,HumpEqual:b1,hybull:w1,hyphen:C1,Iacute:k1,iacute:T1,ic:x1,Icirc:E1,icirc:L1,Icy:M1,icy:S1,Idot:A1,IEcy:O1,iecy:I1,iexcl:D1,iff:N1,ifr:R1,Ifr:B1,Igrave:H1,igrave:P1,ii:q1,iiiint:$1,iiint:F1,iinfin:_1,iiota:U1,IJlig:V1,ijlig:j1,Imacr:z1,imacr:W1,image:G1,ImaginaryI:X1,imagline:Q1,imagpart:K1,imath:Z1,Im:Y1,imof:J1,imped:ex,Implies:tx,incare:rx,in:"∈",infin:nx,infintie:ax,inodot:ix,intcal:ox,int:sx,Int:lx,integers:ux,Integral:cx,intercal:vx,Intersection:fx,intlarhk:dx,intprod:px,InvisibleComma:hx,InvisibleTimes:mx,IOcy:gx,iocy:yx,Iogon:bx,iogon:wx,Iopf:Cx,iopf:kx,Iota:Tx,iota:xx,iprod:Ex,iquest:Lx,iscr:Mx,Iscr:Sx,isin:Ax,isindot:Ox,isinE:Ix,isins:Dx,isinsv:Nx,isinv:Rx,it:Bx,Itilde:Hx,itilde:Px,Iukcy:qx,iukcy:$x,Iuml:Fx,iuml:_x,Jcirc:Ux,jcirc:Vx,Jcy:jx,jcy:zx,Jfr:Wx,jfr:Gx,jmath:Xx,Jopf:Qx,jopf:Kx,Jscr:Zx,jscr:Yx,Jsercy:Jx,jsercy:eE,Jukcy:tE,jukcy:rE,Kappa:nE,kappa:aE,kappav:iE,Kcedil:oE,kcedil:sE,Kcy:lE,kcy:uE,Kfr:cE,kfr:vE,kgreen:fE,KHcy:dE,khcy:pE,KJcy:hE,kjcy:mE,Kopf:gE,kopf:yE,Kscr:bE,kscr:wE,lAarr:CE,Lacute:kE,lacute:TE,laemptyv:xE,lagran:EE,Lambda:LE,lambda:ME,lang:SE,Lang:AE,langd:OE,langle:IE,lap:DE,Laplacetrf:NE,laquo:RE,larrb:BE,larrbfs:HE,larr:PE,Larr:qE,lArr:$E,larrfs:FE,larrhk:_E,larrlp:UE,larrpl:VE,larrsim:jE,larrtl:zE,latail:WE,lAtail:GE,lat:XE,late:QE,lates:KE,lbarr:ZE,lBarr:YE,lbbrk:JE,lbrace:e0,lbrack:t0,lbrke:r0,lbrksld:n0,lbrkslu:a0,Lcaron:i0,lcaron:o0,Lcedil:s0,lcedil:l0,lceil:u0,lcub:c0,Lcy:v0,lcy:f0,ldca:d0,ldquo:p0,ldquor:h0,ldrdhar:m0,ldrushar:g0,ldsh:y0,le:b0,lE:w0,LeftAngleBracket:C0,LeftArrowBar:k0,leftarrow:T0,LeftArrow:x0,Leftarrow:E0,LeftArrowRightArrow:L0,leftarrowtail:M0,LeftCeiling:S0,LeftDoubleBracket:A0,LeftDownTeeVector:O0,LeftDownVectorBar:I0,LeftDownVector:D0,LeftFloor:N0,leftharpoondown:R0,leftharpoonup:B0,leftleftarrows:H0,leftrightarrow:P0,LeftRightArrow:q0,Leftrightarrow:$0,leftrightarrows:F0,leftrightharpoons:_0,leftrightsquigarrow:U0,LeftRightVector:V0,LeftTeeArrow:j0,LeftTee:z0,LeftTeeVector:W0,leftthreetimes:G0,LeftTriangleBar:X0,LeftTriangle:Q0,LeftTriangleEqual:K0,LeftUpDownVector:Z0,LeftUpTeeVector:Y0,LeftUpVectorBar:J0,LeftUpVector:eL,LeftVectorBar:tL,LeftVector:rL,lEg:nL,leg:aL,leq:iL,leqq:oL,leqslant:sL,lescc:lL,les:uL,lesdot:cL,lesdoto:vL,lesdotor:fL,lesg:dL,lesges:pL,lessapprox:hL,lessdot:mL,lesseqgtr:gL,lesseqqgtr:yL,LessEqualGreater:bL,LessFullEqual:wL,LessGreater:CL,lessgtr:kL,LessLess:TL,lesssim:xL,LessSlantEqual:EL,LessTilde:LL,lfisht:ML,lfloor:SL,Lfr:AL,lfr:OL,lg:IL,lgE:DL,lHar:NL,lhard:RL,lharu:BL,lharul:HL,lhblk:PL,LJcy:qL,ljcy:$L,llarr:FL,ll:_L,Ll:UL,llcorner:VL,Lleftarrow:jL,llhard:zL,lltri:WL,Lmidot:GL,lmidot:XL,lmoustache:QL,lmoust:KL,lnap:ZL,lnapprox:YL,lne:JL,lnE:eM,lneq:tM,lneqq:rM,lnsim:nM,loang:aM,loarr:iM,lobrk:oM,longleftarrow:sM,LongLeftArrow:lM,Longleftarrow:uM,longleftrightarrow:cM,LongLeftRightArrow:vM,Longleftrightarrow:fM,longmapsto:dM,longrightarrow:pM,LongRightArrow:hM,Longrightarrow:mM,looparrowleft:gM,looparrowright:yM,lopar:bM,Lopf:wM,lopf:CM,loplus:kM,lotimes:TM,lowast:xM,lowbar:EM,LowerLeftArrow:LM,LowerRightArrow:MM,loz:SM,lozenge:AM,lozf:OM,lpar:IM,lparlt:DM,lrarr:NM,lrcorner:RM,lrhar:BM,lrhard:HM,lrm:PM,lrtri:qM,lsaquo:$M,lscr:FM,Lscr:_M,lsh:UM,Lsh:VM,lsim:jM,lsime:zM,lsimg:WM,lsqb:GM,lsquo:XM,lsquor:QM,Lstrok:KM,lstrok:ZM,ltcc:YM,ltcir:JM,lt:eS,LT:tS,Lt:rS,ltdot:nS,lthree:aS,ltimes:iS,ltlarr:oS,ltquest:sS,ltri:lS,ltrie:uS,ltrif:cS,ltrPar:vS,lurdshar:fS,luruhar:dS,lvertneqq:pS,lvnE:hS,macr:mS,male:gS,malt:yS,maltese:bS,Map:"⤅",map:wS,mapsto:CS,mapstodown:kS,mapstoleft:TS,mapstoup:xS,marker:ES,mcomma:LS,Mcy:MS,mcy:SS,mdash:AS,mDDot:OS,measuredangle:IS,MediumSpace:DS,Mellintrf:NS,Mfr:RS,mfr:BS,mho:HS,micro:PS,midast:qS,midcir:$S,mid:FS,middot:_S,minusb:US,minus:VS,minusd:jS,minusdu:zS,MinusPlus:WS,mlcp:GS,mldr:XS,mnplus:QS,models:KS,Mopf:ZS,mopf:YS,mp:JS,mscr:eA,Mscr:tA,mstpos:rA,Mu:nA,mu:aA,multimap:iA,mumap:oA,nabla:sA,Nacute:lA,nacute:uA,nang:cA,nap:vA,napE:fA,napid:dA,napos:pA,napprox:hA,natural:mA,naturals:gA,natur:yA,nbsp:bA,nbump:wA,nbumpe:CA,ncap:kA,Ncaron:TA,ncaron:xA,Ncedil:EA,ncedil:LA,ncong:MA,ncongdot:SA,ncup:AA,Ncy:OA,ncy:IA,ndash:DA,nearhk:NA,nearr:RA,neArr:BA,nearrow:HA,ne:PA,nedot:qA,NegativeMediumSpace:$A,NegativeThickSpace:FA,NegativeThinSpace:_A,NegativeVeryThinSpace:UA,nequiv:VA,nesear:jA,nesim:zA,NestedGreaterGreater:WA,NestedLessLess:GA,NewLine:XA,nexist:QA,nexists:KA,Nfr:ZA,nfr:YA,ngE:JA,nge:eO,ngeq:tO,ngeqq:rO,ngeqslant:nO,nges:aO,nGg:iO,ngsim:oO,nGt:sO,ngt:lO,ngtr:uO,nGtv:cO,nharr:vO,nhArr:fO,nhpar:dO,ni:pO,nis:hO,nisd:mO,niv:gO,NJcy:yO,njcy:bO,nlarr:wO,nlArr:CO,nldr:kO,nlE:TO,nle:xO,nleftarrow:EO,nLeftarrow:LO,nleftrightarrow:MO,nLeftrightarrow:SO,nleq:AO,nleqq:OO,nleqslant:IO,nles:DO,nless:NO,nLl:RO,nlsim:BO,nLt:HO,nlt:PO,nltri:qO,nltrie:$O,nLtv:FO,nmid:_O,NoBreak:UO,NonBreakingSpace:VO,nopf:jO,Nopf:zO,Not:WO,not:GO,NotCongruent:XO,NotCupCap:QO,NotDoubleVerticalBar:KO,NotElement:ZO,NotEqual:YO,NotEqualTilde:JO,NotExists:eI,NotGreater:tI,NotGreaterEqual:rI,NotGreaterFullEqual:nI,NotGreaterGreater:aI,NotGreaterLess:iI,NotGreaterSlantEqual:oI,NotGreaterTilde:sI,NotHumpDownHump:lI,NotHumpEqual:uI,notin:cI,notindot:vI,notinE:fI,notinva:dI,notinvb:pI,notinvc:hI,NotLeftTriangleBar:mI,NotLeftTriangle:gI,NotLeftTriangleEqual:yI,NotLess:bI,NotLessEqual:wI,NotLessGreater:CI,NotLessLess:kI,NotLessSlantEqual:TI,NotLessTilde:xI,NotNestedGreaterGreater:EI,NotNestedLessLess:LI,notni:MI,notniva:SI,notnivb:AI,notnivc:OI,NotPrecedes:II,NotPrecedesEqual:DI,NotPrecedesSlantEqual:NI,NotReverseElement:RI,NotRightTriangleBar:BI,NotRightTriangle:HI,NotRightTriangleEqual:PI,NotSquareSubset:qI,NotSquareSubsetEqual:$I,NotSquareSuperset:FI,NotSquareSupersetEqual:_I,NotSubset:UI,NotSubsetEqual:VI,NotSucceeds:jI,NotSucceedsEqual:zI,NotSucceedsSlantEqual:WI,NotSucceedsTilde:GI,NotSuperset:XI,NotSupersetEqual:QI,NotTilde:KI,NotTildeEqual:ZI,NotTildeFullEqual:YI,NotTildeTilde:JI,NotVerticalBar:eD,nparallel:tD,npar:rD,nparsl:nD,npart:aD,npolint:iD,npr:oD,nprcue:sD,nprec:lD,npreceq:uD,npre:cD,nrarrc:vD,nrarr:fD,nrArr:dD,nrarrw:pD,nrightarrow:hD,nRightarrow:mD,nrtri:gD,nrtrie:yD,nsc:bD,nsccue:wD,nsce:CD,Nscr:kD,nscr:TD,nshortmid:xD,nshortparallel:ED,nsim:LD,nsime:MD,nsimeq:SD,nsmid:AD,nspar:OD,nsqsube:ID,nsqsupe:DD,nsub:ND,nsubE:RD,nsube:BD,nsubset:HD,nsubseteq:PD,nsubseteqq:qD,nsucc:$D,nsucceq:FD,nsup:_D,nsupE:UD,nsupe:VD,nsupset:jD,nsupseteq:zD,nsupseteqq:WD,ntgl:GD,Ntilde:XD,ntilde:QD,ntlg:KD,ntriangleleft:ZD,ntrianglelefteq:YD,ntriangleright:JD,ntrianglerighteq:eN,Nu:tN,nu:rN,num:nN,numero:aN,numsp:iN,nvap:oN,nvdash:sN,nvDash:lN,nVdash:uN,nVDash:cN,nvge:vN,nvgt:fN,nvHarr:dN,nvinfin:pN,nvlArr:hN,nvle:mN,nvlt:gN,nvltrie:yN,nvrArr:bN,nvrtrie:wN,nvsim:CN,nwarhk:kN,nwarr:TN,nwArr:xN,nwarrow:EN,nwnear:LN,Oacute:MN,oacute:SN,oast:AN,Ocirc:ON,ocirc:IN,ocir:DN,Ocy:NN,ocy:RN,odash:BN,Odblac:HN,odblac:PN,odiv:qN,odot:$N,odsold:FN,OElig:_N,oelig:UN,ofcir:VN,Ofr:jN,ofr:zN,ogon:WN,Ograve:GN,ograve:XN,ogt:QN,ohbar:KN,ohm:ZN,oint:YN,olarr:JN,olcir:eR,olcross:tR,oline:rR,olt:nR,Omacr:aR,omacr:iR,Omega:oR,omega:sR,Omicron:lR,omicron:uR,omid:cR,ominus:vR,Oopf:fR,oopf:dR,opar:pR,OpenCurlyDoubleQuote:hR,OpenCurlyQuote:mR,operp:gR,oplus:yR,orarr:bR,Or:wR,or:CR,ord:kR,order:TR,orderof:xR,ordf:ER,ordm:LR,origof:MR,oror:SR,orslope:AR,orv:OR,oS:IR,Oscr:DR,oscr:NR,Oslash:RR,oslash:BR,osol:HR,Otilde:PR,otilde:qR,otimesas:$R,Otimes:FR,otimes:_R,Ouml:UR,ouml:VR,ovbar:jR,OverBar:zR,OverBrace:WR,OverBracket:GR,OverParenthesis:XR,para:QR,parallel:KR,par:ZR,parsim:YR,parsl:JR,part:eB,PartialD:tB,Pcy:rB,pcy:nB,percnt:aB,period:iB,permil:oB,perp:sB,pertenk:lB,Pfr:uB,pfr:cB,Phi:vB,phi:fB,phiv:dB,phmmat:pB,phone:hB,Pi:mB,pi:gB,pitchfork:yB,piv:bB,planck:wB,planckh:CB,plankv:kB,plusacir:TB,plusb:xB,pluscir:EB,plus:LB,plusdo:MB,plusdu:SB,pluse:AB,PlusMinus:OB,plusmn:IB,plussim:DB,plustwo:NB,pm:RB,Poincareplane:BB,pointint:HB,popf:PB,Popf:qB,pound:$B,prap:FB,Pr:_B,pr:UB,prcue:VB,precapprox:jB,prec:zB,preccurlyeq:WB,Precedes:GB,PrecedesEqual:XB,PrecedesSlantEqual:QB,PrecedesTilde:KB,preceq:ZB,precnapprox:YB,precneqq:JB,precnsim:eH,pre:tH,prE:rH,precsim:nH,prime:aH,Prime:iH,primes:oH,prnap:sH,prnE:lH,prnsim:uH,prod:cH,Product:vH,profalar:fH,profline:dH,profsurf:pH,prop:hH,Proportional:mH,Proportion:gH,propto:yH,prsim:bH,prurel:wH,Pscr:CH,pscr:kH,Psi:TH,psi:xH,puncsp:EH,Qfr:LH,qfr:MH,qint:SH,qopf:AH,Qopf:OH,qprime:IH,Qscr:DH,qscr:NH,quaternions:RH,quatint:BH,quest:HH,questeq:PH,quot:qH,QUOT:$H,rAarr:FH,race:_H,Racute:UH,racute:VH,radic:jH,raemptyv:zH,rang:WH,Rang:GH,rangd:XH,range:QH,rangle:KH,raquo:ZH,rarrap:YH,rarrb:JH,rarrbfs:eP,rarrc:tP,rarr:rP,Rarr:nP,rArr:aP,rarrfs:iP,rarrhk:oP,rarrlp:sP,rarrpl:lP,rarrsim:uP,Rarrtl:cP,rarrtl:vP,rarrw:fP,ratail:dP,rAtail:pP,ratio:hP,rationals:mP,rbarr:gP,rBarr:yP,RBarr:bP,rbbrk:wP,rbrace:CP,rbrack:kP,rbrke:TP,rbrksld:xP,rbrkslu:EP,Rcaron:LP,rcaron:MP,Rcedil:SP,rcedil:AP,rceil:OP,rcub:IP,Rcy:DP,rcy:NP,rdca:RP,rdldhar:BP,rdquo:HP,rdquor:PP,rdsh:qP,real:$P,realine:FP,realpart:_P,reals:UP,Re:VP,rect:jP,reg:zP,REG:WP,ReverseElement:GP,ReverseEquilibrium:XP,ReverseUpEquilibrium:QP,rfisht:KP,rfloor:ZP,rfr:YP,Rfr:JP,rHar:eq,rhard:tq,rharu:rq,rharul:nq,Rho:aq,rho:iq,rhov:oq,RightAngleBracket:sq,RightArrowBar:lq,rightarrow:uq,RightArrow:cq,Rightarrow:vq,RightArrowLeftArrow:fq,rightarrowtail:dq,RightCeiling:pq,RightDoubleBracket:hq,RightDownTeeVector:mq,RightDownVectorBar:gq,RightDownVector:yq,RightFloor:bq,rightharpoondown:wq,rightharpoonup:Cq,rightleftarrows:kq,rightleftharpoons:Tq,rightrightarrows:xq,rightsquigarrow:Eq,RightTeeArrow:Lq,RightTee:Mq,RightTeeVector:Sq,rightthreetimes:Aq,RightTriangleBar:Oq,RightTriangle:Iq,RightTriangleEqual:Dq,RightUpDownVector:Nq,RightUpTeeVector:Rq,RightUpVectorBar:Bq,RightUpVector:Hq,RightVectorBar:Pq,RightVector:qq,ring:$q,risingdotseq:Fq,rlarr:_q,rlhar:Uq,rlm:Vq,rmoustache:jq,rmoust:zq,rnmid:Wq,roang:Gq,roarr:Xq,robrk:Qq,ropar:Kq,ropf:Zq,Ropf:Yq,roplus:Jq,rotimes:e$,RoundImplies:t$,rpar:r$,rpargt:n$,rppolint:a$,rrarr:i$,Rrightarrow:o$,rsaquo:s$,rscr:l$,Rscr:u$,rsh:c$,Rsh:v$,rsqb:f$,rsquo:d$,rsquor:p$,rthree:h$,rtimes:m$,rtri:g$,rtrie:y$,rtrif:b$,rtriltri:w$,RuleDelayed:C$,ruluhar:k$,rx:T$,Sacute:x$,sacute:E$,sbquo:L$,scap:M$,Scaron:S$,scaron:A$,Sc:O$,sc:I$,sccue:D$,sce:N$,scE:R$,Scedil:B$,scedil:H$,Scirc:P$,scirc:q$,scnap:$$,scnE:F$,scnsim:_$,scpolint:U$,scsim:V$,Scy:j$,scy:z$,sdotb:W$,sdot:G$,sdote:X$,searhk:Q$,searr:K$,seArr:Z$,searrow:Y$,sect:J$,semi:eF,seswar:tF,setminus:rF,setmn:nF,sext:aF,Sfr:iF,sfr:oF,sfrown:sF,sharp:lF,SHCHcy:uF,shchcy:cF,SHcy:vF,shcy:fF,ShortDownArrow:dF,ShortLeftArrow:pF,shortmid:hF,shortparallel:mF,ShortRightArrow:gF,ShortUpArrow:yF,shy:bF,Sigma:wF,sigma:CF,sigmaf:kF,sigmav:TF,sim:xF,simdot:EF,sime:LF,simeq:MF,simg:SF,simgE:AF,siml:OF,simlE:IF,simne:DF,simplus:NF,simrarr:RF,slarr:BF,SmallCircle:HF,smallsetminus:PF,smashp:qF,smeparsl:$F,smid:FF,smile:_F,smt:UF,smte:VF,smtes:jF,SOFTcy:zF,softcy:WF,solbar:GF,solb:XF,sol:QF,Sopf:KF,sopf:ZF,spades:YF,spadesuit:JF,spar:e_,sqcap:t_,sqcaps:r_,sqcup:n_,sqcups:a_,Sqrt:i_,sqsub:o_,sqsube:s_,sqsubset:l_,sqsubseteq:u_,sqsup:c_,sqsupe:v_,sqsupset:f_,sqsupseteq:d_,square:p_,Square:h_,SquareIntersection:m_,SquareSubset:g_,SquareSubsetEqual:y_,SquareSuperset:b_,SquareSupersetEqual:w_,SquareUnion:C_,squarf:k_,squ:T_,squf:x_,srarr:E_,Sscr:L_,sscr:M_,ssetmn:S_,ssmile:A_,sstarf:O_,Star:I_,star:D_,starf:N_,straightepsilon:R_,straightphi:B_,strns:H_,sub:P_,Sub:q_,subdot:$_,subE:F_,sube:__,subedot:U_,submult:V_,subnE:j_,subne:z_,subplus:W_,subrarr:G_,subset:X_,Subset:Q_,subseteq:K_,subseteqq:Z_,SubsetEqual:Y_,subsetneq:J_,subsetneqq:eU,subsim:tU,subsub:rU,subsup:nU,succapprox:aU,succ:iU,succcurlyeq:oU,Succeeds:sU,SucceedsEqual:lU,SucceedsSlantEqual:uU,SucceedsTilde:cU,succeq:vU,succnapprox:fU,succneqq:dU,succnsim:pU,succsim:hU,SuchThat:mU,sum:gU,Sum:yU,sung:bU,sup1:wU,sup2:CU,sup3:kU,sup:TU,Sup:xU,supdot:EU,supdsub:LU,supE:MU,supe:SU,supedot:AU,Superset:OU,SupersetEqual:IU,suphsol:DU,suphsub:NU,suplarr:RU,supmult:BU,supnE:HU,supne:PU,supplus:qU,supset:$U,Supset:FU,supseteq:_U,supseteqq:UU,supsetneq:VU,supsetneqq:jU,supsim:zU,supsub:WU,supsup:GU,swarhk:XU,swarr:QU,swArr:KU,swarrow:ZU,swnwar:YU,szlig:JU,Tab:e2,target:t2,Tau:r2,tau:n2,tbrk:a2,Tcaron:i2,tcaron:o2,Tcedil:s2,tcedil:l2,Tcy:u2,tcy:c2,tdot:v2,telrec:f2,Tfr:d2,tfr:p2,there4:h2,therefore:m2,Therefore:g2,Theta:y2,theta:b2,thetasym:w2,thetav:C2,thickapprox:k2,thicksim:T2,ThickSpace:x2,ThinSpace:E2,thinsp:L2,thkap:M2,thksim:S2,THORN:A2,thorn:O2,tilde:I2,Tilde:D2,TildeEqual:N2,TildeFullEqual:R2,TildeTilde:B2,timesbar:H2,timesb:P2,times:q2,timesd:$2,tint:F2,toea:_2,topbot:U2,topcir:V2,top:j2,Topf:z2,topf:W2,topfork:G2,tosa:X2,tprime:Q2,trade:K2,TRADE:Z2,triangle:Y2,triangledown:J2,triangleleft:eV,trianglelefteq:tV,triangleq:rV,triangleright:nV,trianglerighteq:aV,tridot:iV,trie:oV,triminus:sV,TripleDot:lV,triplus:uV,trisb:cV,tritime:vV,trpezium:fV,Tscr:dV,tscr:pV,TScy:hV,tscy:mV,TSHcy:gV,tshcy:yV,Tstrok:bV,tstrok:wV,twixt:CV,twoheadleftarrow:kV,twoheadrightarrow:TV,Uacute:xV,uacute:EV,uarr:LV,Uarr:MV,uArr:SV,Uarrocir:AV,Ubrcy:OV,ubrcy:IV,Ubreve:DV,ubreve:NV,Ucirc:RV,ucirc:BV,Ucy:HV,ucy:PV,udarr:qV,Udblac:$V,udblac:FV,udhar:_V,ufisht:UV,Ufr:VV,ufr:jV,Ugrave:zV,ugrave:WV,uHar:GV,uharl:XV,uharr:QV,uhblk:KV,ulcorn:ZV,ulcorner:YV,ulcrop:JV,ultri:ej,Umacr:tj,umacr:rj,uml:nj,UnderBar:aj,UnderBrace:ij,UnderBracket:oj,UnderParenthesis:sj,Union:lj,UnionPlus:uj,Uogon:cj,uogon:vj,Uopf:fj,uopf:dj,UpArrowBar:pj,uparrow:hj,UpArrow:mj,Uparrow:gj,UpArrowDownArrow:yj,updownarrow:bj,UpDownArrow:wj,Updownarrow:Cj,UpEquilibrium:kj,upharpoonleft:Tj,upharpoonright:xj,uplus:Ej,UpperLeftArrow:Lj,UpperRightArrow:Mj,upsi:Sj,Upsi:Aj,upsih:Oj,Upsilon:Ij,upsilon:Dj,UpTeeArrow:Nj,UpTee:Rj,upuparrows:Bj,urcorn:Hj,urcorner:Pj,urcrop:qj,Uring:$j,uring:Fj,urtri:_j,Uscr:Uj,uscr:Vj,utdot:jj,Utilde:zj,utilde:Wj,utri:Gj,utrif:Xj,uuarr:Qj,Uuml:Kj,uuml:Zj,uwangle:Yj,vangrt:Jj,varepsilon:ez,varkappa:tz,varnothing:rz,varphi:nz,varpi:az,varpropto:iz,varr:oz,vArr:sz,varrho:lz,varsigma:uz,varsubsetneq:cz,varsubsetneqq:vz,varsupsetneq:fz,varsupsetneqq:dz,vartheta:pz,vartriangleleft:hz,vartriangleright:mz,vBar:gz,Vbar:yz,vBarv:bz,Vcy:wz,vcy:Cz,vdash:kz,vDash:Tz,Vdash:xz,VDash:Ez,Vdashl:Lz,veebar:Mz,vee:Sz,Vee:Az,veeeq:Oz,vellip:Iz,verbar:Dz,Verbar:Nz,vert:Rz,Vert:Bz,VerticalBar:Hz,VerticalLine:Pz,VerticalSeparator:qz,VerticalTilde:$z,VeryThinSpace:Fz,Vfr:_z,vfr:Uz,vltri:Vz,vnsub:jz,vnsup:zz,Vopf:Wz,vopf:Gz,vprop:Xz,vrtri:Qz,Vscr:Kz,vscr:Zz,vsubnE:Yz,vsubne:Jz,vsupnE:e3,vsupne:t3,Vvdash:r3,vzigzag:n3,Wcirc:a3,wcirc:i3,wedbar:o3,wedge:s3,Wedge:l3,wedgeq:u3,weierp:c3,Wfr:v3,wfr:f3,Wopf:d3,wopf:p3,wp:h3,wr:m3,wreath:g3,Wscr:y3,wscr:b3,xcap:w3,xcirc:C3,xcup:k3,xdtri:T3,Xfr:x3,xfr:E3,xharr:L3,xhArr:M3,Xi:S3,xi:A3,xlarr:O3,xlArr:I3,xmap:D3,xnis:N3,xodot:R3,Xopf:B3,xopf:H3,xoplus:P3,xotime:q3,xrarr:$3,xrArr:F3,Xscr:_3,xscr:U3,xsqcup:V3,xuplus:j3,xutri:z3,xvee:W3,xwedge:G3,Yacute:X3,yacute:Q3,YAcy:K3,yacy:Z3,Ycirc:Y3,ycirc:J3,Ycy:eW,ycy:tW,yen:rW,Yfr:nW,yfr:aW,YIcy:iW,yicy:oW,Yopf:sW,yopf:lW,Yscr:uW,yscr:cW,YUcy:vW,yucy:fW,yuml:dW,Yuml:pW,Zacute:hW,zacute:mW,Zcaron:gW,zcaron:yW,Zcy:bW,zcy:wW,Zdot:CW,zdot:kW,zeetrf:TW,ZeroWidthSpace:xW,Zeta:EW,zeta:LW,zfr:MW,Zfr:SW,ZHcy:AW,zhcy:OW,zigrarr:IW,zopf:DW,Zopf:NW,Zscr:RW,zscr:BW,zwj:HW,zwnj:PW},qW="Á",$W="á",FW="Â",_W="â",UW="´",VW="Æ",jW="æ",zW="À",WW="à",GW="&",XW="&",QW="Å",KW="å",ZW="Ã",YW="ã",JW="Ä",eG="ä",tG="¦",rG="Ç",nG="ç",aG="¸",iG="¢",oG="©",sG="©",lG="¤",uG="°",cG="÷",vG="É",fG="é",dG="Ê",pG="ê",hG="È",mG="è",gG="Ð",yG="ð",bG="Ë",wG="ë",CG="½",kG="¼",TG="¾",xG=">",EG=">",LG="Í",MG="í",SG="Î",AG="î",OG="¡",IG="Ì",DG="ì",NG="¿",RG="Ï",BG="ï",HG="«",PG="<",qG="<",$G="¯",FG="µ",_G="·",UG=" ",VG="¬",jG="Ñ",zG="ñ",WG="Ó",GG="ó",XG="Ô",QG="ô",KG="Ò",ZG="ò",YG="ª",JG="º",e4="Ø",t4="ø",r4="Õ",n4="õ",a4="Ö",i4="ö",o4="¶",s4="±",l4="£",u4='"',c4='"',v4="»",f4="®",d4="®",p4="§",h4="­",m4="¹",g4="²",y4="³",b4="ß",w4="Þ",C4="þ",k4="×",T4="Ú",x4="ú",E4="Û",L4="û",M4="Ù",S4="ù",A4="¨",O4="Ü",I4="ü",D4="Ý",N4="ý",R4="¥",B4="ÿ",H4={Aacute:qW,aacute:$W,Acirc:FW,acirc:_W,acute:UW,AElig:VW,aelig:jW,Agrave:zW,agrave:WW,amp:GW,AMP:XW,Aring:QW,aring:KW,Atilde:ZW,atilde:YW,Auml:JW,auml:eG,brvbar:tG,Ccedil:rG,ccedil:nG,cedil:aG,cent:iG,copy:oG,COPY:sG,curren:lG,deg:uG,divide:cG,Eacute:vG,eacute:fG,Ecirc:dG,ecirc:pG,Egrave:hG,egrave:mG,ETH:gG,eth:yG,Euml:bG,euml:wG,frac12:CG,frac14:kG,frac34:TG,gt:xG,GT:EG,Iacute:LG,iacute:MG,Icirc:SG,icirc:AG,iexcl:OG,Igrave:IG,igrave:DG,iquest:NG,Iuml:RG,iuml:BG,laquo:HG,lt:PG,LT:qG,macr:$G,micro:FG,middot:_G,nbsp:UG,not:VG,Ntilde:jG,ntilde:zG,Oacute:WG,oacute:GG,Ocirc:XG,ocirc:QG,Ograve:KG,ograve:ZG,ordf:YG,ordm:JG,Oslash:e4,oslash:t4,Otilde:r4,otilde:n4,Ouml:a4,ouml:i4,para:o4,plusmn:s4,pound:l4,quot:u4,QUOT:c4,raquo:v4,reg:f4,REG:d4,sect:p4,shy:h4,sup1:m4,sup2:g4,sup3:y4,szlig:b4,THORN:w4,thorn:C4,times:k4,Uacute:T4,uacute:x4,Ucirc:E4,ucirc:L4,Ugrave:M4,ugrave:S4,uml:A4,Uuml:O4,uuml:I4,Yacute:D4,yacute:N4,yen:R4,yuml:B4},P4="&",q4="'",$4=">",F4="<",_4='"',Eo={amp:P4,apos:q4,gt:$4,lt:F4,quot:_4},Tn={},U4={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},V4=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tn,"__esModule",{value:!0});var na=V4(U4),j4=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function z4(t){return t>=55296&&t<=57343||t>1114111?"�":(t in na.default&&(t=na.default[t]),j4(t))}Tn.default=z4;var Jt=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(be,"__esModule",{value:!0});be.decodeHTML=be.decodeHTMLStrict=be.decodeXML=void 0;var Ir=Jt(xo),W4=Jt(H4),G4=Jt(Eo),aa=Jt(Tn),X4=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;be.decodeXML=Lo(G4.default);be.decodeHTMLStrict=Lo(Ir.default);function Lo(t){var e=Mo(t);return function(r){return String(r).replace(X4,e)}}var ia=function(t,e){return t<e?1:-1};be.decodeHTML=function(){for(var t=Object.keys(W4.default).sort(ia),e=Object.keys(Ir.default).sort(ia),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var a=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=Mo(Ir.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),i(s)}return function(s){return String(s).replace(a,o)}}();function Mo(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?aa.default(parseInt(r.substr(3),16)):aa.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var ee={},So=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ee,"__esModule",{value:!0});ee.escapeUTF8=ee.escape=ee.encodeNonAsciiHTML=ee.encodeHTML=ee.encodeXML=void 0;var Q4=So(Eo),Ao=Io(Q4.default),Oo=Do(Ao);ee.encodeXML=Bo(Ao);var K4=So(xo),xn=Io(K4.default),Z4=Do(xn);ee.encodeHTML=J4(xn,Z4);ee.encodeNonAsciiHTML=Bo(xn);function Io(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function Do(t){for(var e=[],r=[],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];i.length===1?e.push("\\"+i):r.push(i)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var No=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,Y4=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function er(t){return"&#x"+(t.length>1?Y4(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function J4(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(No,er)}}var Ro=new RegExp(Oo.source+"|"+No.source,"g");function e8(t){return t.replace(Ro,er)}ee.escape=e8;function t8(t){return t.replace(Oo,er)}ee.escapeUTF8=t8;function Bo(t){return function(e){return e.replace(Ro,function(r){return t[r]||er(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=be,r=ee;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}t.decode=n;function a(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}t.decodeStrict=a;function i(l,u){return(!u||u<=0?r.encodeXML:r.encodeHTML)(l)}t.encode=i;var o=ee;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=be;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(kn);var Ho="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",r8=92,n8=/[\\&]/,En="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",a8=new RegExp("\\\\"+En+"|"+Ho,"gi"),i8='[&<>"]',oa=new RegExp(i8,"g"),o8=function(t){return t.charCodeAt(0)===r8?t.charAt(1):kn.decodeHTML(t)};function ot(t){return n8.test(t)?t.replace(a8,o8):t}function mt(t){try{return bv(t)}catch{return t}}function s8(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Fe(t){return oa.test(t)?t.replace(oa,s8):t}function Dr(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function sa(t){return t?!/[^ \t]+/.test(t):!0}var l8=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=Ln(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t}();function Ln(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var u8=1,tr={};function c8(t){return tr[t]}function Nr(t){delete tr[t]}function v8(){tr={}}var ft=function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=u8++,this.type=e,this.sourcepos=r,tr[this.id]=this}return t.prototype.isContainer=function(){return Ln(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new l8(this)},t}(),Ce=function(t){ne(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.open=!0,a.lineOffsets=null,a.stringContent=null,a.lastLineBlank=!1,a.lastLineChecked=!1,a.type=r,a}return e}(ft),f8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e}(Ce),d8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e}(Ce),p8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e}(Ce),h8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e}(Ce),m8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e}(Ce),g8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e}(Ce),y8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e}(Ce),b8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e}(Ce),w8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e}(ft),C8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e}(ft),k8=function(t){ne(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e}(ft);function P(t,e){switch(t){case"heading":return new d8(t,e);case"list":case"item":return new f8(t,e);case"link":case"image":return new w8(t,e);case"codeBlock":return new p8(t,e);case"htmlBlock":return new b8(t,e);case"table":return new h8(t,e);case"tableCell":return new m8(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Ce(t,e);case"code":return new C8(t,e);case"refDef":return new g8(t,e);case"customBlock":return new y8(t,e);case"customInline":return new k8(t,e);default:return new ft(t,e)}}function Po(t){return t.type==="codeBlock"}function T8(t){return t.type==="htmlBlock"}function x8(t){return t.type==="heading"}function la(t){return t.type==="list"}function E8(t){return t.type==="table"}function Pe(t){return t.type==="refDef"}function qo(t){return t.type==="customBlock"}function L8(t){return t.type==="customInline"}function F(t,e){var r=P("text",e);return r.literal=t,r}var $o="[A-Za-z][A-Za-z0-9-]*",M8="[a-zA-Z_:][a-zA-Z0-9:._-]*",S8="[^\"'=<>`\\x00-\\x20]+",A8="'[^']*'",O8='"[^"]*"',I8="(?:"+S8+"|"+A8+"|"+O8+")",D8="(?:\\s*=\\s*"+I8+")",N8="(?:\\s+"+M8+D8+"?)",Fo="<"+$o+N8+"*\\s*/?>",_o="</"+$o+"\\s*[>]",R8="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",B8="[<][?].*?[?][>]",H8="<![A-Z]+\\s+[^>]*>",P8="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",q8="(?:"+Fo+"|"+_o+"|"+R8+"|"+B8+"|"+H8+"|"+P8+")",$8=new RegExp("^"+q8,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Rr;if(String.fromCodePoint)Rr=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return"�";throw e}};else{var F8=String.fromCharCode,_8=Math.floor;Rr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],a,i,o=-1,s=t.length;if(!s)return"";for(var l="";++o<s;){var u=Number(t[o]);if(!isFinite(u)||u<0||u>1114111||_8(u)!==u)return"�";u<=65535?n.push(u):(u-=65536,a=(u>>10)+55296,i=u%1024+56320,n.push(a,i)),(o+1===s||n.length>r)&&(l+=F8.apply(void 0,n),n.length=0)}return l}}var ur=Rr,U8="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",V8="[^<\\s]*[^<?!.,:*_?~\\s]",j8="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function z8(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,a=t;n<a.length;n++){var i=a[n];i==="("?r<0?r=1:r+=1:i===")"&&(r-=1)}if(r<0){var o=Math.min(-r,e[0].length);return t.substring(0,t.length-o)}}return t}function W8(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function G8(t){for(var e=new RegExp(j8,"g"),r=[],n;n=e.exec(t);){var a=n[0];/[_-]+$/.test(a)||r.push({text:a,range:[n.index,n.index+a.length-1],url:"mailto:"+a})}return r}function X8(t){for(var e=new RegExp("(www|https?://)."+U8+V8,"g"),r=[],n;n=e.exec(t);){var a=W8(z8(n[0])),i=n[1]==="www"?"http://":"";r.push({text:a,range:[n.index,n.index+a.length-1],url:""+i+a})}return r}function Q8(t){return Or(Or([],X8(t)),G8(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function K8(t,e){typeof e=="boolean"&&(e=Q8);for(var r,n=function(){var a=r.entering,i=r.node;if(a&&i.type==="text"&&i.parent.type!=="link"){var o=i.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=i.sourcepos[0],c=u[0],v=u[1],f=function(S,N){return[[c,v+S],[c,v+N]]},p=[],d=0,h=s;d<h.length;d++){var m=h[d],g=m.range,b=m.url,w=m.text;g[0]>l&&p.push(F(o.substring(l,g[0]),f(l,g[0]-1)));var C=P("link",f.apply(void 0,g));C.appendChild(F(w,f.apply(void 0,g))),C.destination=b,C.extendedAutolink=!0,p.push(C),l=g[1]+1}l<o.length&&p.push(F(o.substring(l),f(l,o.length-1)));for(var k=0,E=p;k<E.length;k++){var L=E[k];i.insertBefore(L)}i.unlink()}};r=t.next();)n()}function qt(t){return t[t.length-1]}function ua(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function gt(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function Z8(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=z({},t);return e.forEach(function(a){delete n[a]}),n}function qe(t){return!Object.keys(t).length}function Y8(t){Object.keys(t).forEach(function(e){delete t[e]})}var Br=10,cr=42,yt=95,J8=96,ca=91,e5=93,bt=126,va=60,t5=33,fa=92,r5=38,da=40,vr=41,n5=58,Me=39,Se=34,Ae=36,fr="\\\\"+En,pa=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),a5=new RegExp('^(?:"('+fr+'|[^"\\x00])*"|'+("'("+fr+"|[^'\\x00])*'")+"|"+("\\(("+fr+"|[^()\\x00])*\\))")),i5=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,ha=new RegExp("^"+En),o5=new RegExp("^"+Ho,"i"),s5=/`+/,l5=/^`+/,u5=/\.\.\./g,c5=/--+/g,v5=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,f5=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,d5=/^ *(?:\n *)?/,dr=/^[ \t\n\x0b\x0c\x0d]/,ma=/^\s/,p5=/ *$/,h5=/^ */,ga=/^ *(?:\n|$)/,m5=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,g5=/^[^\n`\[\]\\!<&*_'"~$]+/m,y5=function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],a=this.lineStartNum+this.lineIdx,i=[a,e+n];return typeof r=="number"?[i,[a,r+n]]:i},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(d5),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(l5);if(n===null)return!1;for(var a=this.pos,i;(i=this.match(s5))!==null;)if(i===n){var o=this.subject.slice(a,this.pos-n.length),s=this.sourcepos(r,this.pos),l=o.split(`
`);if(l.length>1){var u=qt(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var c=P("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=a,e.appendChild(F(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var a=this.pos;return this.peek()===Br?(this.pos+=1,n=P("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):ha.test(r.charAt(this.pos))?(e.appendChild(F(r.charAt(this.pos),this.sourcepos(a,this.pos))),this.pos+=1):e.appendChild(F("\\",this.sourcepos(a,a))),!0},t.prototype.parseAutolink=function(e){var r,n,a,i=this.pos+1;return(r=this.match(v5))?(n=r.slice(1,r.length-1),a=P("link",this.sourcepos(i,this.pos)),a.destination=mt("mailto:"+n),a.title="",a.appendChild(F(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):(r=this.match(f5))?(n=r.slice(1,r.length-1),a=P("link",this.sourcepos(i,this.pos)),a.destination=mt(n),a.title="",a.appendChild(F(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match($8);if(n===null)return!1;var a=P("htmlInline",this.sourcepos(r,this.pos));return a.literal=n,e.appendChild(a),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===Me||e===Se)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===bt||e===Ae))return this.pos=n,null;var a=n===0?`
`:this.subject.charAt(n-1),i=this.peek(),o;i===-1?o=`
`:o=ur(i);var s=ma.test(o),l=pa.test(o),u=ma.test(a),c=pa.test(a),v=!s&&(!l||u||c),f=!u&&(!c||s||l),p,d;return e===yt?(p=v&&(!f||c),d=f&&(!v||l)):e===Me||e===Se?(p=v&&!f,d=f):e===Ae?(p=!s,d=!u):(p=v,d=f),this.pos=n,{numdelims:r,canOpen:p,canClose:d}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var a=n.numdelims,i=this.pos+1,o;this.pos+=a,e===Me?o="’":e===Se?o="“":o=this.subject.slice(i-1,this.pos);var s=F(o,this.sourcepos(i,this.pos));return r.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==Me&&e!==Se)&&(this.delimiters={cc:e,numdelims:a,origdelims:a,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,a,i,o,s,l,u=!1,c=(r={},r[yt]=[e,e,e],r[cr]=[e,e,e],r[Me]=[e],r[Se]=[e],r[bt]=[e],r[Ae]=[e],r);for(a=this.delimiters;a!==null&&a.previous!==e;)a=a.previous;for(;a!==null;){var v=a.cc,f=v===yt||v===cr;if(!a.canClose)a=a.next;else{for(n=a.previous,l=!1;n!==null&&n!==e&&n!==c[v][f?a.origdelims%3:0];){if(u=f&&(a.canOpen||n.canClose)&&a.origdelims%3!==0&&(n.origdelims+a.origdelims)%3===0,n.cc===a.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(i=a,f||v===bt||v===Ae){if(!l)a=a.next;else if(n){var p=a.numdelims>=2&&n.numdelims>=2?2:1,d=f?0:1;o=n.node,s=a.node;var h=f?p===1?"emph":"strong":"strike";v===Ae&&(h="customInline");var m=P(h),g=o.sourcepos[1],b=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-p+1],[b[0],b[1]+p-1]],o.sourcepos[1][1]-=p,s.sourcepos[0][1]+=p,o.literal=o.literal.slice(p),s.literal=s.literal.slice(p),n.numdelims-=p,a.numdelims-=p;for(var w=o.next,C=void 0;w&&w!==s;)C=w.next,w.unlink(),m.appendChild(w),w=C;if(v===Ae){var k=m.firstChild,E=k.literal||"",L=E.split(/\s/)[0];m.info=L,E.length===L.length+1?k.unlink():(k.sourcepos[0][1]+=L.length,k.literal=E.replace(L+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,a),n.numdelims<=d&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),a.numdelims<=d){a.numdelims===0&&s.unlink();var S=a.next;this.removeDelimiter(a),a=S}}}else v===Me?(a.node.literal="’",l&&(n.node.literal="‘"),a=a.next):v===Se&&(a.node.literal="”",l&&(n.node.literal="“"),a=a.next);l||(c[v][f?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(a5);return e===null?null:ot(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(i5);if(e===null){if(this.peek()===va)return null;for(var r=this.pos,n=0,a=void 0;(a=this.peek())!==-1;)if(a===fa&&ha.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(a===da)this.pos+=1,n+=1;else if(a===vr){if(n<1)break;this.pos+=1,n-=1}else{if(dr.exec(ur(a))!==null)break;this.pos+=1}return this.pos===r&&a!==vr||n!==0?null:(e=this.subject.substr(r,this.pos-r),mt(ot(e)))}return mt(ot(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(m5);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=F("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===ca){this.pos+=1;var n=F("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=F("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,a=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(o===null)return e.appendChild(F("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(F("]",this.sourcepos(i,i))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===da&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(dr.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===vr?(this.pos+=1,a=!0):this.pos=l);var u="";if(!a){var c=this.pos,v=this.parseLinkLabel();if(v>2?u=this.subject.slice(c,c+v):o.bracketAfter||(u=this.subject.slice(o.index,i)),v===0&&(this.pos=l),u){u=ua(u);var f=this.refMap[u];f&&(r=f.destination,n=f.title,a=!0)}}if(a){var p=P(s?"image":"link");p.destination=r,p.title=n||"",p.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var d=o.node.next,h=void 0;d;)h=d.next,d.unlink(),p.appendChild(d),d=h;if(e.appendChild(p),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=i,e.appendChild(F("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(o5))?(e.appendChild(F(kn.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(g5)){if(this.options.smart){var a=r.replace(u5,"…").replace(c5,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),Dr("—",l)+Dr("–",s)});e.appendChild(F(a,this.sourcepos(n,this.pos)))}else{var i=F(r,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",a=r.literal.length;r.literal=r.literal.replace(p5,"");var i=a-r.literal.length;r.sourcepos[1][1]-=i,e.appendChild(P(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(P("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(h5),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,a=this.pos,i=this.parseLinkLabel();if(i===0)return 0;var o=this.subject.substr(0,i);if(this.peek()===n5)this.pos++;else return this.pos=a,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=a,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(ga)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(ga)!==null)),!u)return this.pos=a,0;var c=ua(o);if(c==="")return this.pos=a,0;var v=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=v[1][0]+1;var f=P("refDef",v);return f.title=n,f.dest=s,f.label=c,e.insertBefore(f),r[c]?this.refDefCandidateMap[f.id]=f:r[c]=qr(f),this.pos-a},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var a=r.entering,i=r.node;if(a&&i.type==="text")n.push(i);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,a=0,i={line:0,ch:0},o=0;o<r.length;o+=1){var s=r[o];if(dr.test(s))break;if(/\:/.test(s)&&a===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;i={line:l,ch:r[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(a+=u.length),a===2){i={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},t.prototype.parseInline=function(e){var r,n=!1,a=this.peek();if(a===-1)return!1;switch(a){case Br:n=this.parseNewline(e);break;case fa:n=this.parseBackslash(e);break;case J8:n=this.parseBackticks(e);break;case cr:case yt:case bt:case Ae:n=this.handleDelim(a,e);break;case Me:case Se:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(a,e);break;case ca:n=this.parseOpenBracket(e);break;case t5:n=this.parseBang(e);break;case e5:n=this.parseCloseBracket(e);break;case va:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case r5:n=this.parseEntity(e);break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(F(ur(a),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],x8(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,a=r.customParser;if(n&&K8(e.walker(),n),a&&e.firstChild)for(var i,o=e.firstChild.walker();i=o.next();){var s=i.node,l=i.entering;a[s.type]&&a[s.type](s,{entering:l,options:this.options})}},t}(),b5=/^\[([ \txX])\][ \t]+/;function w5(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(b5);if(n){var a=n[0].length;r.stringContent=r.stringContent.substring(a-1),r.sourcepos[0][1]+=a,r.lineOffsets[0]+=a,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var C5={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},k5={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},T5={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},x5={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},E5={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},L5={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},M5={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},$t=4,Uo=9,Vo=62,S5=60,jo=32,zo=91,Wo=/[^ \t\f\v\r\n]/,A5=/^(?:`{3,}|~{3,})(?= *$)/;function ya(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function te(t,e){return e<t.length?t.charCodeAt(e):-1}function Go(t){return!Wo.test(t)}function Xe(t){return t===jo||t===Uo}var O5=/^\$\$$/,I5={continue:function(t,e){var r=t.currentLine,n=r.match(O5);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.offset;a>0&&Xe(te(r,t.offset));)t.advanceOffset(1,!0),a--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),a=r.slice(0,n),i=r.slice(n+1),o=a.match(/^(\s*)(.*)/);e.info=ot(o[2].trim()),e.literal=i,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Xo={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},D5={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},N5={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(ya(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(ya(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},R5={continue:function(t){var e=t.currentLine;if(!t.indented&&te(e,t.nextNonspace)===Vo)t.advanceNextNonspace(),t.advanceOffset(1,!1),Xe(te(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},B5={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:w5,canContain:function(t){return t!=="item"},acceptsLines:!1},H5={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},P5={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},q5={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var a=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(A5);if(a&&a[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+a[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.fenceOffset;i>0&&Xe(te(r,t.offset));)t.advanceOffset(1,!0),i--}else if(n>=$t)t.advanceOffset($t,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,a=n.indexOf(`
`),i=n.slice(0,a),o=n.slice(a+1),s=i.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=ot(s[2].trim()),e.literal=o}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},$5={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},F5={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;te(e.stringContent,0)===zo&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&Go(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},_5=Xo,U5=Xo,$e={document:D5,list:N5,blockQuote:R5,item:B5,heading:H5,thematicBreak:P5,codeBlock:q5,htmlBlock:$5,paragraph:F5,table:C5,tableBody:k5,tableHead:T5,tableRow:L5,tableCell:M5,tableDelimRow:x5,tableDelimCell:E5,refDef:_5,customBlock:I5,frontMatter:U5};function Hr(t){for(var e=0,r=0,n=[],a=0;a<t.length;a+=1)if(t[a]==="|"&&t[a-1]!=="\\"){var i=t.substring(e,a);e===0&&sa(i)?r=a+1:n.push(i),e=a+1}if(e<t.length){var i=t.substring(e,t.length);sa(i)||n.push(i)}return[r,n]}function Pr(t,e,r,n){for(var a=[],i=0,o=e;i<o.length;i++){var s=o[i],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,v=void 0;if(u===s.length)u=0,c=0,v="";else{var f=s.match(/[ \t]+$/);c=f?f[0].length:0,v=s.slice(u,s.length-c)}var p=n+u,d=P(t,[[r,n],[r,n+s.length-1]]);d.stringContent=v.replace(/\\\|/g,"|"),d.startIdx=a.length,d.endIdx=a.length,d.lineOffsets=[p-1],d.paddingLeft=u,d.paddingRight=c,a.push(d),n+=s.length+1}return a}function V5(t){var e=null,r=t.stringContent,n=r[0],a=r[r.length-1];return a===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var j5=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,a=r.lastIndexOf(`
`,n-1)+1,i=r.slice(a,n),o=t.currentLine.slice(t.nextNonspace),s=Hr(i),l=s[0],u=s[1],c=Hr(o),v=c[0],f=c[1],p=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!f.length||f.some(function(S){return!p.test(S)})||f.length===1&&o.indexOf("|")!==0)return 0;var d=e.lineOffsets,h=t.lineNumber-1,m=qt(d)+1,g=P("table",[[h,m],[t.lineNumber,t.offset]]);if(g.columns=f.map(function(){return{align:null}}),e.insertAfter(g),d.length===1)e.unlink();else{e.stringContent=r.slice(0,a);var b=r.lastIndexOf(`
`,a-2)+1,w=a-b-1;t.lastLineLength=d[d.length-2]+w,t.finalize(e,h-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var C=P("tableHead",[[h,m],[t.lineNumber,t.offset]]);g.appendChild(C);var k=P("tableRow",[[h,m],[h,m+i.length-1]]),E=P("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);C.appendChild(k),C.appendChild(E),Pr("tableCell",u,h,m+l).forEach(function(S){k.appendChild(S)});var L=Pr("tableDelimCell",f,t.lineNumber,t.nextNonspace+1+v);return L.forEach(function(S){E.appendChild(S)}),g.columns=L.map(V5),t.tip=g,2}return 0},z5=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var a=P("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(a);var i=n.parent,o=t.currentLine.slice(t.nextNonspace),s=Hr(o),l=s[0],u=s[1];return Pr("tableCell",u,t.lineNumber,t.nextNonspace+1+l).forEach(function(c,v){v>=i.columns.length&&(c.ignored=!0),a.appendChild(c)}),2},W5=/^(\$\$)(\s*[a-zA-Z])+/,G5=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,X5=function(t){var e;if(!t.indented&&!G5.test(t.currentLine)&&(e=t.currentLine.match(W5))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},Q5=/^`{3,}(?!.*`)|^~{3,}/,K5=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+Fo+"|"+_o+")\\s*$","i")],Z5=/^(?:=+|-+)[ \t]*$/,Y5=/^#{1,6}(?:[ \t]+|$)/,J5=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Qo=/^[*+-]/,Ko=/^(\d{1,9})([.)])/;function e6(t,e){var r=t.currentLine.slice(t.nextNonspace),n,a,i={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match(Qo))i.type="bullet",i.bulletChar=n[0][0];else if((n=r.match(Ko))&&(e.type!=="paragraph"||n[1]==="1"))i.type="ordered",i.start=parseInt(n[1],10),i.delimiter=n[2];else return null;if(a=te(t.currentLine,t.nextNonspace+n[0].length),!(a===-1||a===Uo||a===jo)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(Wo))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var o=t.column,s=t.offset;do t.advanceOffset(1,!0),a=te(t.currentLine,t.offset);while(t.column-o<5&&Xe(a));var l=te(t.currentLine,t.offset)===-1,u=t.column-o;return u>=5||u<1||l?(i.padding=n[0].length+1,t.column=o,t.offset=s,Xe(te(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):i.padding=n[0].length+u,i}function t6(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function Zo(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var r6=function(t){return!t.indented&&te(t.currentLine,t.nextNonspace)===Vo?(t.advanceNextNonspace(),t.advanceOffset(1,!1),Xe(te(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},n6=function(t,e){var r;if(!t.indented&&!Zo(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(Y5))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},a6=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(Q5))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},i6=function(t,e){if(!t.indented&&te(t.currentLine,t.nextNonspace)===S5){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,a=void 0;for(a=1;a<=7;a++){var i=r.match(K5[a]);if(i){if(a===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(i[0]))return 0}}t.closeUnmatchedBlocks();var s=t.addChild("htmlBlock",t.offset);return s.htmlBlockType=a,2}}}return 0},o6=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!Zo(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(Z5))){t.closeUnmatchedBlocks();for(var n=void 0;te(e.stringContent,0)===zo&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var a=P("heading",e.sourcepos);return a.level=r[0][0]==="="?1:2,a.headingType="setext",a.stringContent=e.stringContent,e.insertAfter(a),e.unlink(),t.tip=a,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},s6=function(t){return!t.indented&&J5.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},l6=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=e6(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!t6(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},u6=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset($t,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},pr=[r6,n6,a6,i6,o6,s6,l6,u6,j5,z5,X5],Yo=/^(-{3}|\+{3}|;{3})$/,c6=function(t,e){var r=t.currentLine,n=t.lineNumber,a=t.indented;if(n===1&&!a&&e.type==="document"&&Yo.test(r)){t.closeUnmatchedBlocks();var i=t.addChild("frontMatter",t.nextNonspace);return i.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},v6={continue:function(t,e){var r=t.currentLine,n=r.match(Yo);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},f6=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],d6=/^[#`~*+_=<>0-9-;$]/,p6=/\r\n|\n|\r/;function hr(){return P("document",[[1,1],[0,0]])}var h6={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},m6=function(){function t(e){this.options=z(z({},h6),e),this.doc=hr(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&($e.frontMatter=v6,pr.unshift(c6)),this.inlineParser=new y5(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,a,i,o;e>0&&(o=n[this.offset]);)o==="	"?(a=4-this.column%4,r?(this.partiallyConsumedTab=a>e,i=a>e?e:a,this.column+=i,this.offset+=this.partiallyConsumedTab?0:1,e-=i):(this.partiallyConsumedTab=!1,this.column+=a,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,a;(a=e.charAt(r))!=="";)if(a===" ")r++,n++;else if(a==="	")r++,n+=4-n%4;else break;this.blank=a===`
`||a==="\r"||a==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=$t},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Dr(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!$e[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,a=P(e,[[this.lineNumber,n],[0,0]]);return a.stringContent="",this.tip.appendChild(a),this.tip=a,a},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],$e[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,a=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=a.next();){var i=r.node,o=r.entering,s=i.type;n&&n[s]&&n[s](i,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!i.ignored)&&this.inlineParser.parse(i)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"�")),this.currentLine=e;for(var n=!0,a;(a=r.lastChild)&&a.open;){switch(r=a,this.findNextNonspace(),$e[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var i=r.type!=="paragraph"&&$e[r.type].acceptsLines,o=pr.length;!i;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!d6.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=pr[s](this,r);if(l===1){r=this.tip;break}else if(l===2){r=this.tip,i=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var u=r.type,c=this.blank&&!(u==="blockQuote"||Po(r)&&r.isFenced||u==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),v=r;v;)v.lastLineBlank=c,v=v.parent;$e[u].acceptsLines?(this.addLine(),T8(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&f6[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=hr(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(p6),a=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===Br&&(a-=1);for(var i=0;i<a;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,a);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=hr(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,a=0;a<n;a++)this.incorporateLine(r[a]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Y8(e)})},t}();function ba(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function g6(t,e){var r=t[0],n=t[1];return ba(n,e)===1?1:ba(r,e)===-1?-1:0}function y6(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,a=0,i=["parent","prev","next"];a<i.length;a++){var o=i[a];r[o]&&(Nr(r[o].id),r[o]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function b6(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function wa(t,e){for(var r=0,n=e;r<n.length;r++){var a=n[r];t.insertBefore(a)}}function w6(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function C6(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var a=n.node,i=n.entering;i&&(a.sourcepos[0][0]+=e,a.sourcepos[1][0]+=e)}}}function Jo(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function wt(t,e){for(var r=t.firstChild;r;){var n=Jo(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function k6(t){for(;t.lastChild;)t=t.lastChild;return t}function T6(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function x6(t,e){for(var r=t.firstChild,n=null;r;){var a=Jo(r.sourcepos,e);if(a===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(a===-1)break;n=r,r=r.next}}return n?T6(k6(n)):null}function E6(t,e){for(var r=t,n=null;r;){var a=g6(r.sourcepos,e);if(a===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(a===-1)return n;if(r.next)r=r.next;else return n}}return r}function es(t){return c8(t)||null}function mr(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var a=n.next();if(a)e=a.node;else break}}function L6(t){var e=es(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var Ca=/\r\n|\n|\r/;function M6(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return Qo.test(r)||Ko.test(r)}function S6(t){return!Go(t)&&t.indexOf("|")!==-1}function qr(t){var e=t.id,r=t.title,n=t.sourcepos,a=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:a}}var ts=function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new m6(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(Ca),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var a,i=e[0],o=e[1],s=r[0],l=r[1],u=n.split(Ca),c=u.length,v=this.lineTexts[i-1],f=this.lineTexts[s-1];u[0]=v.slice(0,o-1)+u[0],u[c-1]=u[c-1]+f.slice(l-1);var p=s-i+1;return(a=this.lineTexts).splice.apply(a,Or([i-1,p],u)),c-p},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(wa(e,n),y6(e,r),[e.id,r.id].forEach(function(a){return Nr(a)}),e.unlink()):r?(wa(r,n),Nr(r.id),r.unlink()):w6(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=wt(this.root,e[0]),a=wt(this.root,r[0]);return a&&a.next&&r[0]+1===a.next.sourcepos[0][0]&&(a=a.next),[n,a]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,a){e&&e.prev&&(la(e.prev)&&M6(this.lineTexts[n-1])||E8(e.prev)&&S6(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var i=this.lineTexts.slice(n-1,a),o=this.parser.partialParseStart(n,i),s=r?r.next:this.root.firstChild,l=o.lastChild,u=l&&Po(l)&&l.open,c=l&&qo(l)&&l.open,v=l&&la(l);(u||c)&&s||v&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var f=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(a,f)),e||(e=r),r=s,a=f,s=s.next}this.parser.partialParseFinish();var p=b6(o);return{newNodes:p,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&Pe(e)||r&&Pe(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!qe(this.refMap)){var a=function(i){if(Pe(i)){var o=n.refMap[i.label];o&&i.id===o.id&&(o.unlinked=!0)}};e&&mr(a,e.parent,r),r&&mr(a,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!qe(this.refMap)){var n=function(a){if(Pe(a)){var i=a.label,o=r.refMap[i];(!o||o.unlinked)&&(r.refMap[i]=qr(a))}};e.forEach(function(a){mr(n,a)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;qe(this.refDefCandidateMap)||gt(this.refDefCandidateMap,function(r,n){var a=n.label,i=n.sourcepos,o=e.refMap[a];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[a]=qr(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,a,i){if(this.referenceDefinition&&!qe(this.refMap)){var o=wt(this.root,e-1),s=wt(this.root,r+1);o&&Pe(o)&&o!==n&&o!==a&&(n=o,e=n.sourcepos[0][0]),s&&Pe(s)&&s!==n&&s!==a&&(a=s,r=this.extendEndLine(a.sourcepos[1][0]+i))}return[n,a,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var a=this.getNodeRange(e,r),i=a[0],o=a[1],s=i?Math.min(i.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],r[0]):r[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,i,o,n)),c=u.newNodes,v=u.extStartNode,f=u.extEndNode,p=this.getRemovedNodeRange(v,f),d=f?f.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(v,f),this.replaceRangeNodes(v,f,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(v,f,c),{nodes:c,removedNodeRange:p,nextNode:d}},t.prototype.parseRefLink=function(){var e=this,r=[];return qe(this.refMap)||gt(this.refMap,function(n,a){a.unlinked&&delete e.refMap[n],gt(e.refLinkCandidateMap,function(i,o){var s=o.node,l=o.refLabel;l===n&&r.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){qe(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){gt(e,function(r){L6(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var a=this.updateLineTexts(e,r,n),i=this.parse(e,r,a),o=Z8(i,"nextNode");C6(i.nextNode,a),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=E6(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return x6(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],a=n.indexOf(r);n.splice(a,1)},t.prototype.findNodeById=function(e){return es(e)},t.prototype.removeAllNode=function(){v8()},t}(),A6=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],ka=new RegExp("<(/?(?:"+A6.join("|")+")[^>]*>)","ig");function Ta(t){return ka.test(t)?t.replace(ka,function(e,r){return"&lt;"+r}):t}var O6=4,xa={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,a=(r=t.parent)===null||r===void 0?void 0:r.parent;return a&&a.type==="list"&&a.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,a=n.type,i=n.start,o=a==="bullet"?"ul":"ol",s={};return o==="ol"&&i!==null&&i!==1&&(s.start=i.toString()),{type:r?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?Ta(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?Ta(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+Fe(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,a=n.title,i=n.destination;return{type:"openTag",tagName:"a",attributes:z({href:Fe(i)},a&&{title:Fe(a)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,a=t,i=a.title,o=a.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:z({src:Fe(o),alt:r(t)},i&&{title:Fe(i)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),a=r[n];if(a)try{return a(t,e)}catch(i){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+i)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,a=n.sourcepos,i=n.info,o=i.trim().toLowerCase(),s=r[o],l=e.entering;if(s)try{return s(t,e)}catch(c){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+c)}var u=a[1][1]-a[0][1]+1===i.length+O6?"":i+" ";return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+u}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Ea={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,a=n.checked,i=n.task;if(r){var o={type:"openTag",tagName:"li",outerNewLine:!0};return i?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:z(z({},a&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var a=t.parent.parent.columns.length,i=t.lastChild.endIdx,o=i+1;o<a;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,a=n.type==="tableHead"?"th":"td",i=n.parent,o=i.columns[t.startIdx],s=o!=null&&o.align?{align:o.align}:null;return r?z({type:"openTag",tagName:a,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:a,outerNewLine:!0}}},I6={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function D6(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var Mn=function(){function t(e){this.buffer=[],this.options=z(z({},I6),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=z({},xa);if(this.options.gfm&&(e=z(z({},e),Ea)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),a=z(z({},xa),Ea);n.forEach(function(i){var o=e[i],s=r[i],l=Object.keys(a).indexOf(i)===-1?i.toLowerCase():i;o?e[l]=function(u,c,v){return c.origin=function(){return o(u,c,v)},s(u,c)}:e[l]=s})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),a=null,i=function(){var s=a.node,l=a.entering,u=o.convertors[s.type];if(!u)return"continue";var c=!1,v={entering:l,leaf:!Ln(s),options:o.options,getChildrenText:D6,skipChildren:function(){c=!0}},f=qo(s)||L8(s)?u(s,v,o.convertors):u(s,v);if(f){var p=Array.isArray(f)?f:[f];p.forEach(function(d,h){d.type==="openTag"&&r.options.nodeId&&h===0&&(d.attributes||(d.attributes={}),d.attributes["data-nodeid"]=String(s.id)),r.renderHTMLNode(d)}),c&&(n.resumeAt(s,!1),n.next())}},o=this;a=n.next();)i();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,a=e.classNames,i=e.attributes;this.buffer.push("<"+n),a&&a.length>0&&this.buffer.push(' class="'+a.join(" ")+'"'),i&&Object.keys(i).forEach(function(o){var s=i[o];r.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&qt(qt(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(Fe(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t}(),N6=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style|controls)","g"),R6=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),B6=/href|src|background/i,rs=/((java|vb|live)script|x):/i,H6=/^on\S+/i,P6=new RegExp("(<"+vn+"[^>]*)(onload\\s*=)","ig"),ns=/<!--[\s\S]*?-->/g,q6=/[ \t\r\n]/g,$6=["script","iframe","textarea","form","button","select","input","meta","style","link","title","embed","object","details","summary","base"],F6=["iframe","embed","details","summary"],$r=Z([],$6);function _6(t){if(Y(F6,t)){var e=$r.indexOf(t);e>-1&&$r.splice(e,1)}}function as(t){var e=document.createElement("div");return pe(t)&&(t=t.replace(ns,"").replace(P6,"$1"),e.innerHTML=t),U6(e),z6(e),Hu(e)}function U6(t){var e=dn(t,$r.join(","));e.forEach(function(r){Ee(r)})}function V6(t,e){return t.match(B6)&&e.replace(q6,"").match(rs)}function j6(t,e){e.forEach(function(r){var n=r.name;H6.test(n)&&(t[n]=null),t.removeAttribute(n)})}function z6(t){dn(t,"*").forEach(function(e){var r=e.attributes,n=we(r).filter(function(a){var i=a.name,o=a.value,s=i.match(N6),l=i.match(R6),u=s&&V6(i,o);return!s&&!l||u});j6(e,n)})}function Ft(t){return t=t.replace(ns,""),rs.test(t)?"":t}function is(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]+?>)|(</"+e+"\\s*[>])","ig"),"").trim()}function Fr(t){t=t.match(ze)[0];var e=t.match(new RegExp(ao,"g"));return e?e.reduce(function(r,n){var a=n.trim().split("="),i=a[0],o=a.slice(1);return o.length&&(r[i]=o.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function _r(t){return we(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function La(t,e,r,n){var a=n.getToDOMNode(e)(t),i=r(a.outerHTML),o=document.createElement("div");o.innerHTML=i,a=o.firstChild;var s=_r(a);return{dom:a,htmlAttrs:s}}var W6={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:_r(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var a=La(n,t,e,r),i=a.dom,o=a.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Z([t,o],we(i.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:_r(n)}}}],toDOM:function(n){var a=La(n,t,e,r).htmlAttrs;return[t,a,0]}}}};function G6(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(a){t[a]&&Object.keys(t[a]).forEach(function(i){var o=a==="htmlBlock"?"nodes":"marks";_6(i),n[o][i]=W6[a](i,e,r)})}),n}var X6=/^\s*<\s*\//,Q6={paragraph:function(t,e){var r=e.entering,n=e.origin,a=e.options;return a.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},a=[];return t.listData.task&&(n["data-task"]="",a.push("task-list-item"),t.listData.checked&&(a.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:a,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,a=n?n.split(/\s+/):[],i=[],o={};if(r>3&&(o["data-backticks"]=r),a.length>0&&a[0].length>0){var s=a[0];i.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:i},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,a=e.skipChildren,i=t.info;if(i.indexOf("widget")!==-1&&n){a();var o=Qi(t),s=Xi(i,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return r()}};function Sn(t,e){var r=y({},Q6);return t&&(r.link=function(n,a){var i=a.entering,o=a.origin,s=o();return i&&(s.attributes=y(y({},s.attributes),t)),s}),e&&Object.keys(e).forEach(function(n){var a=r[n],i=e[n];a&&re(i)?r[n]=function(o,s){var l=y({},s);return l.origin=function(){return a(o,s)},i(o,l)}:Y(["htmlBlock","htmlInline"],n)&&!re(i)?r[n]=function(o,s){var l=o.literal.match(ze);if(l){var u=l[0],c=l[1],v=l[3],f=(c||v).toLowerCase(),p=i[f],d=is(o,f);if(p){var h=y({},o);return h.attrs=Fr(u),h.childrenHTML=d,h.type=f,s.entering=!X6.test(o.literal),p(h,s)}}return s.origin()}:r[n]=i}),r}var K6=["list","item","blockQuote"],Z6=["UL","OL","BLOCKQUOTE"];function Y6(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function Ma(t,e,r){var n=vt(e)-1,a=Wt(e)-1,i=r[n].getBoundingClientRect(),o=r[a].offsetTop-r[n].offsetTop+r[a].clientHeight;return{height:o<=0?r[n].clientHeight:o+J6(t,r,Math.min(a+1,t.childCount-1)),rect:i}}function J6(t,e,r){for(var n=t.childCount-1,a=0;r<=n&&Y6(t,r);)a+=e[r].clientHeight,r+=1;return a}function e9(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function _t(t,e){for(var r=0;t&&t!==e&&(Y(Z6,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function t9(t,e){for(var r=e,n=null;r;){var a=r.firstElementChild;if(!a)break;var i=os(a,t,_t(r,e));n=r,r=i}var o=r||n;return o===e?null:o}function os(t,e,r){return t&&e>r+t.offsetTop?os(t.nextElementSibling,e,r)||t:null}function r9(t,e,r,n){var a=Math.min((t-e)/r,1);return a*n}function gr(t){for(var e=document.querySelector('[data-nodeid="'+t.id+'"]');!e||eu(t);)t=t.parent,e=document.querySelector('[data-nodeid="'+t.id+'"]');return n9({mdNode:t,el:e})}function n9(t){for(var e=t.mdNode,r=t.el;(Y(K6,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var oe={};function a9(t,e){oe[t]=oe[t]||{},oe[t].height=e}function i9(t,e){oe[t]=oe[t]||{},oe[t].offsetTop=e}function o9(t){return oe[t]&&oe[t].height}function s9(t){return oe[t]&&oe[t].offsetTop}function Ur(t){t&&(delete oe[Number(t.getAttribute("data-nodeid"))],we(t.children).forEach(function(e){Ur(e)}))}function l9(t,e,r){var n=o9(r),a=s9(r),i=n||t.clientHeight,o=a||_t(t,e)||t.offsetTop;return n||a9(r,i),a||i9(r,o),{nodeHeight:i,offsetTop:o}}var yr=x("md-preview-highlight");function u9(t,e){for(var r=t.firstChild;r&&r.next&&!(Gt(r.next)>e+1);)r=r.next;return r}var ss=function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=x("md-preview");var a=r.linkAttributes,i=r.customHTMLRenderer,o=r.sanitizer,s=r.highlight,l=s===void 0?!1:s;this.renderer=new Mn({gfm:!0,nodeId:!0,convertors:Sn(a,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection()}return t.prototype.initContentSection=function(){this.previewContent=uo('<div class="'+x("contents")+'"></div>'),this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){pn(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),e&&(this.eventEmitter.listen("changeToolbarState",function(n){var a=n.mdNode,i=n.cursorPos;r.updateCursorNode(a,i)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),To(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",t9(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)})},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&ie(e,yr)}},t.prototype.updateCursorNode=function(e,r){e&&(e=je(e,function(o){return!nu(o)}),e.type==="tableRow"?e=u9(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var a=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);a&&ie(a,yr),i&&fe(i,yr),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,a=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(d){return r.renderer.render(d)}).join("")));if(!a)i.insertAdjacentHTML("afterbegin",o);else{var s=a.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),v=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);for(var f=c;f&&f!==v;){var p=f.nextElementSibling;Ee(f),Ur(f),f=p}f!=null&&f.parentNode&&(Ee(f),Ur(f))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){ko(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return this.previewContent.innerHTML},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){de(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){de(this.el,{minHeight:e+"px"})},t}();function Be(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function Qe(t){return!!Be(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function Vr(t){return!!Be(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Ke(t){return Be(t,function(e){var r=e.type;return r.name==="listItem"})}function rr(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return y({},r&&{rawHTML:r})}}}function ls(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function us(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var a=n==="rawHTML"?"data-raw-html":n,i=e.getAttribute(a);return i&&(r[n]=Y(["rawHTML","extended"],n)?i:Number(i)),r},{})}}}function j(){return{htmlAttrs:{default:null},classNames:{default:null}}}function q(t){var e=t.htmlAttrs,r=t.classNames;return y(y({},e),{class:r?r.join(" "):null})}function c9(t,e){var r=t.parent,n=t.startIndex,a=t.endIndex,i=r.contentMatchAt(n).findWrapping(e);if(i){var o=i.length?i[0]:e;return r.canReplaceWith(n,a,o)?i:null}return null}function v9(t,e){var r=t.parent,n=t.startIndex,a=t.endIndex,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<a;u+=1)l=l.matchType(r.child(u).type);if(l&&l.validEnd)return o}return null}function f9(t,e,r,n){var a=c9(t,r),i=v9(e,r);if(a&&i){var o=a.map(function(l){return{type:l}}),s=i.map(function(l){return{type:l,attrs:n}});return o.concat({type:r}).concat(s)}return null}function d9(t,e,r,n,a){for(var i=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=D.empty,v=r.length-1;v>=0;v-=1)c=D.from(r[v].type.create(r[v].attrs,c));t.step(new ut(i-(n?2:0),o,i,o,new le(c,0,0),r.length,!0));for(var f=0,v=0;v<r.length;v+=1)if(r[v].type===a){f=v+1;break}for(var p=r.length-f,d=i+r.length-(n?2:0),v=s,h=l;v<h;v+=1){var m=v===s;!m&&Hi(t.doc,d,p)&&(t.split(d,p),d+=p*2),d+=u.child(v).nodeSize}return t}function cs(t,e,r,n){var a=e.$from,i=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&a.node(o-1).type.compatibleContent(r)&&e.startIndex===0&&a.index(o-1)){var u=t.doc.resolve(e.start-2);s=new kr(u,u,o),e.endIndex<e.parent.childCount&&(e=new kr(a,t.doc.resolve(i.end(o)),o)),l=!0}var c=f9(s,e,r,n);return c?d9(t,e,c,l,r):t}function vs(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return Ke(r)}function p9(t,e){var r=e.$from,n=e.$to,a=Ke(r),i=Ke(n);if(a&&i)for(;i;){var o=i.offset,s=i.node,l={task:!s.attrs.task,checked:!1};if(t.setNodeMarkup(o,null,l),o===a.offset)break;i=vs(t.doc,o)}return t}function h9(t,e,r){var n=e.$from,a=e.$to,i=Ke(n),o=Ke(a);if(i&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&t.setNodeMarkup(s,null,{task:!1,checked:!1});var c=t.doc.resolve(s);if(c.parent.type!==r){var v=c.before(u-1);t.setNodeMarkup(v,r)}if(s===i.offset)break;o=vs(t.doc,s)}return t}function fs(t){return function(e,r){var n=e.selection,a=e.tr,i=n.$from,o=n.$to,s=i.blockRange(o);if(s){var l=Qe(i)?h9(a,s,t):cs(a,s,t);return r(l),!0}return!1}}function m9(){return function(t,e){var r=t.selection,n=t.tr,a=t.schema,i=r.$from,o=r.$to,s=i.blockRange(o);if(s){var l=Qe(i)?p9(n,s):cs(n,s,a.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function g9(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,s=i.blockRange(o,function(h){var m=h.childCount,g=h.firstChild;return!!m&&g.type===t});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==t)return!1;var c=u.lastChild&&u.lastChild.type===l.type,v=c?D.from(t.create()):null,f=new le(D.from(t.create(null,D.from(l.type.create(null,v)))),c?3:1,0),p=s.start,d=s.end;return n.step(new ut(p-(c?3:1),d,p,d,f,1,!0)),r(n),!0}return!1}}function y9(t,e,r){var n=e.$from,a=e.$to,i=e.end,o=e.depth,s=e.parent,l=a.end(o);return i<l&&(t.step(new ut(i-1,l,i,l,new le(D.from(r.create(null,s.copy())),1,0),1,!0)),e=new kr(t.doc.resolve(n.pos),t.doc.resolve(l),o)),t.lift(e,js(e)),t}function b9(t,e){for(var r=e.parent,n=e.end,a=e.endIndex-1,i=e.startIndex;a>i;a-=1)n-=r.child(a).nodeSize,t.delete(n-1,n+1);var o=t.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===r.childCount,c=o.node(-1),v=o.index(-1),f=c.canReplace(v+(l?0:1),v+1,s==null?void 0:s.content.append(u?D.empty:D.from(r)));if(s&&f){var p=o.pos,d=p+s.nodeSize;t.step(new ut(p-(l?1:0),d+(u?1:0),p+1,d-1,new le((l?D.empty:D.from(r.copy(D.empty))).append(u?D.empty:D.from(r.copy(D.empty))),l?0:1,u?0:1),l?0:1))}return t}function w9(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,s=i.blockRange(o,function(c){var v=c.childCount,f=c.firstChild;return!!v&&f.type===t});if(s){var l=i.node(s.depth-1).type===t,u=l?y9(n,s,t):b9(n,s);return r(u),!0}return!1}}function C9(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to;if(i.depth<2||!i.sameParent(o))return!1;var s=i.node(-1);if(s.type!==t)return!1;if(i.parent.content.size===0&&i.node(-1).childCount===i.indexAfter(-1)){if(i.depth===2||i.node(-3).type!==t||i.index(-2)!==i.node(-2).childCount-1)return!1;for(var l=i.index(-1)>0,u=D.empty,c=i.depth-(l?1:2);c>=i.depth-3;c-=1)u=D.from(i.node(c).copy(u));return u=u.append(D.from(t.createAndFill())),n.replace(l?i.before():i.before(-1),i.after(-3),new le(u,l?3:2,2)),n.setSelection(Je.near(n.doc.resolve(i.pos+(l?3:2)))),r(n),!0}var v=o.pos===i.end()?s.contentMatchAt(0).defaultType:null,f=v&&[null,{type:v}];return n.delete(i.pos,o.pos),Hi(n.doc,i.pos,2,f)?(n.split(i.pos,2,f),r(n),!0):!1}}function k9(){return function(){return function(t,e){var r=t.selection,n=t.schema,a=r.$from,i=r.$to,o=a.blockRange(i);return o&&Qe(a)?g9(n.nodes.listItem)(t,e):!1}}}function T9(){return function(){return function(t,e){var r=t.selection,n=t.schema,a=r.$from,i=r.$to,o=a.blockRange(i);return o&&Qe(a)?w9(n.nodes.listItem)(t,e):!1}}}function An(){return{indent:k9(),outdent:T9()}}var Sa=new Map,W=function(){function t(e,r,n,a){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=a}return t.create=function(e){var r=Be(e,function(d){var h=d.type;return h.name==="table"});if(r){var n=r.node,a=r.depth,i=r.offset,o=Sa.get(n);if((o==null?void 0:o.tableStartPos)===i+1)return o;var s=[],l=e.start(a),u=n.child(0),c=n.child(1),v=jr(u,l),f=jr(c,l+u.nodeSize);u.forEach(function(d){return s.push(d)}),c.forEach(function(d){return s.push(d)});var p=new t(n,s,l,v.concat(f));return Sa.set(n,p),p}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,a=this.tableStartPos;;n+=1){var i=a+this.tableRows[n].nodeSize;if(n===e){for(var o=r;o<this.totalColumnCount&&this.rowInfo[n][o].offset<a;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}a=i}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-1),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],a=n.offset,i=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):a+i},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],a=0;a<this.totalColumnCount;a+=1)if(n[a].offset+1>e.pos)return[r,a];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,a,i;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(r),c=u[0],v=u[1];return a=qn(s,c),s=a[0],c=a[1],i=qn(l,v),l=i[0],v=i[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:v})},t.prototype.getSpannedOffsets=function(e){return e},t}(),jr=function(t,e){var r=[];return t.forEach(function(n,a){var i={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;i[u];)u+=1;i[u]={offset:e+a+s+2,nodeSize:l},i.length+=1}),r.push(i)}),r};function x9(t,e){return sn(W.prototype,t),jr=e,W}function E9(t,e,r){for(var n=r.startRowIdx,a=r.startColIdx,i=r.endRowIdx,o=r.endColIdx,s=[],l=n;l<=i;l+=1)for(var u=a;u<=o;u+=1){var c=e.getCellInfo(l,u),v=c.offset,f=c.nodeSize;s.push(new Gs(t.resolve(v+1),t.resolve(v+f-1)))}return s}function L9(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),D.from(r)}var On=function(t){T(e,t);function e(r,n){n===void 0&&(n=r);var a=this,i=r.node(0),o=W.create(r),s=o.getRectOffsets(r,n),l=E9(i,o,s);return a=t.call(this,l[0].$from,l[0].$to,l)||this,a.startCell=r,a.endCell=n,a.offsetMap=o,a.isCellSelection=!0,a.visible=!1,a}return e.prototype.map=function(r,n){var a=this.startCell.pos,i=this.endCell.pos,o=r.resolve(n.map(a)),s=r.resolve(n.map(i)),l=W.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],v=s.end(s.depth-c),f=Math.min(v-4,s.pos);return Ye.create(r,f)}return new e(o,s)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),a=r.child(1).firstChild,i=r.child(0).type.create(),o=r.child(1).type.create(),s=W.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,v=l.endRowIdx,f=l.endColIdx,p=!1,d=u;d<=v;d+=1){for(var h=[],m=c;m<=f;m+=1){var g=s.getCellInfo(d,m).offset,b=r.nodeAt(g-n);b&&(p=b.type.name==="tableHeadCell",s.extendedRowspan(d,m)||s.extendedColspan(d,m)?h.push(b.type.create({extended:!0})):h.push(b.copy(b.content)))}var w=a.copy(D.from(h)),C=p?i:o;C.content=C.content.append(D.from(w))}return new le(L9(i,o),1,1)},e}(Je);function M9(t,e,r){for(var n=e.nodes,a=n.tableRow,i=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<t;l+=1){var u=r&&r[l],c=o.create(null,u?e.text(u):[]);s.push(i.create(null,c))}return[a.create(null,s)]}function ds(t,e,r,n){for(var a=r.nodes,i=a.tableRow,o=a.tableBodyCell,s=a.paragraph,l=[],u=0;u<t;u+=1){for(var c=[],v=0;v<e;v+=1){var f=n&&n[u*e+v],p=s.create(null,f?r.text(f):[]);c.push(o.create(null,p))}l.push(i.create(null,c))}return l}function Et(t,e,r,n){n===void 0&&(n=null);for(var a=r.nodes,i=a.tableHeadCell,o=a.tableBodyCell,s=a.paragraph,l=e===0?i:o,u=[],c=0;c<t;c+=1)u.push(l.create(n,s.create()));return u}function ps(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function hs(t){return Be(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function he(t){if(t instanceof Ye){var e=t.$anchor,r=hs(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var a=t,i=a.startCell,o=a.endCell;return{anchor:i,head:o}}function ms(t){var e;if(t.size){var r=t.content,n=t.openStart,a=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&a>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,a-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function _e(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,a=t.endColIdx,i=n-e+1,o=a-r+1;return{rowCount:i,columnCount:o}}function S9(t,e){return y(y({},t.attrs),e)}var ke=new Pi("cellSelection"),A9=2,O9=function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=ps(e.target,this.view.dom);if(e.button===A9){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=ke.getState(this.view.state),n=this.getCellPos(e),a=this.startCellPos,i;r?i=this.view.state.doc.resolve(r):a!==n&&(i=a),i&&a&&n&&this.setCellSelection(a,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),ke.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(ke,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,a=this.view.posAtCoords({left:r,top:n});if(a){var i=this.view.state.doc,o=i.resolve(a.pos),s=hs(o);if(s){var l=o.before(s.depth);return i.resolve(l)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,a=n.selection,i=n.tr,o=ke.getState(this.view.state)===null,s=new On(e,r);if(o||!a.eq(s)){var l=i.setSelection(s);o&&l.setMeta(ke,r.pos),this.view.dispatch(l)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),I9=x("cell-selected");function D9(t){var e=t.selection,r=t.doc;if(e instanceof On){var n=[],a=e.ranges;return a.forEach(function(i){var o=i.$from,s=i.$to;n.push(Zr.node(o.pos-1,s.pos+1,{class:I9}))}),Kr.create(r,n)}return null}function N9(){return new ce({key:ke,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(ke);if(r)return r===-1?null:r;if(At(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),a=n.deleted,i=n.pos;return a?null:i}},props:{decorations:D9,createSelectionBetween:function(t){var e=t.state;return At(ke.getState(e))?null:e.selection}},view:function(t){return new O9(t)}})}var gs=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return Ie(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(a,i){a&&n.keys[i]&&e.call(r,a,n.keys[i],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),br="en-US",R9=function(){function t(){this.code=br,this.langs=new gs}return t.prototype.setCode=function(e){this.code=e||br},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(a){if(!n.langs.has(a))n.langs.set(a,r);else{var i=n.langs.get(a);n.langs.set(a,en(i,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(br));var a=n[e];if(!a)throw new Error('There is no text key "'+e+'" in '+r);return a},t}(),M=new R9,B9=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function H9(t,e){return B9.map(function(r){return r.map(function(n){var a=n.action,i=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:M.get(a),onClick:function(){t.emit("command",i,o)},disabled:e&&!!s,className:l}})}).concat()}function P9(t){return new ce({props:{handleDOMEvents:{contextmenu:function(e,r){var n=ps(r.target,e.dom);if(n){r.preventDefault();var a=r,i=a.clientX,o=a.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:i-l+10+"px",top:o-u+30+"px"},menuGroups:H9(t,c),tableCell:n}),!0}return!1}}}})}function q9(){return new ce({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,a=r.clientY,i=t.posAtCoords({left:n,top:a});if(i){var o=t.state,s=o.doc,l=o.tr,u=s.resolve(i.pos),c=Ke(u),v=e.target,f=getComputedStyle(v,":before"),p=e,d=p.offsetX,h=p.offsetY;if(!c||!fn(f,d,h))return!1;e.preventDefault();var m=u.before(c.depth),g=c.node.attrs;return l.setNodeMarkup(m,null,y(y({},g),{checked:!g.checked})),t.dispatch(l),!0}return!1}}}})}var $9=["image","link","customBlock","frontMatter"],F9=["strong","strike","emph","code"],ys=["bulletList","orderedList","taskList"];function _9(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function U9(t,e){e[t]=!0,ys.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function V9(t,e,r){var n={};return F9.forEach(function(a){var i=r.marks[a],o=t.marksAcross(e)||[],s=!!i.isInSet(o);s&&(n[a]=!0)}),n}function j9(t,e,r){var n=t.$from,a=t.$to,i=t.from,o=t.to,s={},l={};return e.nodesBetween(i,o,function(u,c,v){var f=_9(u,v);Y($9,f)||(Y(ys,f)?U9(f,s):f==="paragraph"||f==="text"?l=V9(n,a,r):s[f]=!0)}),y(y({},s),l)}function z9(t){return new ce({view:function(){return{update:function(e){var r=e.state,n=r.selection,a=r.doc,i=r.schema;t.emit("changeToolbarState",{toolbarState:j9(n,a,i)})}}}})}var W9=function(){function t(e,r,n,a){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new Yr(i.innerViewContainer,{state:qi.create({doc:i.node,plugins:[Jr({"Mod-z":function(){return kt(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Ui(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:tl,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),_i()]}),dispatchTransaction:function(o){return i.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=a,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=x("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=x("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),a=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",a.type="button",a.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(a),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=x("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(H(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=al(this.innerEditorView.state);for(this.canceled=!0;e--;)kt(this.innerEditorView.state,this.innerEditorView.dispatch),kt(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Ye.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,a=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&re(this.getPos)){for(var i=this.editorView.state.tr,o=zs.offset(this.getPos()+1),s=0;s<a.length;s+=1)for(var l=a[s].steps,u=0;u<l.length;u+=1)i.step(l[u].map(o));i.docChanged&&this.editorView.dispatch(i)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),Aa="image-link",G9=function(){function t(e,r,n,a){var i=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(i.imageLink&&re(i.getPos)&&no(l,Aa)){var v=getComputedStyle(l,":before");if(s.stopPropagation(),fn(v,u,c)){var f=i.view.state.tr,p=i.getPos();f.setSelection(H(f,p,p+1)),i.view.dispatch(f),i.eventEmitter.emit("openPopup","link",i.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=a,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=Aa,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,a=n.imageUrl,i=n.altText,o=q(e.attrs);return r.src=a,i&&(r.alt=i),mn(o,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),X9="toastui-editor-ww-code-block",Q9="toastui-editor-ww-code-block-language",K9=function(){function t(e,r,n,a){var i=this;this.dom=null,this.contentDOM=null,this.input=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&re(i.getPos)){var u=i.view.coordsAtPos(i.getPos()),c=u.top,v=u.right;i.createLanguageEditor({top:c,right:v})}},this.handleKeydown=function(o){o.key==="Enter"&&i.input&&(o.preventDefault(),i.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=a,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=X9;var n=this.createCodeBlockElement(),a=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=a},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,a=q(this.node.attrs);return n&&r.setAttribute("data-language",n),mn(a,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,a=e.right,i=document.createElement("span");i.className=Q9;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),document.querySelector(".toastui-editor.ww-mode").appendChild(i);var s=i.clientWidth;de(i,{top:n+10+"px",left:a-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),setTimeout(function(){return r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&re(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,Ee(r)}},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),Z9=/MsoListParagraph/,bs=/style=(.|\n)*mso-/,ws=/mso-list:(.*)/,Y9=/O:P/,J9=/^(n|u|l)/,eX="p.MsoListParagraph";function tX(t){return bs.test(t)}function rX(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(Qt(n)){var a=n,i=a.outerHTML,o=a.textContent,s=bs.test(i),l=ws.test(i);s&&!l&&o?e.push([n,!0]):(Y9.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],v=u[1];v?Bu(c):Ee(c)}),t.innerHTML.trim()}function nX(t,e){var r=t.getAttribute("style");if(r){var n=r.match(ws),a=n[1],i=a.trim().split(" "),o=i[1],s=parseInt(o.replace("level",""),10),l=J9.test(t.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:rX(t)}}return null}function aX(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function iX(t){var e=[];return t.forEach(function(r,n){var a=e[n-1],i=nX(r,n);i&&(a&&aX(i,a),e.push(i))}),e}function Cs(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var a=n.children,i=n.contents,o=document.createElement("li");o.innerHTML=i,r.appendChild(o),a.length&&r.appendChild(Cs(a))}),r}function oX(t){var e=iX(t),r=e.filter(function(n){var a=n.parent;return!a});return Cs(r)}function sX(t){for(;t&&!Qt(t);)t=t.nextSibling;return t?!Z9.test(t.className):!0}function lX(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=dn(e,eX);n.forEach(function(i){var o=sX(i.nextSibling);if(r.push(i),o){var s=oX(r),l=i.nextSibling;l?Ru(s,l):Nu(e,s),r=[]}Ee(i)});var a=n.length?"<p></p>":"";return""+a+e.innerHTML}var Oa="<!--StartFragment-->",uX="<!--EndFragment-->";function cX(t){var e=t.indexOf(Oa),r=t.lastIndexOf(uX);return e>-1&&r>-1&&(t=t.slice(e+Oa.length,r)),t}function vX(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function fX(t){return t=cX(t),t=vX(t),tX(t)&&(t=lX(t)),t}function dX(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function ks(t,e,r){for(var n=[],a=t.childCount,i=0;i<a;i+=1)if(!t.child(i).attrs.extended){var o=i<a?r.create(t.child(i).attrs,t.child(i).content):r.createAndFill();n.push(o)}return n}function Ts(t,e,r){var n=r.nodes,a=n.tableRow,i=n.tableHeadCell,o=ks(t,e,i);return a.create(null,o)}function xs(t,e,r){var n=r.nodes,a=n.tableRow,i=n.tableBodyCell,o=ks(t,e,i);return a.create(null,o)}function pX(t,e){for(var r=e.nodes,n=r.tableRow,a=r.tableBodyCell,i=[],o=0;o<t;o+=1){var s=a.createAndFill();i.push(s)}return n.create({dummyRowForPasting:!0},i)}function Es(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(i){return e.push(i)})}if(t.lastChild.type.name==="tableBody"){var a=t.lastChild;a.forEach(function(i){return r.push(i)})}return Z(Z([],e),r)}function hX(t,e,r){var n=Ts(t,e,r);return r.nodes.tableHead.create(null,n)}function Ia(t,e,r){var n=t.map(function(i){return xs(i,e,r)});if(!t.length){var a=pX(e,r);n.push(a)}return r.nodes.tableBody.create(null,n)}function mX(t,e,r){var n=dX(t);if(r)return e.nodes.table.create(null,[Ia(t,n,e)]);var a=t[0],i=t.slice(1),o=[hX(a,n,e)];return i.length&&o.push(Ia(i,n,e)),e.nodes.table.create(null,o)}function gX(t,e){var r=[];return t.content.forEach(function(n){if(n.type.name==="table"){var a=ms(new le(D.from(n),0,0));if(a){var i=Es(a),o=a.firstChild.type.name==="tableBody",s=mX(i,e,o);r.push(s)}}else r.push(n)}),new le(D.from(r),0,0)}var yX=4,bX=2;function Lt(t){return t*yX}function wX(t,e,r){var n=[],a=Es(t),i=a[0].childCount,o=a.length,s=e.startRowIdx===0,l=a.slice(0,o);if(s){var u=l.shift();if(u){var c=Ts(u,i,r).content;n.push(c)}}return l.forEach(function(v){if(!v.attrs.dummyRowForPasting){var f=xs(v,i,r).content;n.push(f)}}),n}function CX(t,e,r){for(var n=e.startRowIdx,a=e.startColIdx,i=r.length,o=0,s=function(p){var d=r[p].childCount;r[p].forEach(function(h){var m=h.attrs,g=m.colspan;g>1&&(d+=g-1)}),o=Math.max(o,d)},l=0;l<i;l+=1)s(l);var u=n+i-1,c=a+o-1,v=Math.max(u+1-t.totalRowCount,0),f=Math.max(c+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:a,endRowIdx:u,endColIdx:c,addedRowCount:v,addedColumnCount:f}}function kX(t,e){for(var r=t.startRowIdx,n=t.startColIdx,a=t.endRowIdx,i=t.endColIdx,o=t.addedRowCount,s=t.addedColumnCount,l=r;l<=a-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:i-s})}function TX(t,e,r,n,a){for(var i=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,v=r.totalRowCount,f=0,p=0;p<v;p+=1){var d=r.getCellInfo(p,l-c),h=d.offset,m=d.nodeSize,g=t.mapping.map(h+m),b=Et(c,p,e);if(t.insert(g,b),p>=i&&p<=s-u){var w=r.getCellInfo(p,l-c),C=t.mapping.map(w.offset),k=g+Lt(c);a[f]={rowIdx:p,startColIdx:o,endColIdx:l,dummyOffsets:[C,k]},f+=1}}}function xX(t,e,r,n,a){var i=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=t.mapping.maps.length,c=r.tableEndOffset-2,v=ds(i,r.totalColumnCount+o,e),f=c;t.insert(t.mapping.slice(u).map(f),v);for(var p=0;p<i;p+=1){var d=f+Lt(s)+1,h=f+Lt(l+1)+1,m=f+Lt(r.totalColumnCount+o)+bX;a.push({rowIdx:p+r.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[d,h]}),f=m}}function EX(t,e,r,n){var a=t.mapping.maps.length;r.forEach(function(i,o){var s=i.rowIdx,l=i.startColIdx,u=i.endColIdx,c=i.dummyOffsets,v=t.mapping.slice(a),f=new le(e[o],0,0),p=c?c[0]:n.getCellStartOffset(s,l),d=c?c[1]:n.getCellEndOffset(s,u);t.replace(v.map(p),v.map(d),f)})}function LX(t,e){var r=t.state,n=r.selection,a=r.schema,i=r.tr,o=he(n),s=o.anchor,l=o.head;if(s&&l){var u=ms(e);if(!u)return!1;var c=W.create(s),v=c.getRectOffsets(s,l),f=wX(u,v,a),p=CX(c,v,f),d=[];return SX(c,p)&&(kX(p,d),p.addedColumnCount&&TX(i,a,c,p,d),p.addedRowCount&&xX(i,a,c,p,d),EX(i,f,d,c),t.dispatch(i),MX(t,d,c.getCellInfo(0,0).offset)),!0}return!1}function MX(t,e,r){var n=t.state,a=n.tr,i=n.doc,o=W.create(i.resolve(r)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=G(e),v=c.rowIdx,f=c.endColIdx,p=o.getCellInfo(l,u).offset,d=o.getCellInfo(v,f).offset;t.dispatch(a.setSelection(new On(i.resolve(p),i.resolve(d))))}function SX(t,e){var r=t.getSpannedOffsets(e),n=_e(r),a=n.rowCount,i=n.columnCount,o=_e(e),s=o.rowCount,l=o.columnCount;return a===s&&i===l}var AX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(R),OX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:y({},j()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",q(n),0]}}},enumerable:!1,configurable:!0}),e}(R),IX=/\s{1,4}$/,DX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var a=r.selection,i=r.tr,o=a.$from,s=a.$to,l=o.blockRange(s);return l&&!Qe(o)&&!Vr(o)?(n(i.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var a=r.selection,i=r.tr,o=a.$from,s=a.$to,l=a.from,u=o.blockRange(s);if(u&&!Qe(o)&&!Vr(o)){var c=o.nodeBefore;if(c&&c.isText){var v=c.text,f=v.replace(IX,""),p=v.length-f.length;return n(i.delete(l-p,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(R),NX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return y({level:n},i&&{rawHTML:i})}}});return{attrs:y({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},j()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var a=n.attrs;return["h"+a.level,q(a),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){return Fi(n.schema.nodes.heading,r)(n,a)}}},e}(R),RX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:y({language:{default:null},rawHTML:{default:null}},j()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),a=r.firstElementChild;return y({language:(a==null?void 0:a.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",y({"data-language":n.language},q(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Fi(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(a,i){var o=a.tr,s=a.doc,l=a.schema,u=a.selection.$from,c=n.context.view;if(c.endOfTextblock(r)&&u.node().type.name==="codeBlock"){var v=u.parent.textContent.split(`
`),f=r==="up"?u.start():u.end(),p=r==="up"?[f,v[0].length+f]:[f-G(v).length,f],d=s.resolve(r==="up"?u.before():u.after()),h=r==="up"?d.nodeBefore:d.nodeAfter;if(Yl(u.pos,p[0],p[1])&&!h){var m=ln(o,d,l);if(m)return i(m),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(R),BX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:y({rawHTML:{default:null}},j()),parseDOM:[rr("ul")],toDOM:function(r){var n=r.attrs;return["ul",q(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return fs(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:m9}},e.prototype.keymaps=function(){var r=this.changeList(),n=An(),a=n.indent,i=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:a(),"Shift-Tab":i()}},e}(R),HX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:y({order:{default:1},rawHTML:{default:null}},j()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),a=r.getAttribute("data-raw-html");return y({order:r.hasAttribute("start")?Number(n):1},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",y({start:n.order===1?null:n.order},q(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return fs(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=An(),a=n.indent,i=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:a(),"Shift-Tab":i()}},e}(R),PX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return y({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,a=n.task,i=n.checked;if(!a)return[n.rawHTML||"li",0];var o=["task-list-item"];return i&&o.push("checked"),[n.rawHTML||"li",y({class:o.join(" "),"data-task":a},i&&{"data-task-checked":i}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var a=r.selection,i=r.tr,o=r.schema,s=a.$from,l=a.empty,u=o.nodes.listItem,c=s.parent,v=s.node(-1);if(l&&!c.childCount&&v.type===u){if(s.index(-2)>=1)return i.delete(s.start(-1)-1,s.end(-1)),n(i),!0;var f=s.node(-3);if(f.type===u)return i.delete(s.start(-2)-1,s.end(-1)),n(i),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,a){return C9(n.schema.nodes.listItem)(n,a)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e}(R),qX=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:y({rawHTML:{default:null}},j()),content:"block+",group:"block",parseDOM:[rr("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",q(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Ks(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e}(R),$X={left:GX,right:WX,up:XX,down:QX};function FX(t,e,r){var n=r[0],a=r[1],i=e.resolve(t.before(n-1));return a===n&&!i.nodeBefore}function _X(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var a=t.node(r-1),i=a.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return i?!o:!1}r-=1}return!1}function UX(t,e,r,n,a){var i=e[0],o=e[1],s=e[2];if(t==="left"||t==="up"){if(a&&!FX(r,n,[i,o]))return!1;var l=r.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function VX(t,e,r,n,a){if(t==="right"||t==="down"){if(a&&!_X(r))return!1;var i=r.after(e),o=n.resolve(i).nodeAfter;if(o)return!1}return!0}function jX(t,e,r,n){var a=e[0],i=e[1],o=a+3,s=i>=o,l=s?a+1:i,u=UX(t,[i,o,l],r,n,s),c=VX(t,l,r,n,s);return u&&c}function Da(t,e,r){var n=r[0],a=r[1],i=e.getRowspanStartInfo(n,a),o=t==="up"&&n===0,s=t==="down"&&((i==null?void 0:i.count)>1?n+i.count-1:n)===e.totalRowCount-1;return o||s}function zX(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(Je.near(n,-1)):ln(t,n,r)}function Na(t,e,r){var n=t.doc.resolve(e.tableEndOffset);return n.nodeAfter?t.setSelection(Je.near(n,1)):ln(t,n,r)}function WX(t,e){var r=t[0],n=t[1],a=e.totalRowCount,i=e.totalColumnCount,o=n===i-1,s=r===a-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(r,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===i)&&(r+=1,l=0);var c=e.getCellInfo(r,l).offset;return c+2}return null}function GX(t,e){var r=t[0],n=t[1],a=e.totalColumnCount,i=n===0,o=r===0&&i;if(!o){n-=1,i&&(r-=1,n=a-1);var s=e.getCellInfo(r,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function XX(t,e){var r=t[0],n=t[1];if(r>0){var a=e.getCellInfo(r-1,n),i=a.offset,o=a.nodeSize;return i+o-2}return null}function QX(t,e){var r=t[0],n=t[1],a=e.totalRowCount;if(r<a-1){var i=r+1,o=e.getRowspanStartInfo(r,n);(o==null?void 0:o.count)>1&&(i+=o.count-1);var s=e.getCellInfo(i,n).offset;return s+2}return null}function Ra(t,e,r,n){var a=$X[t],i=a(r,n);if(i){var o=t==="right"||t==="down"?1:-1;return e.setSelection(Je.near(e.doc.resolve(i),o))}return null}function KX(t,e,r){var n=r[0],a=r[1];if(t==="up"||t==="down")return!1;var i=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,a),l=s.offset,u=s.nodeSize,c=t==="left"?i:o,v=t==="left"?l-2:l+u+3;return c===v}function ZX(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new Ws(n))}function YX(t,e,r){var n,a,i;return t==="up"?(n=r.startRowIdx,a=0,i=-1):(n=r.endRowIdx,a=e.totalColumnCount-1,i=e.getCellInfo(n,a).nodeSize+1),{targetRowIdx:n,insertColIdx:a,nodeSize:i}}function JX(t,e,r){var n=t.getCellInfo(e,0).offset,a=t.getCellInfo(e,r-1),i=a.offset,o=a.nodeSize;return{from:n,to:i+o}}var eQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:y({rawHTML:{default:null}},j()),parseDOM:[rr("table")],toDOM:function(r){var n=r.attrs;return["table",q(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,a){var i=r.rowCount,o=r.columnCount,s=r.data,l=n.schema,u=n.selection,c=n.tr,v=u.from,f=u.to,p=u.$from,d=v===f;if(d&&!Vr(p)){var h=l.nodes,m=h.tableHead,g=h.tableBody,b=s==null?void 0:s.slice(0,o),w=s==null?void 0:s.slice(o,s.length),C=M9(o,l,b),k=ds(i-1,o,l,w),E=l.nodes.table.create(null,[m.create(null,C),g.create(null,k)]);return a(c.replaceSelectionWith(E)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=W.create(a.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,c=H(i.delete(u,l),u);return n(i.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=he(i),u=l.anchor,c=l.head;if(u&&c){for(var v=W.create(u),f=v.getRectOffsets(u,c),p=r==="left"?f.startColIdx:f.endColIdx+1,d=_e(f).columnCount,h=v.totalRowCount,m=0;m<h;m+=1){var g=Et(d,m,s);o.insert(o.mapping.map(v.posAt(m,p)),g)}return a(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=he(a),s=o.anchor,l=o.head;if(s&&l){var u=W.create(s),c=u.getRectOffsets(s,l),v=u.totalColumnCount,f=u.totalRowCount,p=_e(c).columnCount,d=p===v;if(d)return!1;for(var h=c.startColIdx,m=c.endColIdx,g=i.mapping.maps.length,b=0;b<f;b+=1)for(var w=m;w>=h;w-=1){var C=u.getCellInfo(b,w),k=C.offset,E=C.nodeSize,L=i.mapping.slice(g).map(k),S=L+E;i.delete(L,S)}return n(i),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,a){var i=n.selection,o=n.schema,s=n.tr,l=he(i),u=l.anchor,c=l.head;if(u&&c){var v=W.create(u),f=v.totalColumnCount,p=v.getRectOffsets(u,c),d=_e(p).rowCount,h=YX(r,v,p),m=h.targetRowIdx,g=h.insertColIdx,b=h.nodeSize,w=m===0;if(!w){for(var C=[],k=s.mapping.map(v.posAt(m,g))+b,E=[],L=0;L<f;L+=1)E=E.concat(Et(1,m,o));for(var S=0;S<d;S+=1)C.push(o.nodes.tableRow.create(null,E));return a(s.insert(k,C)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=he(a),s=o.anchor,l=o.head;if(s&&l){var u=W.create(s),c=u.totalRowCount,v=u.totalColumnCount,f=u.getRectOffsets(s,l),p=_e(f).rowCount,d=f.startRowIdx,h=f.endRowIdx,m=d===0,g=p===c-1;if(g||m)return!1;for(var b=h;b>=d;b-=1){var w=JX(u,b,v),C=w.from,k=w.to;i.delete(C-1,k+1)}return n(i),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,a){var i=r.align,o=n.selection,s=n.tr,l=he(o),u=l.anchor,c=l.head;if(u&&c){for(var v=W.create(u),f=v.totalRowCount,p=v.getRectOffsets(u,c),d=p.startColIdx,h=p.endColIdx,m=0;m<f;m+=1)for(var g=d;g<=h;g+=1)if(!v.extendedRowspan(m,g)&&!v.extendedColspan(m,g)){var b=v.getNodeAndPos(m,g),w=b.node,C=b.pos,k=S9(w,{align:i});s.setNodeMarkup(C,null,k)}return a(s),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=he(i),u=l.anchor,c=l.head;if(u&&c){var v=W.create(u),f=v.getCellIndex(u),p=void 0;if(Da(r,v,f)?p=Na(o,v,s):p=Ra(r,o,f,v),p)return a(p),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(a,i){var o=a.selection,s=a.tr,l=a.doc,u=a.schema,c=o.$from,v=n.context.view;if(!v.endOfTextblock(r))return!1;var f=Be(c,function(w){var C=w.type;return C.name==="tableHeadCell"||C.name==="tableBodyCell"});if(f){var p=Be(c,function(w){var C=w.type;return C.name==="paragraph"}),d=f.depth;if(p&&jX(r,[d,p.depth],c,l)){var h=he(o).anchor,m=W.create(h),g=m.getCellIndex(h),b=void 0;if(KX(r,m,g)?b=ZX(s,c,d):Da(r,m,g)?r==="up"?b=zX(s,m,u):r==="down"&&(b=Na(s,m,u)):b=Ra(r,s,g,m),b)return i(b),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var a=r.schema,i=r.selection,o=r.tr,s=he(i),l=s.anchor,u=s.head,c=i instanceof Ye;if(l&&u&&!c){for(var v=W.create(l),f=v.getRectOffsets(l,u),p=f.startRowIdx,d=f.startColIdx,h=f.endRowIdx,m=f.endColIdx,g=p;g<=h;g+=1)for(var b=d;b<=m;b+=1)if(!v.extendedRowspan(g,b)&&!v.extendedColspan(g,b)){var w=v.getNodeAndPos(g,b),C=w.node,k=w.pos,E=Et(1,g,a,C.attrs);o.replaceWith(o.mapping.map(k),o.mapping.map(k+C.nodeSize),E)}return n(o),!0}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r}},e}(R),tQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:y({rawHTML:{default:null}},j()),parseDOM:[rr("thead")],toDOM:function(r){var n=r.attrs;return["thead",q(n),0]}}},enumerable:!1,configurable:!0}),e}(R),rQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:y({rawHTML:{default:null}},j()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),a=n[0].children.length,i=r.getAttribute("data-raw-html");return a?y({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",q(n),0]}}},enumerable:!1,configurable:!0}),e}(R),nQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:y({rawHTML:{default:null}},j()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,a=r.getAttribute("data-raw-html");return n?y({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",q(n),0]}}},enumerable:!1,configurable:!0}),e}(R),aQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:y({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},j()),isolating:!0,parseDOM:[us("th")],toDOM:function(r){var n=r.attrs,a=ls(n);return["th",y(y({},a),q(n)),0]}}},enumerable:!1,configurable:!0}),e}(R),iQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[us("td")],toDOM:function(r){var n=r.attrs,a=ls(n);return["td",a,0]}}},enumerable:!1,configurable:!0}),e}(R),oQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:y({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},j()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=r.getAttribute("src")||"",a=r.getAttribute("data-raw-html");return y({imageUrl:Ft(n),altText:r.getAttribute("alt")},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",y(y({src:n.imageUrl},n.altText&&{alt:n.altText}),q(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,a){var i=n.schema,o=n.tr,s=r,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=i.nodes.image.createAndFill(y({imageUrl:Cn(l)},u&&{altText:u}));return a(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(R),Ba=1,sQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:y({rawHTML:{default:null}},j()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",q(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,a){var i,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,c=n.schema.nodes,v=c.thematicBreak,f=c.paragraph,p=[v.create()],d=s.node(Ba),h=u.child(u.childCount-1)===d,m=u.resolve(s.after(Ba)),g=((i=s.nodeAfter)===null||i===void 0?void 0:i.type.name)===r.name;return(h||g)&&p.push(f.create()),a(n.tr.insert(m.pos,p).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(R),lQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return y({},i&&{rawHTML:i})}}});return{attrs:y({rawHTML:{default:null}},j()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"strong",q(a)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return ct(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(B),uQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return y({},i&&{rawHTML:i})}}});return{attrs:y({rawHTML:{default:null}},j()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"em",q(a)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return ct(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(B),cQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return y({},i&&{rawHTML:i})}}});return{attrs:y({rawHTML:{default:null}},j()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"del",q(a)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return ct(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(B),vQ=function(t){T(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:y({linkUrl:{default:""},linkText:{default:null},rawHTML:{default:null}},j()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var a=n.getAttribute("href")||"",i=n.getAttribute("data-raw-html");return y({linkUrl:Ft(a),linkText:n.textContent},i&&{rawHTML:i})}}],toDOM:function(n){var a=n.attrs;return[a.rawHTML||"a",y(y({href:a.linkUrl},r.linkAttributes),q(a))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,a){var i=r,o=i.linkUrl,s=i.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,v=n.selection,f=v.empty,p=v.from,d=v.to;if(p&&d&&o){var h={linkUrl:Cn(o),linkText:wo(l)},m=u.mark("link",h);if(f&&l){var g=K(u,l,m);c.replaceRangeWith(p,d,g)}else c.addMark(p,d,m);return a(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,a){return ct(n.schema.marks.link,r)(n,a)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(B),fQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:y({rawHTML:{default:null}},j()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return y({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",q(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return ct(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(B),dQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e}(R),pQ=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,parseDOM:[{tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,a){var i=r.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="frontMatter"?Zs(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(R);function hQ(t){return new ro([new AX,new OX,new DX,new NX,new RX,new BX,new HX,new PX,new qX,new eQ,new tQ,new rQ,new nQ,new aQ,new iQ,new oQ,new sQ,new lQ,new uQ,new cQ,new vQ(t),new fQ,new dQ,new pQ,new eo])}var mQ=x("contents"),gQ=function(t){T(e,t);function e(r,n){var a=t.call(this,r)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,v=c===void 0?!0:c,f=n.wwPlugins,p=f===void 0?[]:f,d=n.wwNodeViews,h=d===void 0?{}:d;return a.editorType="wysiwyg",a.el.classList.add("ww-mode"),a.toDOMAdaptor=i,a.linkAttributes=u,a.extraPlugins=p,a.pluginNodeViews=h,a.specs=a.createSpecs(),a.schema=a.createSchema(s),a.context=a.createContext(),a.keymaps=a.createKeymaps(v),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(y(y({},a.context),{view:a.view})),a.initEvent(),a}return e.prototype.createSpecs=function(){return hQ(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new Ri({nodes:y(y({},this.specs.nodes),r.nodes),marks:y(y({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return this.defaultPlugins.concat(Z([N9(),P9(this.eventEmitter),q9(),z9(this.eventEmitter)],this.createPluginProps()))},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,a=r.pluginNodeViews,i={};return a&&Object.keys(a).forEach(function(o){i[o]=function(s,l,u){return a[o](s,l,u,n)}}),i},e.prototype.createView=function(){var r=this,n=this,a=n.toDOMAdaptor,i=n.eventEmitter;return new Yr(this.el,{state:this.createState(),attributes:{class:mQ},nodeViews:y({customBlock:function(o,s,l){return new W9(o,s,l,a)},image:function(o,s,l){return new G9(o,s,l,i)},codeBlock:function(o,s,l){return new K9(o,s,l,i)},widget:Ji},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=r.view.state.applyTransaction(o).state;r.view.updateState(s),r.emitChangeEvent(o.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:fX,transformPasted:function(o){return gX(o,r.schema)},handlePaste:function(o,s,l){return LX(o,l)},handleKeyDown:function(o,s){return r.eventEmitter.emit("keydown",r.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l&&l.items;if(u){var c=Yi(u);c&&(s.preventDefault(),cn(r.eventEmitter,c,s.type))}return!1},keyup:function(o,s){return r.eventEmitter.emit("keyup",r.editorType,s),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,An())},e.prototype.getHTML=function(){return this.view.dom.innerHTML},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,a=r.to;return[n,a]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,a){var i=this.view.state,o=i.schema,s=i.tr,l=r.split(`
`),u=l.map(function(f){return Dt(o,Oe(f,o))}),c=new le(D.from(u),1,1),v=me(n)&&me(a)?s.replaceRange(n,a,c):s.replaceSelection(c);this.view.dispatch(v),this.focus()},e.prototype.deleteSelection=function(r,n){var a=this.view.state.tr,i=me(r)&&me(n)?a.deleteRange(r,n):a.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var a=this.view.state,i=a.doc,o=a.selection,s=o.from,l=o.to;return me(r)&&me(n)&&(s=r,l=n),i.textBetween(s,l,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var a=this.view.state,i=a.tr,o=a.doc;this.view.dispatch(i.replaceWith(0,o.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var a=this.view.state.tr,i=H(a,r,n);this.view.dispatch(a.setSelection(i).scrollIntoView())},e.prototype.addWidget=function(r,n,a){var i=this.view,o=i.dispatch,s=i.state;o(s.tr.setMeta("widget",{pos:a??s.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.schema,l=Oe(a,s);this.view.dispatch(o.replaceWith(r,n,l))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,a=n.doc,i=n.selection,o=r?a.resolve(r):i.$from,s=o.marks(),l=o.node(),u=o.start(),c=o.end(),v=l.type.name;if(s.length||v==="paragraph"){var f=s[s.length-1],p=function(d){return d.length?Y(d,f):!0};v=f?f.type.name:"text",l.forEach(function(d,h){var m=d.isText,g=d.nodeSize,b=d.marks,w=o.pos-u;m&&h<=w&&h+g>=w&&p(b)&&(u=u+h,c=u+g)})}return{range:[u,c],type:v}},e}(to),yQ=ue,bQ=At;function wQ(t){return!yQ(t)&&!bQ(t)}var CQ=wQ,kQ=CQ;function TQ(t){return kQ(t)&&t!==!1}var xQ=TQ,EQ=xQ;function LQ(t){return!EQ(t)}var MQ=LQ,Ha=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","change","caretChange","destroy","focus","blur","keydown","keyup"],Ls=function(){function t(){var e=this;this.events=new gs,this.eventTypes=Ha.reduce(function(r,n){return y(y({},r),{type:n})},{}),this.hold=!1,Ha.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),a=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),a.push(r),this.events.set(n.type,a)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this.getTypeInfo(e),i=this.events.get(a.type),o=[];return!this.hold&&i&&i.forEach(function(s){var l=s.apply(void 0,r);ue(l)||o.push(l)}),o},t.prototype.emitReduce=function(e,r){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var i=this.events.get(e);return!this.hold&&i&&i.forEach(function(o){var s=o.apply(void 0,Z([r],n));MQ(s)||(r=s)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!ue(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,a=this.getTypeInfo(e),i=a.type,o=a.namespace;i&&r?this.removeEventHandlerWithHandler(i,r):i&&!o?this.events.delete(i):!i&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var a=n.indexOf(r);n.indexOf(r)>=0&&n.splice(a,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],a=this.events.get(e);a&&(a.map(function(i){return i.namespace!==r&&n.push(i),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t}(),SQ=function(){function t(e,r,n,a){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=a,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t}();function Mt(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function zr(t,e){var r=t.schema,n=e.literal,a=n.match(ze);if(a){var i=a[1],o=a[3],s=(i||o).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[s]||r.nodes[s])}return!1}function Wr(t){var e=t.type;return Y(["text","strong","emph","strike","image","link","code"],e)}function tt(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(ze);if(n){var a=n[1],i=n[3],o=a||i;if(o)return Y(["ul","ol","li"],o.toLowerCase())}return!1}function AQ(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function wr(t,e){var r=document.createElement("div");r.innerHTML=t;var n=r.firstChild;return n.getAttribute(e)||""}function OQ(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(a){var i=a.toLowerCase();e[i]=t[r]})}),e}var IQ={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,a=t.schema.marks.link;if(r){var i=wr(n,"href");t.openMark(a.create({linkUrl:Ft(i),rawHTML:r}))}else t.closeMark(a)},img:function(t,e,r){var n=e.literal,a=wr(n,"src");if(a){var i=wr(n,"alt"),o=t.schema.nodes.image;t.addNode(o,y({rawHTML:r,imageUrl:Ft(a)},i&&{altText:i}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,a=e.prev,i=e.next;(n==null?void 0:n.type)==="paragraph"?(a&&!(a.type==="htmlInline"&&a.literal.match(oo))&&t.openNode(r),i&&t.closeNode()):(n==null?void 0:n.type)==="tableCell"&&(a&&(Wr(a)||zr(t,a))&&t.closeNode(),i&&(Wr(i)||zr(t,i))&&t.openNode(r))},pre:function(t,e,r){var n,a,i=document.createElement("div");i.innerHTML=e.literal;var o=(a=(n=i.firstChild)===null||n===void 0?void 0:n.firstChild)===null||a===void 0?void 0:a.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(Mt(o)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,a=n.bulletList,i=n.orderedList,o=n.paragraph,s=r==="ul"?a:i;r?(e.prev&&!tt(e.prev)&&t.closeNode(),t.openNode(s,{rawHTML:r})):(t.closeNode(),e.next&&!tt(e.next)&&t.openNode(o))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var a=t.schema.nodes,i=a.listItem,o=a.paragraph;if(r){var s=AQ(e);e.prev&&!tt(e.prev)&&t.closeNode(),t.openNode(i,y({rawHTML:r},s)),e.next&&!tt(e.next)&&t.openNode(o)}else e.prev&&!tt(e.prev)&&t.closeNode(),t.closeNode()}}},DQ=OQ(IQ);function Pa(t){return t.type==="htmlInline"&&/<br ?\/?>/.test(t.literal)}function Ms(t){we(t.childNodes).forEach(function(e){if(Qt(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&Ms(e)}})}var qa={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var a,i=r.entering;if(i){var o=t.schema.nodes.paragraph;((a=e.prev)===null||a===void 0?void 0:a.type)==="paragraph"&&(t.openNode(o,n),t.closeNode()),t.openNode(o,n)}else t.closeNode()},heading:function(t,e,r,n){var a=r.entering;if(a){var i=e,o=i.level,s=i.headingType;t.openNode(t.schema.nodes.heading,y({level:o,headingType:s},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,a=e,i=a.info,o=a.literal;t.openNode(n,y({language:i},r)),t.addText(Mt(o||"")),t.closeNode()},list:function(t,e,r,n){var a=r.entering;if(a){var i=t.schema.nodes,o=i.bulletList,s=i.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?t.openNode(o,n):t.openNode(s,y({order:c},n))}else t.closeNode()},item:function(t,e,r,n){var a=r.entering,i=t.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(a){var u=y(y(y({},s&&{task:s}),l&&{checked:l}),n);t.openNode(i,u)}else t.closeNode()},blockQuote:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var a=r.entering,i=r.skipChildren,o=t.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;a&&i&&i(),t.addNode(o,y(y({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var a=r.entering,i=t.schema.marks.strong;a?t.openMark(i.create(n)):t.closeMark(i)},emph:function(t,e,r,n){var a=r.entering,i=t.schema.marks.emph;a?t.openMark(i.create(n)):t.closeMark(i)},link:function(t,e,r,n){var a=r.entering,i=t.schema.marks.link,o=e,s=o.destination,l=o.title;if(a){var u=y(y({linkUrl:s},l&&{linkText:l}),n);t.openMark(i.create(u))}else t.closeMark(i)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!Pa(r)&&t.closeNode(),n&&!Pa(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var a=function(d){return d&&(Wr(d)||zr(t,d))};if(n){var i=t.schema.nodes,o=i.tableHeadCell,s=i.tableBodyCell,l=i.paragraph,u=e.parent.parent,c=u.type==="tableHead"?o:s,v=u.parent,f=v.columns[e.startIdx].align,p=y({},e.attrs);f&&(p.align=f),t.openNode(c,p),a(e.firstChild)&&t.openNode(l)}else a(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var a=r.entering,i=t.schema.marks.strike;a?t.openMark(i.create(n)):t.closeMark(i)},code:function(t,e,r,n){var a=t.schema.marks.code;t.openMark(a.create(n)),t.addText(Mt(e.literal||"")),t.closeMark(a)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,a=r.paragraph,i=e,o=i.info,s=i.literal;t.openNode(n,{info:o}),t.addText(Mt(s||"")),t.closeNode(),e.next||(t.openNode(a),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(ze),a=n[1],i=n[3],o=(a||i).toLowerCase(),s=t.schema.marks[o];if(s!=null&&s.spec.attrs.htmlInline)if(a){var l=Fr(r);t.openMark(s.create({htmlAttrs:l}))}else t.closeMark(s);else{var u=DQ[o];u&&u(t,e,a)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),a=r.match(ze),i=a[1],o=a[3],s=(i||o).toLowerCase(),l=t.schema.nodes[s];if(l!=null&&l.spec.attrs.htmlBlock){var u=Fr(r),c=is(e,s);t.addNode(l,{htmlAttrs:u,childrenHTML:c})}else n.innerHTML=r,Ms(n),t.convertByDOMParser(n)},customInline:function(t,e,r){var n=r.entering,a=r.skipChildren,i=e.info,o=t.schema;if(i.indexOf("widget")!==-1&&n){var s=Qi(e);a(),t.addNode(o.nodes.widget,{info:i},[o.text(Gi(i,s))])}}};function NQ(t){var e=Object.keys(t),r=y({},qa),n=new Mn({gfm:!0,nodeId:!0,convertors:t}),a=n.getConvertors();return e.forEach(function(i){var o=qa[i];o&&!Y(["htmlBlock","htmlInline"],i)&&(r[i]=function(s,l,u){u.origin=function(){return a[i](l,u)};var c=t[i](l,u),v;if(c){var f=Array.isArray(c)?c[0]:c,p=f.attributes,d=f.classNames;v={htmlAttrs:p,classNames:d}}o(s,l,u,v)})}),r}function RQ(t,e){return t.isText&&e.isText&&Tr.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var BQ=function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Tr.none}return t.prototype.top=function(){return G(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=G(r),a=this.schema.text(e,this.marks),i=n&&RQ(n,a);i?r[r.length-1]=i:r.push(a)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var a=e.createAndFill(r,n,this.marks);return a?(this.push(a),a):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=Tr.none);var e=this.stack.pop(),r=e.type,n=e.attrs,a=e.content;return this.addNode(r,n,a)},t.prototype.convertByDOMParser=function(e){var r=this,n=Bi.fromSchema(this.schema).parse(e);n.content.forEach(function(a){return r.push(a)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var a=this.stack.length-1,i=a;i>=0;i-=1){var o=this.stack[i];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),a=n.next(),i=function(){var s=a.node,l=a.entering,u=o.convertors[s.type],c=!1;if(u){var v={entering:l,leaf:!ou(s),getChildrenText:su,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,v),(r==null?void 0:r.node)===s){var f=o.stack.reduce(function(p,d){return p+d.content.reduce(function(h,m){return h+m.nodeSize},0)},0)+1;r.setMappedPos(f)}}c&&(n.resumeAt(s,!1),n.next()),a=n.next()},o=this;a;)i()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t}();function HQ(t,e,r){var n=r[0],a=r[1];t.write(n),t.convertInline(e),t.write(a)}function PQ(t,e,r){var n=e.node,a=e.parent,i=r[0],o=r[1];t.stopNewline=!0,t.write(i),t.convertNode(n),t.write(o),(a==null?void 0:a.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function qQ(t,e){var r=t.length,n="",a="";return e==="left"?(n=":",r-=1):e==="right"?(a=":",r-=1):e==="center"&&(n=":",a=":",r-=2),""+n+Ot("-",Math.max(r,3))+a}var Gr={text:function(t,e){var r,n=e.node;t.text((r=n.text)!==null&&r!==void 0?r:"")},paragraph:function(t,e){var r=e.node,n=e.parent,a=e.index,i=a===void 0?0:a;if(t.stopNewline)t.convertInline(r);else{var o=i===0,s=!o&&n.child(i-1),l=s&&s.childCount===0,u=i<n.childCount-1&&n.child(i+1),c=u&&u.type.name==="paragraph",v=r.childCount===0;v&&l?t.write(`<br>
`):v&&!l&&!o?t.write(`
`):(t.convertInline(r),c?t.write(`
`):t.closeBlock(r))}},heading:function(t,e,r){var n=e.node,a=r.delim,i=n.attrs.headingType;i==="atx"?(t.write(a+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(a),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,a=r.delim,i=r.text,o=a,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(i,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,a=e.parent,i=r.delim;(a==null?void 0:a.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(i,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,a=r.delim;t.convertList(n,Ot(" ",4),function(){return a+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,Ot(" ",4),function(a){var i=String(n+a);return i+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,a=n.task,i=n.checked;a&&t.write("["+(i?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,a=r.delim;t.write(a),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,a=r.delim,i=n.firstChild;t.convertNode(n);var o=a??"";!a&&i&&i.forEach(function(s){var l=s.textContent,u=s.attrs,c=qQ(l,u.align);o+="| "+c+" "}),t.write(o+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,a=r.delim,i=a===void 0?"| ":a;t.write(i),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,a=r.delim,i=a===void 0?"| ":a;t.write(i),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,a=r.delim,i=r.text,o=a,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(i,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,a=r.text;t.text(a,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=r.text;t.write(n)}};function $Q(t,e){var r=e.state,n=e.nodeInfo,a=e.params,i=a.rawHTML;i?Ie(t,["heading","codeBlock"])>-1?HQ(r,n.node,i):Ie(t,["image","thematicBreak"])>-1?r.write(i):PQ(r,n,i):Gr[t](r,n,a)}function $a(t,e){var r=t.text,n=/`+/g,a=0;if(t.isText&&r)for(var i=n.exec(r);i;)a=Math.max(a,i[0].length),i=n.exec(r);for(var o=a>0&&e>0?" `":"`",s=0;s<a;s+=1)o+="`";return a>0&&e<0&&(o+=" "),o}function ae(t){return t?["<"+t+">","</"+t+">"]:null}function rt(t){return t?"<"+t+">":null}function nt(t){return t?"</"+t+">":null}var at={heading:function(t){var e=t.node,r=e.attrs,n=r.level,a=Ot("#",n);return r.headingType==="setext"&&(a=n===1?"===":"---"),{delim:a,rawHTML:ae(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,a=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:ae(n.rawHTML),text:a}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:ae(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,a=r.attrs.rawHTML;return n&&(a=a||"ul"),{delim:"*",rawHTML:ae(a)}},orderedList:function(t,e){var r=t.node,n=e.inTable,a=r.attrs.rawHTML;return n&&(a=a||"ol"),{rawHTML:ae(a)}},listItem:function(t,e){var r=t.node,n=e.inTable,a=r.attrs,i=a.task,o=a.checked,s=r.attrs.rawHTML;n&&(s=s||"li");var l=i?' class="task-list-item'+(o?" checked":"")+'"':"",u=i?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(t){var e=t.node;return{rawHTML:ae(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:ae(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:ae(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:ae(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:ae(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:ae(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=Tt(r.altText||""),a=Tt(r.imageUrl),i=n?' alt="'+n+'"':"";return{rawHTML:r.rawHTML?"<"+r.rawHTML+' src="'+a+'"'+i+">":null,attrs:{altText:n,imageUrl:a}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:rt(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,a=r.textContent;return{delim:["$$"+n.info,"$$"],text:a}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"**",rawHTML:n?rt(a):nt(a)}},emph:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"*",rawHTML:n?rt(a):nt(a)}},strike:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?rt(a):nt(a)}},link:function(t,e){var r=t.node,n=e.entering,a=r.attrs,i=Tt(a.linkUrl),o=a.rawHTML;if(n)return{delim:"[",rawHTML:o?"<"+o+' href="'+i+'">':null};var s=a.title?" "+Zl(a.linkText):"";return{delim:"]("+s+i+")",rawHTML:nt(o)}},code:function(t,e){var r=t.node,n=t.parent,a=t.index,i=a===void 0?0:a,o=e.entering,s=o?$a(n.child(i),-1):$a(n.child(i-1),1),l=o?rt(r.attrs.rawHTML):nt(r.attrs.rawHTML);return{delim:s,rawHTML:l}},html:function(t,e){var r=t.node,n=e.entering,a=r.type.name,i=r.attrs.htmlAttrs,o="<"+a,s="</"+a+">";return Object.keys(i).forEach(function(l){o+=" "+l+'="'+i[l]+'"'}),o+=">",r.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+r.attrs.childrenHTML+s}}},Fa={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function FQ(t){var e={},r=Object.keys(Gr);return r.forEach(function(n){e[n]=function(a,i){var o=Gr[n];if(o){var s=t[n],l=s?s(i,{inTable:a.inTable}):{};$Q(n,{state:a,nodeInfo:i,params:l})}}}),e}function _Q(t){var e={},r=Object.keys(Fa);return r.forEach(function(n){e[n]=function(a,i){var o=Fa[n],s=t[n],l=s&&a&&!ue(i),u=l?s(a,{entering:i}):{};return y(y({},u),o)}}),e}function UQ(t){var e=Object.keys(t);e.forEach(function(a){var i=at[a],o=t[a];i?at[a]=function(s,l){return l.origin=function(){return i(s,l)},o(s,l)}:at[a]=o,delete t[a]});var r=FQ(at),n=_Q(at);return{nodeTypeConvertors:r,markTypeConvertors:n}}var VQ=function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,a){var i=this.getMarkConvertor(e);if(i){var o=i({node:e,parent:n,index:a},r),s=o.delim,l=o.rawHTML;return l||s}return""},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var a=1;a<e;a+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,a){var i=this.delim;this.write(r||e),this.delim+=e,a(),this.delim=i,this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),a=0;a<n.length;a+=1)this.write(),this.result+=r?Tt(n[a]):n[a],a!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var a=e.type.name,i=this.nodeTypeConvertors[a],o={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},t.prototype.convertInline=function(e){var r=this,n=[],a="",i=function(o,s,l){var u=o?o.marks:[],c=a;a="";var v=o&&o.isText&&u.some(function($){var Q=r.getMarkConvertor($),ve=Q&&Q();return ve&&ve.removedEnclosingWhitespace});if(v&&o&&o.text){var f=/^(\s*)(.*?)(\s*)$/m.exec(o.text),p=f[1],d=f[2],h=f[3];c+=p,a=h,(p||h)&&(o=d?o.withText(d):null,o||(u=n))}for(var m=u.length&&G(u),g=m&&r.getMarkConvertor(m),b=g&&g(),w=b&&b.escape===!1,C=u.length-(w?1:0),k=0;k<C;k+=1){var d=u[k];if(b&&!b.mixable)break;for(var E=0;E<n.length;E+=1){var L=n[E];if(b&&!b.mixable)break;if(d.eq(L)){k>E?u=u.slice(0,E).concat(d).concat(u.slice(E,k)).concat(u.slice(k+1,C)):E>k&&(u=u.slice(0,k).concat(u.slice(k+1,E)).concat(d).concat(u.slice(E,C)));break}}}for(var S=0;S<Math.min(n.length,C)&&u[S].eq(n[S]);)S+=1;for(;S<n.length;){var N=n.pop();N&&r.text(r.markText(N,!1,e,l),!1)}if(c&&r.text(c),o){for(;n.length<C;){var d=u[n.length];n.push(d),r.text(r.markText(d,!0,e,l),!1)}w&&o.isText?r.text(r.markText(m,!0,e,l)+o.text+r.markText(m,!1,e,l+1),!1):r.convertBlock(o,e,l)}};e.forEach(i),i(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var a=this,i;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(i=e.attrs.tight)!==null&&i!==void 0?i:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,c){c&&o&&a.flushClose(1),a.wrapBlock(r,n(c),e,function(){return a.convertBlock(l,e,c)})}),this.tightList=s},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,a,i){if(Y(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,i),r.closed=!1;else if(r.convertInline(n),i<e.childCount-1){var o=e.child(i+1);o.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(a,i,o){if(n.convertBlock(a,e,o),(r==null?void 0:r.node)===a){var s=n.result.split(`
`);r.setMappedPos([s.length,G(s).length+1])}}),this.result},t}(),jQ=function(){function t(e,r,n,a){var i=this;this.setMappedPos=function(o){i.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=a,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=NQ(n),this.toMdConvertors=UQ(r||{}),this.eventEmitter.listen("setFocusedNode",function(o){return i.focusedNode=o})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new BQ(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new VQ(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function zQ(t,e,r){var n={Plugin:ce,Selection:Je,TextSelection:Ye},a={Decoration:Zr,DecorationSet:Kr},i={Fragment:D},o={eventEmitter:e,usageStatistics:r,pmState:n,pmView:a,pmModel:i,i18n:M};if(et(t)){var s=t[0],l=t[1],u=l===void 0?{}:l;return s(o,u)}return t(o)}function Ss(t,e,r){return e.listen("mixinTableOffsetMapPrototype",x9),(t??[]).reduce(function(n,a){var i=zQ(a,e,r);if(!i)throw new Error("The return value of the executed plugin is empty.");var o=i.markdownParsers,s=i.toHTMLRenderers,l=i.toMarkdownRenderers,u=i.markdownPlugins,c=i.wysiwygPlugins,v=i.wysiwygNodeViews,f=i.markdownCommands,p=i.wysiwygCommands,d=i.toolbarItems;return s&&(n.toHTMLRenderers=It(n.toHTMLRenderers,s)),l&&(n.toMarkdownRenderers=It(n.toMarkdownRenderers,l)),u&&(n.mdPlugins=n.mdPlugins.concat(u)),c&&(n.wwPlugins=n.wwPlugins.concat(c)),v&&(n.wwNodeViews=y(y({},n.wwNodeViews),v)),f&&(n.mdCommands=y(y({},n.mdCommands),f)),p&&(n.wwCommands=y(y({},n.wwCommands),p)),d&&(n.toolbarItems=n.toolbarItems.concat(d)),o&&(n.markdownParsers=y(y({},n.markdownParsers),o)),n},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var WQ="data-task",GQ="data-task-disabled",XQ="checked",As=function(){function t(e){var r=this;this.options=en({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new Ls;var n=ji(this.options.linkAttributes),a=Ss(this.options.plugins,this.eventEmitter,this.options.usageStatistics)||{},i=a.toHTMLRenderers,o=a.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,v=s.frontMatter,f=s.customHTMLSanitizer,p={linkAttributes:n,customHTMLRenderer:y(y({},i),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:v,sanitizer:f||as};this.options.events&&Ue(this.options.events,function(w,C){r.on(C,w)});var d=this.options,h=d.el,m=d.initialValue,g=d.theme,b=h.innerHTML;g!=="light"&&h.classList.add(x(g)),h.innerHTML="",this.toastMark=new ts("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:v,customParser:o}),this.preview=new ss(this.eventEmitter,y(y({},p),{isViewer:!0})),To(this.preview.el,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):b&&this.preview.setHTML(b),h.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(GQ)&&r.hasAttribute(WQ)&&fn(n,e.offsetX,e.offsetY)&&pn(r,XQ)},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,a=G(r),i=[n,a.length+1],o=this.toastMark.editMarkdown([1,1],i,e||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){ko(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function St(t){return t instanceof Vs}function Os(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Y(e,t)}function QQ(t){var e=t.attrs,r=t.type,n=r.name,a={type:n,wysiwygNode:!0,literal:!Os(n)&&St(t)?t.textContent:null},i={heading:{level:e.level},link:{destination:e.linkUrl,title:e.linkText},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=i[n],s=y(y({},a),o),l=t.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?y(y({},s),{attrs:u,childrenHTML:c}):s}var KQ={openTag:function(t,e){var r=t,n=r.tagName,a=r.classNames,i=r.attributes,o=document.createElement(n),s={};a&&(o.className=a.join(" ")),i&&(s=y(y({},s),i)),mn(s,o),e.push(o)},closeTag:function(t,e){if(e.length>1){var r=e.pop();G(e).appendChild(r)}},html:function(t,e){G(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);G(e).appendChild(r)}},ZQ=function(){function t(e,r){var n=Sn(e,r),a=y(y({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(a)),this.renderer=new Mn({gfm:!0,convertors:y(y({},n),a)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=QQ(e),n={entering:!0,leaf:St(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return St(e)?e.textContent:""},skipChildren:function(){return!1}},a=this.convertors[e.type.name],i=a(r,n,this.convertors),o=et(i)?i:[i];return(Os(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:St(e)?e.textContent:""}),o=o.concat(a(r,n,this.convertors))),o},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(a){return KQ[a.type](a,n)}),n[0]},t.prototype.getToDOMNode=function(e){return Y(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t}(),YQ=100,JQ=15,Ct=null,Cr=null;function _a(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;Cr&&clearTimeout(Cr),r(t),Cr=setTimeout(function(){n()},JQ)}function e7(t,e,r){var n=e-t,a=Date.now(),i=function(){var o=Date.now(),s=(o-a)/YQ,l;Ct&&clearTimeout(Ct),s<1?(l=t+n*Math.cos((1-s)*Math.PI/2),_a(Math.ceil(l),r),Ct=setTimeout(i,1)):(_a(e,r),Ct=null)};i()}var t7=18,r7=function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0;var a=r.previewContent,i=r.el;this.previewRoot=a,this.previewEl=i,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),a=n.index;return this.toastMark.findFirstNodeAtLine(a+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,a=gr(r).el,i=_t(a,this.previewRoot)||a.offsetTop,o=a.clientHeight,s=i+o-n*.5;this.latestEditorScrollTop=null;var l=a.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,a=r.previewEl,i=r.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,v=this.getMdNodeAtPos(c,u);if(!(!v||Jl(v))){var f=a.scrollTop,p=n.dom,d=p.scrollTop,h=p.scrollHeight,m=p.clientHeight,g=p.children,b=h-d<=m+t7,w=b?a.scrollHeight:0;if(d&&!b){if(e){var C=this.getScrollTopByCaretPos();if(!C)return;w=C}else{var k=gr(v),E=k.el,L=k.mdNode,S=Ma(c,L,g),N=S.height,$=S.rect,Q=_t(E,i)||E.offsetTop,ve=E.clientHeight,Us=l>$.top?Math.min((l-$.top)/N,1):0;w=Q+ve*Us}w=this.getResolvedScrollTop("editor",d,w,f),this.latestEditorScrollTop=d}w!==f&&this.run("editor",w,f)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,a=r.editorView,i=r.previewRoot,o=r.previewEl,s=a.dom,l=a.state,u=o.scrollTop,c=o.clientHeight,v=o.scrollHeight,f=v-u<=c,p=s.scrollTop,d=f?s.scrollHeight:0;if(u&&e&&!f){if(e=e9(e,i),!e.getAttribute("data-nodeid"))return;var h=s.children,m=Number(e.getAttribute("data-nodeid")),g=gr(n.findNodeById(m)),b=g.mdNode,w=g.el,C=vt(b);d=h[C-1].offsetTop;var k=Ma(l.doc,b,h).height,E=l9(w,i,m),L=E.nodeHeight,S=E.offsetTop;d+=r9(u,S,L,k),d=this.getResolvedScrollTop("preview",u,d,p),this.latestPreviewScrollTop=u}d!==p&&this.run("preview",d,p)},t.prototype.getResolvedScrollTop=function(e,r,n,a){var i=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return i===null?n:i<r?Math.max(n,a):Math.min(n,a)},t.prototype.run=function(e,r,n){var a=this,i;e==="editor"?(i=this.previewEl,this.blockedScroll="preview"):(i=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return i.scrollTop=s},releaseEventBlock:function(){return a.blockedScroll=null}};e7(n,r,o)},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),Is=function(){function t(e){var r=this;this.initialHtml=e.el.innerHTML,e.el.innerHTML="",this.options=en({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,a=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,v=n.widgetRules,f=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.eventEmitter=new Ls,uu(v);var p=ji(this.options.linkAttributes);this.pluginInfo=Ss(this.options.plugins,this.eventEmitter,this.options.usageStatistics);var d=this.pluginInfo,h=d.toHTMLRenderers,m=d.toMarkdownRenderers,g=d.mdPlugins,b=d.wwPlugins,w=d.wwNodeViews,C=d.mdCommands,k=d.wwCommands,E=d.markdownParsers,L={linkAttributes:p,customHTMLRenderer:It(h,a),extendedAutolinks:i,referenceDefinition:o,frontMatter:s,sanitizer:f||as},S=new ZQ(p,L.customHTMLRenderer),N=G6(L.customHTMLRenderer,L.sanitizer,S);this.i18n=M,this.i18n.setCode(this.options.language),this.toastMark=new ts("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:E}),this.mdEditor=new uv(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:g}),this.preview=new ss(this.eventEmitter,y(y({},L),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new gQ(this.eventEmitter,{toDOMAdaptor:S,useCommandShortcut:u,htmlSchemaMap:N,linkAttributes:p,wwPlugins:b,wwNodeViews:w}),this.convertor=new jQ(this.wwEditor.getSchema(),y(y({},m),l),Sn(p,L.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHtml,!1),this.commandManager=new SQ(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&Gl(),this.scrollSync=new r7(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(C,k),this.options.hooks&&Ue(this.options.hooks,function($,Q){return r.addHook(Q,$)}),this.options.events&&Ue(this.options.events,function($,Q){return r.on(Q,$)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){this.on("needChangeMode",this.changeMode.bind(this)),hu(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,a=function(i,o){Object.keys(o).forEach(function(s){n.addCommand(i,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(i){return n.eventEmitter.emit("toggleScrollSync",i.active),!0}),a("markdown",e),a("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new As(e):new t(e)},t.setLanguage=function(e,r){M.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var a=this,i=function(o){o===void 0&&(o={});var s=(e==="markdown"?a.mdEditor:a.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,r,i)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=Pu(e);var a=Bi.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),r):this.wwEditor.setModel(a,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){e.isWysiwygMode()&&e.mdEditor.setMarkdown(e.convertor.toMarkdownText(e.wwEditor.getModel()))});var r=this.toastMark.getRootNode(),n=this.preview.getRenderer();return n.render(r).replace(/\sdata-nodeid="\d{1,}"/g,"").trim()},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;pe(e)&&(e==="auto"?(fe(r,"auto-height"),this.setMinHeight(this.getMinHeight())):(ie(r,"auto-height"),this.setMinHeight(e))),de(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){var r;this.minHeight=e;var n=this.options.el.clientHeight,a=((r=document.querySelector("."+x("main")))===null||r===void 0?void 0:r.clientHeight)||0,i=n-a,o=parseInt(e,10);o=Math.max(o-i,0),this.wwEditor.setMinHeight(o),this.mdEditor.setMinHeight(o),this.preview.setMinHeight(o)},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a)}else{var a=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&me(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t}();function n7(t){for(var e,r,n=arguments,a=1,i="",o="",s=[0],l=function(c){a===1&&(c||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:i):a===3&&(c||i)?(s[1]=c?n[c]:i,a=2):a===2&&i==="..."&&c?s[2]=sn(s[2]||{},n[c]):a===2&&i&&!c?(s[2]=s[2]||{})[i]=!0:a>=5&&(a===5?((s[2]=s[2]||{})[r]=c?i?i+n[c]:n[c]:i,a=6):(c||i)&&(s[2][r]+=c?i+n[c]:i)),i=""},u=0;u<t.length;u++){u&&(a===1&&l(),l(u));for(let c=0;c<t[u].length;c++)e=t[u][c],a===1?e==="<"?(l(),s=[s,"",null],a=3):i+=e:a===4?i==="--"&&e===">"?(a=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:e==='"'||e==="'"?o=e:e===">"?(l(),a=1):a&&(e==="="?(a=5,r=i,i=""):e==="/"&&(a<5||t[u][c+1]===">")?(l(),a===3&&(s=s[0]),a=s,(s=s[0]).push(this.apply(null,a.slice(1))),a=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),a=2):i+=e),a===3&&i==="!--"&&(a=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function a7(t){return typeof t=="boolean"||t instanceof Boolean}var i7=a7,o7=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t}(),se=function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new o7(this)},t.removalNodes=[],t}();function s7(t){return new se("TEXT_NODE",{nodeValue:t},[])}function Ua(t,e){var r=t;i7(t)||t==null?r=null:(pe(t)||me(t))&&(r=s7(String(t))),r&&e.push(r)}function l7(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=[];return r.forEach(function(i){Array.isArray(i)?i.forEach(function(o){Ua(o,a)}):Ua(i,a)}),new se(t,e||{},a)}var O=n7.bind(l7);function u7(t){return t===Object(t)}var c7=u7;function v7(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),Ns(e,{},t.props)),e}function Ds(t,e){t.node?e.removeChild(t.node):Ds(t.firstChild,e)}function f7(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var a=n.slice(2).toLowerCase();t.removeEventListener(a,e[n])}}else n!=="children"&&!r[n]&&!Du(t)&&t.removeAttribute(n)}),Ns(t,e,r,function(n){return!rn(e[n],r[n])})}var d7=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ns(t,e,r,n){Object.keys(r).forEach(function(a){if(!n||n(a))if(/^on/.test(a)){var i=a.slice(2).toLowerCase();t.addEventListener(i,r[a])}else a==="nodeValue"?t[a]=r[a]:a==="style"&&c7(r[a])?p7(t,e[a],r[a]):a!=="children"&&(r[a]===!1?t.removeAttribute(a):t.setAttribute(a,r[a]))})}function p7(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var a=r[n];t.style[n]=me(a)&&!d7.test(n)?a+"px":a})}function In(t){if(se.removalNodes.forEach(function(i){return ja(i)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)ja(t);else if(re(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var a=n.prevProps||{};n.updated(a)}}}}function Va(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function ja(t){if(!(!t||!t.parent)){if(t.node){var e=Va(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&f7(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(re(t.type)){var a=t.component;a.beforeDestroy&&a.beforeDestroy()}else{var e=Va(t);Ds(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function h7(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function Rs(t){for(var e=t;t&&!t.skip;){if(re(t.type)){var r=h7(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],za(t)}else t.node||(t.node=v7(t)),za(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function m7(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function za(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(i,o){var s=m7(r,i);s&&(i.old=r,i.parent=t,i.node=r.node,i.component=r.component,i.effect="U"),i&&!s&&(i.old=null,i.parent=t,i.node=null,i.effect="A"),r&&!s&&(se.removalNodes.push(r),r.effect="D"),r&&(r=r.next),o===0?t.firstChild=i:i&&(n.next=i),n=i});var a=G(e);if(!e.length)for(;r;)se.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&a;)r&&a.old!==r&&(se.removalNodes.push(r),r.effect="D",r=r.next)}function g7(t){t.effect="D",se.removalNodes=[t],In(),se.removalNodes=[]}function y7(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),se.removalNodes=[],Rs(e),In(e),e.next&&(e.next.skip=!1)}function b7(t,e){var r=new se(t.tagName.toLowerCase(),{},[e]);return r.node=t,se.removalNodes=[],Rs(r),In(r),function(){return g7(r.firstChild)}}var X=function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=y(y({},this.state),e);rn(this.state,r)||(this.state=r,y7(this))},t}(),w7=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,a=r.eventEmitter;return O(Wa||(Wa=A([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),x("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){a.emit("needChangeMode","markdown")},M.get("Markdown"),n==="wysiwyg"?" active":"",function(){a.emit("needChangeMode","wysiwyg")},M.get("WYSIWYG"))},e}(X),Wa;function C7(t,e){var r,n;e=e||0;function a(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return a}var k7=C7,T7=k7;function x7(t,e){var r,n=!0,a=function(c){t.apply(null,c),r=null},i,o,s;e=e||0,i=T7(a,e);function l(){if(s=Array.prototype.slice.call(arguments),n){a(s),n=!1;return}o=Number(new Date),r=r||o,i(s),o-r>=e&&a(s)}function u(){n=!0,r=null}return l.reset=u,l}var E7=x7,Bs=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(a,i){return a[0]===r?(n=i,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(r,n){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,a=t(n,r);~a&&n.splice(a,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,i=this.__entries__;a<i.length;a++){var o=i[a];r.call(n,o[1],o[0])}},e}()}(),Xr=typeof window<"u"&&typeof document<"u"&&window.document===document,Ut=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),L7=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ut):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),M7=2;function S7(t,e){var r=!1,n=!1,a=0;function i(){r&&(r=!1,t()),n&&s()}function o(){L7(i)}function s(){var l=Date.now();if(r){if(l-a<M7)return;n=!0}else r=!0,n=!1,setTimeout(o,e);a=l}return s}var A7=20,O7=["top","right","bottom","left","width","height","size","weight"],I7=typeof MutationObserver<"u",D7=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=S7(this.refresh.bind(this),A7)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Xr||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),I7?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Xr||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,a=O7.some(function(i){return!!~n.indexOf(i)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Hs=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},Ze=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ut},Ps=nr(0,0,0,0);function Vt(t){return parseFloat(t)||0}function Ga(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,a){var i=t["border-"+a+"-width"];return n+Vt(i)},0)}function N7(t){for(var e=["top","right","bottom","left"],r={},n=0,a=e;n<a.length;n++){var i=a[n],o=t["padding-"+i];r[i]=Vt(o)}return r}function R7(t){var e=t.getBBox();return nr(0,0,e.width,e.height)}function B7(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return Ps;var n=Ze(t).getComputedStyle(t),a=N7(n),i=a.left+a.right,o=a.top+a.bottom,s=Vt(n.width),l=Vt(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+i)!==e&&(s-=Ga(n,"left","right")+i),Math.round(l+o)!==r&&(l-=Ga(n,"top","bottom")+o)),!P7(t)){var u=Math.round(s+i)-e,c=Math.round(l+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return nr(a.left,a.top,s,l)}var H7=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ze(t).SVGGraphicsElement}:function(t){return t instanceof Ze(t).SVGElement&&typeof t.getBBox=="function"}}();function P7(t){return t===Ze(t).document.documentElement}function q7(t){return Xr?H7(t)?R7(t):B7(t):Ps}function $7(t){var e=t.x,r=t.y,n=t.width,a=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return Hs(o,{x:e,y:r,width:n,height:a,top:r,right:e+n,bottom:a+r,left:e}),o}function nr(t,e,r,n){return{x:t,y:e,width:r,height:n}}var F7=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nr(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=q7(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),_7=function(){function t(e,r){var n=$7(r);Hs(this,{target:e,contentRect:n})}return t}(),U7=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new Bs,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ze(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new F7(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ze(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new _7(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),qs=typeof WeakMap<"u"?new WeakMap:new Bs,$s=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=D7.getInstance(),n=new U7(e,r,this);qs.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){$s.prototype[t]=function(){var e;return(e=qs.get(this))[t].apply(e,arguments)}});var V7=function(){return typeof Ut.ResizeObserver<"u"?Ut.ResizeObserver:$s}(),j7=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=ge(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return O(Qa||(Qa=A([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},M.get("Headings"),[1,2,3,4,5,6].map(function(n){return O(Xa||(Xa=A([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,M.get("Heading"),n)}),M.get("Paragraph"))},e}(X),Xa,Qa,Fs=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return O(Za||(Za=A([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),x("tabs"),this.props.tabs.map(function(n){var a=n.name,i=n.text,o=r.props.activeTab===a;return O(Ka||(Ka=A([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return r.toggleTab(s,a)},M.get(i),o?"true":"false",o?"0":"-1",M.get(i))}))},e}(X),Ka,Za,z7="ui",W7=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(a){a===void 0&&(a="file");var i=n.refs.url;i.value="",n.refs.altText.value="",n.refs.file.value="",ie(i,"wrong"),n.setState({activeTab:a,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(a,i){i!==n.state.activeTab&&n.initialize(i)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(a){var i=a.target.files;i!=null&&i.length&&n.setState({file:i[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,a=this.refs.altText,i=" wrong";if(n!=null&&n.length){i="";var o=n.item(0),s=function(l,u){return r.props.execCommand("addImage",{imageUrl:l,altText:u||a.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,z7)}this.setState({fileNameElClassName:i})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,a=r.value,i=n.value||"image";if(ie(r,"wrong"),!a.length){fe(r,"wrong");return}a&&this.props.execCommand("addImage",{imageUrl:a,altText:i})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,a=n.activeTab,i=n.file,o=n.fileNameElClassName;return O(Ya||(Ya=A([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),M.get("Insert image"),Fs,this.tabs,a,this.toggleTab,a==="url"?"block":"none",M.get("Image URL"),function(s){return r.refs.url=s},a==="file"?"block":"none",M.get("Select image file"),x("file-name"),i?" has-file":o,this.showFileSelectBox,this.preventSelectStart,i?i.name:M.get("No file"),x("file-select-button"),this.showFileSelectBox,M.get("Choose a file"),this.changeFile,function(s){return r.refs.file=s},M.get("Description"),function(s){return r.refs.altText=s},x("button-container"),x("close-button"),this.props.hidePopup,M.get("Cancel"),x("ok-button"),this.execCommand,M.get("OK"))},e}(X),Ya,G7=function(t){T(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,a=r.refs.text;if(ie(n,"wrong"),ie(a,"wrong"),n.value.length<1){fe(n,"wrong");return}var i=ue(r.props.initialValues.linkUrl);if(i&&a.value.length<1){fe(a,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:a.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,a=r.linkText,i=this.refs.url,o=this.refs.text;ie(i,"wrong"),ie(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(fe(o,"disabled"),o.setAttribute("disabled","disabled")),i.value=n||"",o.value=a||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return O(Ja||(Ja=A([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),M.get("Insert link"),M.get("URL"),function(n){return r.refs.url=n},M.get("Link text"),function(n){return r.refs.text=n},x("button-container"),x("close-button"),this.props.hidePopup,M.get("Cancel"),x("ok-button"),this.execCommand,M.get("OK"))},e}(X),Ja,ei=20,ti=20,ri=5,ni=14,ai=5,ii=9,X7=1,Q7=1,oi=1,K7=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(a){var i=a.pageX,o=a.pageY,s=i-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(y({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*ei,height:(n+1)*ti}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/ei),rowIdx:Math.floor(n/ti)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,a=r.rowIdx,i=Math.max(n,ai),o=Math.max(a,ri);return n>=ai&&i<ii&&(i+=1),a>=ri&&o<ni&&(o+=1),{colIdx:i+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,a=r.height;return!n&&!a?{display:"none"}:{width:n-oi,height:a-oi,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var a=this.getRangeByOffset(r,n);return a.rowIdx=Math.min(Math.max(a.rowIdx,X7),ni),a.colIdx=Math.min(Math.max(a.colIdx,Q7),ii),a},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,a=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+a}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,a=r.rowIdx,i=[],o=0;o<a;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+x("table-cell")+(o>0?"":" header");s.push(O(si||(si=A(['<div class="','"></div>'],['<div class="','"></div>'])),u))}i.push(O(li||(li=A(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),x("table-row"),s))}return O(ui||(ui=A(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),x("table"),i)},e.prototype.render=function(){var r=this,n=this.getTableRange(),a=this.getSelectionAreaBound();return O(ci||(ci=A([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),M.get("Insert table"),x("table-selection"),function(i){return r.refs.tableEl=i},this.extendSelectionRange,this.execCommand,this.createTableArea(n),x("table-selection-layer"),a,x("table-description"),this.getDescription())},e}(X),si,li,ui,ci,Z7=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return r.eventEmitter.listen("closePopup",n.props.hidePopup),n}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.render=function(){var r=this;return O(vi||(vi=A(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e}(X),vi;function Qr(t){return pe(t)?J7(t):t}function Y7(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(a){return e.addEventListener("change",function(i){var o=i.target.checked;o?fe(t,"active"):ie(t,"active"),a("toggleScrollSync",{active:o})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function J7(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:M.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:M.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:M.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:M.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:M.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:M.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:M.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:M.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:M.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:M.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:M.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:M.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:M.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:M.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:M.get("Indent")};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:M.get("Outdent")};break;case"scrollSync":e=Y7();break;case"more":e={name:"more",className:"more",tooltip:M.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+x("toolbar-icons")),e}function Dn(t,e){var r=e.el,n=e.pos,a=e.popup,i=e.initialValues;switch(t){case"heading":return{render:function(o){return O(fi||(fi=A(["<"," ..."," />"],["<"," ..."," />"])),j7,o)},className:x("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(o){return O(di||(di=A(["<"," ..."," />"],["<"," ..."," />"])),G7,o)},className:x("popup-add-link"),fromEl:r,pos:n,initialValues:i};case"image":return{render:function(o){return O(pi||(pi=A(["<"," ..."," />"],["<"," ..."," />"])),W7,o)},className:x("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(o){return O(hi||(hi=A(["<"," ..."," />"],["<"," ..."," />"])),K7,o)},className:x("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return a?y({render:function(o){return O(mi||(mi=A(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Z7,o,a.body)},fromEl:r,pos:n},a):null;default:return null}}function jt(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function eK(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,a){n.push(a.map(function(o){return r(Qr(o))}));var i=n[(n.length||1)-1];return i&&jt(i),n},[])}function tK(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),jt(r)})}var fi,di,pi,hi,mi,rK=20,nK=function(t){T(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!ge(n.target,"."+x("popup"))&&!ge(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,a=n.show,i=n.info;if(a&&i.pos&&r.show!==a){var o=y({},i.pos),s=this.refs.el.offsetWidth,l=ge(this.refs.el,"."+x("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-rK),rn(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var r=this,n=this.props,a=n.info,i=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=a||{},c=u.className,v=c===void 0?"":c,f=u.style,p=u.render,d=u.initialValues,h=d===void 0?{}:d,m=y(y({display:i?"block":"none"},f),this.state.popupPos);return O(gi||(gi=A([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),x("popup"),v,m,function(g){return r.refs.el=g},x("popup-body"),p&&p({eventEmitter:s,show:i,hidePopup:o,execCommand:l,initialValues:h}))},e}(X),gi,yi=6;function Nn(t){return function(e){T(r,e);function r(n){var a=e.call(this,n)||this;return a.showTooltip=function(i){var o=a.props.item.tooltip;if(!a.props.disabled&&o){var s=a.getBound(i),l=s.left+yi+"px",u=s.top+yi+"px";de(a.props.tooltipRef.current,{display:"block",left:l,top:u}),a.props.tooltipRef.current.querySelector(".text").textContent=o}},a.hideTooltip=function(){de(a.props.tooltipRef.current,"display","none")},a.state={active:!1},a.addEvent(),a}return r.prototype.addEvent=function(){var n=this,a=this.props,i=a.item,o=a.eventEmitter;i.state&&o.listen("changeToolbarState",function(s){var l=s.toolbarState,u=!!l[i.state];n.setState({active:u})})},r.prototype.getBound=function(n){var a=co(n,ge(n,"."+x("toolbar"))),i=a.offsetLeft,o=a.offsetTop;return{left:i,top:n.offsetHeight+o}},r.prototype.render=function(){return O(bi||(bi=A([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound)},r}(X)}var bi,aK=80,iK=function(t){T(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,a=n.item,i=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=a.command,u=a.name,c=a.popup;if(l)i(l);else{var v=c?"customPopupBody":u,f=Dn(v,{el:r.refs.el,pos:s(r.refs.el),popup:c});f&&o(f)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,a=r.item;n&&n(a.name,hn(this.refs.el)+(a.hidden?aK:0))},e.prototype.render=function(){var r=this,n=this.props,a=n.hideTooltip,i=n.disabled,o=n.item,s=n.active,l=y({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return O(wi||(wi=A([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return r.refs.el=c},l,u,this.execCommand,this.showTooltip,a,!!i,o.text||o.tooltip||"",o.text||"")},e}(X),oK=Nn(iK),wi,sK=function(t){T(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=Dn("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,a=r.item;this.refs.el.appendChild(a.el),n&&n(a.name,hn(this.refs.el)),a.onMounted&&a.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,a=this.props,i=a.item,o=a.active,s=a.disabled;(r.active!==o||r.disabled!==s)&&((n=i.onUpdated)===null||n===void 0||n.call(i,{active:o,disabled:s}))},e.prototype.render=function(){var r=this,n=this.props,a=n.disabled,i=n.item,o={display:i.hidden?"none":"inline-block"},s=function(l){return a?null:l};return O(Ci||(Ci=A([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return r.refs.el=l},o,x("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(X),lK=Nn(sK),Ci,_s=function(t){T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,a=n.group,i=n.hiddenDivider,o=a.hidden?{display:"none"}:null,s=i?{display:"none"}:null;return O(Ti||(Ti=A([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),x("toolbar-group"),o,a.map(function(l){var u=l.el?lK:oK;return O(ki||(ki=A(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,r.props,l)}),x("toolbar-divider"),s)},e}(X),ki,Ti,uK=4,cK=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(a){var i=a.target;!ge(i,"."+x("dropdown-toolbar"))&&!ge(i,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=uK,y(y({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,a=n.showDropdown,i=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,c=o.hideTooltip,v=u.filter(function(d){return!d.hidden}),f=v.length?null:{display:"none"},p=a?null:{display:"none"};return O(Ei||(Ei=A([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),x("toolbar-group"),f,function(d){return r.refs.el=d},l.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,c,s,x("dropdown-toolbar"),y(y({},p),i),function(d){return r.refs.dropdownEl=d},v.length?v.map(function(d,h){var m;return O(xi||(xi=A([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),_s,d,h===v.length-1||((m=v[h+1])===null||m===void 0?void 0:m.hidden),r.props)}):null)},e}(X),vK=Nn(cK),xi,Ei,fK=50,dK=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(a,i){var o=n.props.eventEmitter;if(n.state.activeTab!==i){var s=i==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:i})}},n.setItemWidth=function(a,i){n.itemWidthMap[a]=i},n.setPopupInfo=function(a){n.setState({showPopup:!0,popupInfo:a})},n.openPopup=function(a,i){i===void 0&&(i={});var o=document.querySelector("."+x("toolbar-group")+" ."+a);if(o){var s=co(o,ge(o,"."+x("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=Dn(a,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:i});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(a,i){var o=n.props.eventEmitter;o.emit("command",a,i),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=eK(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new V7(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var a=r.groupIndex,i=r.itemIndex,o=this.initialItems[a];n=Qr(n),o?o.splice(i,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;Ve(this.initialItems,function(a){var i=!1;return Ve(a,function(o,s){return o.name===r?(i=!0,a.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!i})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=E7(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+x("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=uo(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,a,i){var o=function(l){var u=l.pop();u&&i.push(u)};if(r>1)o(a);else{var s=G(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,a=this.refs.el.clientWidth,i=this.refs.el.querySelector("."+x("toolbar-divider")),o=i?hn(i):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,v){var f=[],p=[];c.forEach(function(d,h){d.hidden||(n+=r.itemWidthMap[d.name],n>a-fK?(u||(r.movePrevItemToDropdownToolbar(h,s,f,p),u=!0),p.push(d)):f.push(d))}),f.length&&(jt(f),s.push(f)),p.length&&(jt(p),l.push(p)),v<r.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite"),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,a=n.editorType,i=n.previewStyle,o=n.eventEmitter,s=i!==r.previewStyle,l=a!==r.editorType;if(s||l){tK(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||i==="tab"&&a==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Ee(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,a=n.previewStyle,i=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,v=s.items,f=s.dropdownItems,p={eventEmitter:i,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&a==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},d=a==="tab"?{borderTopLeftRadius:0}:null;return O(Mi||(Mi=A([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),x("toolbar"),x("md-tab-container"),o==="wysiwyg"||a==="vertical"?"none":"block",Fs,this.tabs,c,this.toggleTab,x("defaultUI-toolbar"),function(h){return r.refs.el=h},d,v.map(function(h,m){var g;return O(Li||(Li=A([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),_s,h,m===v.length-1||((g=v[m+1])===null||g===void 0?void 0:g.hidden),r.setItemWidth,p)}),vK,Qr("more"),f,p,nK,l,u,i,this.hidePopup,this.execCommand)},e}(X),Li,Mi,pK=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(a){ge(a.target,"."+x("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var a=n.pos,i=n.menuGroups;r.setState({pos:a,menuGroups:i})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,a=n.pos,i=n.menuGroups;return a?i.reduce(function(o,s){var l=[];return s.forEach(function(u){var c=u.label,v=u.className,f=v===void 0?!1:v,p=u.disabled,d=u.onClick,h=function(){p||(d(),r.setState({pos:null}))};l.push(O(Si||(Si=A([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),h,p?" disabled":"",f,c))}),o.push(O(Ai||(Ai=A([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var r=y({display:this.state.pos?"block":"none"},this.state.pos);return O(Oi||(Oi=A(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),x("context-menu"),r,this.getMenuGroupElements())},e}(X),Si,Ai,Oi,hK=function(t){T(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var a=r.editorType,i=r.previewStyle;return n.state={editorType:a,previewStyle:i,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,a=r.mdEditor,i=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",a),this.refs.mdContainer.appendChild(i)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,a=n.eventEmitter,i=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,v=l.editorType,f=u?" hidden":"",p=x(v==="markdown"?"md-mode":"ww-mode"),d=x("md")+"-"+c+"-style",h=x([s!=="light",s+" "]);return O(Di||(Di=A([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),h,x("defaultUI"),f,function(m){return r.refs.el=m},dK,function(m){return r.toolbar=m},a,c,o,v,x("main"),p,function(m){return r.refs.editorSection=m},x("main-container"),x("md-container"),d,function(m){return r.refs.mdContainer=m},x("md-splitter"),x("ww-container"),function(m){return r.refs.wwContainer=m},!i&&O(Ii||(Ii=A(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),w7,a,v),pK,a)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e}(X),Ii,Di;(function(t){T(e,t);function e(r){var n,a=t.call(this,r)||this,i,o=b7(a.options.el,O(Ni||(Ni=A([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),hK,function(s){return i=s},a.eventEmitter,a.getEditorElements(),a.options.hideModeSwitch,a.options.toolbarItems,a.options.previewStyle,a.options.initialEditType,a.options.theme));return a.setMinHeight(a.options.minHeight),a.setHeight(a.options.height),a.defaultUI={insertToolbarItem:i.insertToolbarItem.bind(i),removeToolbarItem:i.removeToolbarItem.bind(i),destroy:o},(n=a.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;a.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),a}return e.factory=function(r){return r.viewer?new As(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e})(Is);var Ni;Is.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});
